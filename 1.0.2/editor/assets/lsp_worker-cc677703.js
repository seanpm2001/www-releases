(function(){"use strict";let z;const Ne=new Array(128).fill(void 0);Ne.push(void 0,null,!0,!1);function S(e){return Ne[e]}let ht=Ne.length;function Ii(e){e<132||(Ne[e]=ht,ht=e)}function Re(e){const t=S(e);return Ii(e),t}function mt(e){return e==null}let yt=null;function Hi(){return(yt===null||yt.byteLength===0)&&(yt=new Float64Array(z.memory.buffer)),yt}let _t=null;function he(){return(_t===null||_t.byteLength===0)&&(_t=new Int32Array(z.memory.buffer)),_t}let bt=null;function $i(){return(bt===null||bt.byteLength===0)&&(bt=new BigInt64Array(z.memory.buffer)),bt}function j(e){ht===Ne.length&&Ne.push(Ne.length+1);const t=ht;return ht=Ne[t],Ne[t]=e,t}let je=0,pt=null;function Ft(){return(pt===null||pt.byteLength===0)&&(pt=new Uint8Array(z.memory.buffer)),pt}const Wt=new TextEncoder("utf-8"),zi=typeof Wt.encodeInto=="function"?function(e,t){return Wt.encodeInto(e,t)}:function(e,t){const n=Wt.encode(e);return t.set(n),{read:e.length,written:n.length}};function nt(e,t,n){if(n===void 0){const u=Wt.encode(e),c=t(u.length);return Ft().subarray(c,c+u.length).set(u),je=u.length,c}let r=e.length,i=t(r);const o=Ft();let a=0;for(;a<r;a++){const u=e.charCodeAt(a);if(u>127)break;o[i+a]=u}if(a!==r){a!==0&&(e=e.slice(a)),i=n(i,r,r=a+e.length*3);const u=Ft().subarray(i+a,i+r),c=zi(e,u);a+=c.written}return je=a,i}const Lr=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});Lr.decode();function At(e,t){return Lr.decode(Ft().subarray(e,e+t))}function hn(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let o="[";i>0&&(o+=hn(e[0]));for(let a=1;a<i;a++)o+=", "+hn(e[a]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function Bi(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...a)=>{i.cnt++;const u=i.a;i.a=0;try{return r(u,i.b,...a)}finally{--i.cnt===0?z.__wbindgen_export_2.get(i.dtor)(u,i.b):i.a=u}};return o.original=i,o}function Ui(e,t,n){z._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__he6fabf27b9793464(e,t,j(n))}function vt(e,t){try{return e.apply(this,t)}catch(n){z.__wbindgen_exn_store(j(n))}}function Vi(e,t,n,r){z.wasm_bindgen__convert__closures__invoke2_mut__h31b1f60ff8211628(e,t,j(n),j(r))}function Ji(e,t,n,r,i){try{const c=z.__wbindgen_add_to_stack_pointer(-16);z.create(c,j(e),j(t),j(n),j(r),j(i));var o=he()[c/4+0],a=he()[c/4+1],u=he()[c/4+2];if(u)throw Re(a);return mn.__wrap(o)}finally{z.__wbindgen_add_to_stack_pointer(16)}}class mn{static __wrap(t){const n=Object.create(mn.prototype);return n.ptr=t,n}__destroy_into_raw(){const t=this.ptr;return this.ptr=0,t}free(){const t=this.__destroy_into_raw();z.__wbg_slintserver_free(t)}server_initialize_result(t){try{const o=z.__wbindgen_add_to_stack_pointer(-16);z.slintserver_server_initialize_result(o,this.ptr,j(t));var n=he()[o/4+0],r=he()[o/4+1],i=he()[o/4+2];if(i)throw Re(r);return Re(n)}finally{z.__wbindgen_add_to_stack_pointer(16)}}reload_document(t,n,r){const i=nt(t,z.__wbindgen_malloc,z.__wbindgen_realloc),o=je,a=z.slintserver_reload_document(this.ptr,i,o,j(n),r);return Re(a)}handle_request(t,n,r){const i=nt(n,z.__wbindgen_malloc,z.__wbindgen_realloc),o=je,a=z.slintserver_handle_request(this.ptr,j(t),i,o,j(r));return Re(a)}reload_config(){const t=z.slintserver_reload_config(this.ptr);return Re(t)}}async function Qi(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Xi(){const e={};return e.wbg={},e.wbg.__wbindgen_object_drop_ref=function(t){Re(t)},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return S(t)==S(n)},e.wbg.__wbindgen_boolean_get=function(t){const n=S(t);return typeof n=="boolean"?n?1:0:2},e.wbg.__wbindgen_is_bigint=function(t){return typeof S(t)=="bigint"},e.wbg.__wbindgen_number_get=function(t,n){const r=S(n),i=typeof r=="number"?r:void 0;Hi()[t/8+1]=mt(i)?0:i,he()[t/4+0]=!mt(i)},e.wbg.__wbg_isSafeInteger_8c4789029e885159=function(t){return Number.isSafeInteger(S(t))},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){const r=S(n),i=typeof r=="bigint"?r:void 0;$i()[t/8+1]=mt(i)?BigInt(0):i,he()[t/4+0]=!mt(i)},e.wbg.__wbindgen_bigint_from_i64=function(t){return j(t)},e.wbg.__wbindgen_jsval_eq=function(t,n){return S(t)===S(n)},e.wbg.__wbindgen_bigint_from_u64=function(t){const n=BigInt.asUintN(64,t);return j(n)},e.wbg.__wbindgen_string_get=function(t,n){const r=S(n),i=typeof r=="string"?r:void 0;var o=mt(i)?0:nt(i,z.__wbindgen_malloc,z.__wbindgen_realloc),a=je;he()[t/4+1]=a,he()[t/4+0]=o},e.wbg.__wbg_isArray_39d28997bf6b96b4=function(t){return Array.isArray(S(t))},e.wbg.__wbindgen_is_object=function(t){const n=S(t);return typeof n=="object"&&n!==null},e.wbg.__wbg_iterator_55f114446221aa5a=function(){return j(Symbol.iterator)},e.wbg.__wbindgen_in=function(t,n){return S(t)in S(n)},e.wbg.__wbg_length_e498fbc24f9c1d4f=function(t){return S(t).length},e.wbg.__wbg_getwithrefkey_5e6d9547403deab8=function(t,n){const r=S(t)[S(n)];return j(r)},e.wbg.__wbindgen_is_undefined=function(t){return S(t)===void 0},e.wbg.__wbg_get_27fe3dac1c4d0224=function(t,n){const r=S(t)[n>>>0];return j(r)},e.wbg.__wbindgen_is_string=function(t){return typeof S(t)=="string"},e.wbg.__wbg_new_abda76e883ba8a5f=function(){const t=new Error;return j(t)},e.wbg.__wbg_stack_658279fe44541cf6=function(t,n){const r=S(n).stack,i=nt(r,z.__wbindgen_malloc,z.__wbindgen_realloc),o=je;he()[t/4+1]=o,he()[t/4+0]=i},e.wbg.__wbg_error_f851667af71bcfc6=function(t,n){try{console.error(At(t,n))}finally{z.__wbindgen_free(t,n)}},e.wbg.__wbg_next_88560ec06a094dea=function(){return vt(function(t){const n=S(t).next();return j(n)},arguments)},e.wbg.__wbg_done_1ebec03bbd919843=function(t){return S(t).done},e.wbg.__wbg_value_6ac8da5cc5b3efda=function(t){const n=S(t).value;return j(n)},e.wbg.__wbg_get_baf4855f9a986186=function(){return vt(function(t,n){const r=Reflect.get(S(t),S(n));return j(r)},arguments)},e.wbg.__wbindgen_is_function=function(t){return typeof S(t)=="function"},e.wbg.__wbg_call_95d1ea488d03e4e8=function(){return vt(function(t,n){const r=S(t).call(S(n));return j(r)},arguments)},e.wbg.__wbg_next_b7d530c04fd8b217=function(t){const n=S(t).next;return j(n)},e.wbg.__wbg_length_27a2afe8ab42b09f=function(t){return S(t).length},e.wbg.__wbindgen_memory=function(){const t=z.memory;return j(t)},e.wbg.__wbg_buffer_cf65c07de34b9a08=function(t){const n=S(t).buffer;return j(n)},e.wbg.__wbg_new_537b7341ce90bb31=function(t){const n=new Uint8Array(S(t));return j(n)},e.wbg.__wbg_set_17499e8aa4003ebd=function(t,n,r){S(t).set(S(n),r>>>0)},e.wbg.__wbindgen_number_new=function(t){return j(t)},e.wbg.__wbg_entries_4e1315b774245952=function(t){const n=Object.entries(S(t));return j(n)},e.wbg.__wbg_instanceof_Uint8Array_01cebe79ca606cca=function(t){let n;try{n=S(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_ArrayBuffer_a69f02ee4c4f5065=function(t){let n;try{n=S(t)instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbindgen_string_new=function(t,n){const r=At(t,n);return j(r)},e.wbg.__wbindgen_object_clone_ref=function(t){const n=S(t);return j(n)},e.wbg.__wbindgen_error_new=function(t,n){const r=new Error(At(t,n));return j(r)},e.wbg.__wbg_String_88810dfeb4021902=function(t,n){const r=String(S(n)),i=nt(r,z.__wbindgen_malloc,z.__wbindgen_realloc),o=je;he()[t/4+1]=o,he()[t/4+0]=i},e.wbg.__wbg_new_b525de17f44a8943=function(){const t=new Array;return j(t)},e.wbg.__wbg_set_17224bc548dd1d7b=function(t,n,r){S(t)[n>>>0]=Re(r)},e.wbg.__wbg_new_f841cc6f2098f4b5=function(){return j(new Map)},e.wbg.__wbg_new_f9876326328f45ed=function(){const t=new Object;return j(t)},e.wbg.__wbg_set_388c4c6422704173=function(t,n,r){const i=S(t).set(S(n),S(r));return j(i)},e.wbg.__wbg_set_841ac57cff3d672b=function(t,n,r){S(t)[Re(n)]=Re(r)},e.wbg.__wbg_call_96878afb7a8201ca=function(){return vt(function(t,n,r,i){const o=S(t).call(S(n),S(r),S(i));return j(o)},arguments)},e.wbg.__wbg_call_9495de66fdbe016b=function(){return vt(function(t,n,r){const i=S(t).call(S(n),S(r));return j(i)},arguments)},e.wbg.__wbg_new_9d3a9ce4282a18a8=function(t,n){try{var r={a:t,b:n},i=(a,u)=>{const c=r.a;r.a=0;try{return Vi(c,r.b,a,u)}finally{r.a=c}};const o=new Promise(i);return j(o)}finally{r.a=r.b=0}},e.wbg.__wbindgen_debug_string=function(t,n){const r=hn(S(n)),i=nt(r,z.__wbindgen_malloc,z.__wbindgen_realloc),o=je;he()[t/4+1]=o,he()[t/4+0]=i},e.wbg.__wbindgen_throw=function(t,n){throw new Error(At(t,n))},e.wbg.__wbg_then_f753623316e2873a=function(t,n,r){const i=S(t).then(S(n),S(r));return j(i)},e.wbg.__wbg_resolve_fd40f858d9db1a04=function(t){const n=Promise.resolve(S(t));return j(n)},e.wbg.__wbg_then_ec5db6d509eb475f=function(t,n){const r=S(t).then(S(n));return j(r)},e.wbg.__wbindgen_cb_drop=function(t){const n=Re(t).original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbindgen_closure_wrapper2298=function(t,n,r){const i=Bi(t,n,107,Ui);return j(i)},e}function Gi(e,t){return z=e.exports,Fr.__wbindgen_wasm_module=t,bt=null,yt=null,_t=null,pt=null,z}async function Fr(e){typeof e>"u"&&(e=new URL(""+new URL("slint_lsp_wasm_bg-0822bc22.wasm",self.location.href).href,self.location));const t=Xi();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Qi(await e,t);return Gi(n,r)}var oe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yi(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var wt={},Zi={get exports(){return wt},set exports(e){wt=e}},Wr={},yn={},Me={},se={},It={},Ki={get exports(){return It},set exports(e){It=e}},ze={},_n={},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});let bn;function pn(){if(bn===void 0)throw new Error("No runtime abstraction layer installed");return bn}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");bn=n}e.install=t})(pn||(pn={})),Pe.default=pn;var vn={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0,function(t){function n(r){return{dispose:r}}t.create=n}(e.Disposable||(e.Disposable={}))})(vn);var Be={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;const t=Pe;(function(i){const o={dispose(){}};i.None=function(){return o}})(e.Event||(e.Event={}));class n{add(o,a=null,u){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(o),this._contexts.push(a),Array.isArray(u)&&u.push({dispose:()=>this.remove(o,a)})}remove(o,a=null){if(!this._callbacks)return;let u=!1;for(let c=0,d=this._callbacks.length;c<d;c++)if(this._callbacks[c]===o)if(this._contexts[c]===a){this._callbacks.splice(c,1),this._contexts.splice(c,1);return}else u=!0;if(u)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...o){if(!this._callbacks)return[];const a=[],u=this._callbacks.slice(0),c=this._contexts.slice(0);for(let d=0,m=u.length;d<m;d++)try{a.push(u[d].apply(c[d],o))}catch(w){(0,t.default)().console.error(w)}return a}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(o){this._options=o}get event(){return this._event||(this._event=(o,a,u)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(o,a);const c={dispose:()=>{this._callbacks&&(this._callbacks.remove(o,a),c.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(u)&&u.push(c),c}),this._event}fire(o){this._callbacks&&this._callbacks.invoke.call(this._callbacks,o)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}e.Emitter=r,r._noop=function(){}})(Be);var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.AbstractMessageBuffer=void 0;const xi=13,eo=10,to=`\r
`;class no{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){const n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(){if(this._chunks.length===0)return;let t=0,n=0,r=0,i=0;e:for(;n<this._chunks.length;){const c=this._chunks[n];for(r=0;r<c.length;){switch(c[r]){case xi:switch(t){case 0:t=1;break;case 2:t=3;break;default:t=0}break;case eo:switch(t){case 1:t=2;break;case 3:t=4,r++;break e;default:t=0}break;default:t=0}r++}i+=c.byteLength,n++}if(t!==4)return;const o=this._read(i+r),a=new Map,u=this.toString(o,"ascii").split(to);if(u.length<2)return a;for(let c=0;c<u.length-2;c++){const d=u[c],m=d.indexOf(":");if(m===-1)throw new Error("Message header must separate key and value using :");const w=d.substr(0,m),y=d.substr(m+1).trim();a.set(w,y)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){const o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){const o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}const n=this.allocNative(t);let r=0,i=0;for(;t>0;){const o=this._chunks[i];if(o.byteLength>t){const a=o.slice(0,t);n.set(a,r),r+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return n}}Ht.AbstractMessageBuffer=no,Object.defineProperty(_n,"__esModule",{value:!0});const Ar=Pe,rt=vn,ro=Be,io=Ht;class $t extends io.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return $t.emptyBuffer}fromString(t,n){return new TextEncoder().encode(t)}toString(t,n){return n==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t:t.slice(0,n)}allocNative(t){return new Uint8Array(t)}}$t.emptyBuffer=new Uint8Array(0);class oo{constructor(t){this.socket=t,this._onData=new ro.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Ar.default)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),rt.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),rt.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),rt.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}}class so{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),rt.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),rt.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),rt.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,n){if(typeof t=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}}const ao=new TextEncoder,Ir=Object.freeze({messageBuffer:Object.freeze({create:e=>new $t(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(ao.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new oo(e),asWritableStream:e=>new so(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function wn(){return Ir}(function(e){function t(){Ar.default.install(Ir)}e.install=t})(wn||(wn={})),_n.default=wn;var Rn={},Dn={},le={},Hr;function Rt(){if(Hr)return le;Hr=1,Object.defineProperty(le,"__esModule",{value:!0}),le.stringArray=le.array=le.func=le.error=le.number=le.string=le.boolean=void 0;function e(u){return u===!0||u===!1}le.boolean=e;function t(u){return typeof u=="string"||u instanceof String}le.string=t;function n(u){return typeof u=="number"||u instanceof Number}le.number=n;function r(u){return u instanceof Error}le.error=r;function i(u){return typeof u=="function"}le.func=i;function o(u){return Array.isArray(u)}le.array=o;function a(u){return o(u)&&u.every(c=>t(c))}return le.stringArray=a,le}var $r;function zr(){return $r||($r=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType=e.RequestType0=e.AbstractMessageSignature=e.ParameterStructures=e.ResponseError=e.ErrorCodes=void 0;const t=Rt();var n;(function(s){s.ParseError=-32700,s.InvalidRequest=-32600,s.MethodNotFound=-32601,s.InvalidParams=-32602,s.InternalError=-32603,s.jsonrpcReservedErrorRangeStart=-32099,s.serverErrorStart=-32099,s.MessageWriteError=-32099,s.MessageReadError=-32098,s.PendingResponseRejected=-32097,s.ConnectionInactive=-32096,s.ServerNotInitialized=-32002,s.UnknownErrorCode=-32001,s.jsonrpcReservedErrorRangeEnd=-32e3,s.serverErrorEnd=-32e3})(n=e.ErrorCodes||(e.ErrorCodes={}));class r extends Error{constructor(T,I,M){super(I),this.code=t.number(T)?T:n.UnknownErrorCode,this.data=M,Object.setPrototypeOf(this,r.prototype)}toJson(){const T={code:this.code,message:this.message};return this.data!==void 0&&(T.data=this.data),T}}e.ResponseError=r;class i{constructor(T){this.kind=T}static is(T){return T===i.auto||T===i.byName||T===i.byPosition}toString(){return this.kind}}e.ParameterStructures=i,i.auto=new i("auto"),i.byPosition=new i("byPosition"),i.byName=new i("byName");class o{constructor(T,I){this.method=T,this.numberOfParams=I}get parameterStructures(){return i.auto}}e.AbstractMessageSignature=o;class a extends o{constructor(T){super(T,0)}}e.RequestType0=a;class u extends o{constructor(T,I=i.auto){super(T,1),this._parameterStructures=I}get parameterStructures(){return this._parameterStructures}}e.RequestType=u;class c extends o{constructor(T,I=i.auto){super(T,1),this._parameterStructures=I}get parameterStructures(){return this._parameterStructures}}e.RequestType1=c;class d extends o{constructor(T){super(T,2)}}e.RequestType2=d;class m extends o{constructor(T){super(T,3)}}e.RequestType3=m;class w extends o{constructor(T){super(T,4)}}e.RequestType4=w;class y extends o{constructor(T){super(T,5)}}e.RequestType5=y;class h extends o{constructor(T){super(T,6)}}e.RequestType6=h;class P extends o{constructor(T){super(T,7)}}e.RequestType7=P;class H extends o{constructor(T){super(T,8)}}e.RequestType8=H;class te extends o{constructor(T){super(T,9)}}e.RequestType9=te;class E extends o{constructor(T,I=i.auto){super(T,1),this._parameterStructures=I}get parameterStructures(){return this._parameterStructures}}e.NotificationType=E;class V extends o{constructor(T){super(T,0)}}e.NotificationType0=V;class J extends o{constructor(T,I=i.auto){super(T,1),this._parameterStructures=I}get parameterStructures(){return this._parameterStructures}}e.NotificationType1=J;class ae extends o{constructor(T){super(T,2)}}e.NotificationType2=ae;class _e extends o{constructor(T){super(T,3)}}e.NotificationType3=_e;class ne extends o{constructor(T){super(T,4)}}e.NotificationType4=ne;class fe extends o{constructor(T){super(T,5)}}e.NotificationType5=fe;class D extends o{constructor(T){super(T,6)}}e.NotificationType6=D;class L extends o{constructor(T){super(T,7)}}e.NotificationType7=L;class A extends o{constructor(T){super(T,8)}}e.NotificationType8=A;class F extends o{constructor(T){super(T,9)}}e.NotificationType9=F,function(s){function T($){const Z=$;return Z&&t.string(Z.method)&&(t.string(Z.id)||t.number(Z.id))}s.isRequest=T;function I($){const Z=$;return Z&&t.string(Z.method)&&$.id===void 0}s.isNotification=I;function M($){const Z=$;return Z&&(Z.result!==void 0||!!Z.error)&&(t.string(Z.id)||t.number(Z.id)||Z.id===null)}s.isResponse=M}(e.Message||(e.Message={}))}(Dn)),Dn}var Tn={},Br;function Ur(){return Br||(Br=1,function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=void 0;var n;(function(o){o.None=0,o.First=1,o.AsOld=o.First,o.Last=2,o.AsNew=o.Last})(n=e.Touch||(e.Touch={}));class r{constructor(){this[t]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(a){return this._map.has(a)}get(a,u=n.None){const c=this._map.get(a);if(c)return u!==n.None&&this.touch(c,u),c.value}set(a,u,c=n.None){let d=this._map.get(a);if(d)d.value=u,c!==n.None&&this.touch(d,c);else{switch(d={key:a,value:u,next:void 0,previous:void 0},c){case n.None:this.addItemLast(d);break;case n.First:this.addItemFirst(d);break;case n.Last:this.addItemLast(d);break;default:this.addItemLast(d);break}this._map.set(a,d),this._size++}return this}delete(a){return!!this.remove(a)}remove(a){const u=this._map.get(a);if(u)return this._map.delete(a),this.removeItem(u),this._size--,u.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const a=this._head;return this._map.delete(a.key),this.removeItem(a),this._size--,a.value}forEach(a,u){const c=this._state;let d=this._head;for(;d;){if(u?a.bind(u)(d.value,d.key,this):a(d.value,d.key,this),this._state!==c)throw new Error("LinkedMap got modified during iteration.");d=d.next}}keys(){const a=this._state;let u=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==a)throw new Error("LinkedMap got modified during iteration.");if(u){const d={value:u.key,done:!1};return u=u.next,d}else return{value:void 0,done:!0}}};return c}values(){const a=this._state;let u=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==a)throw new Error("LinkedMap got modified during iteration.");if(u){const d={value:u.value,done:!1};return u=u.next,d}else return{value:void 0,done:!0}}};return c}entries(){const a=this._state;let u=this._head;const c={[Symbol.iterator]:()=>c,next:()=>{if(this._state!==a)throw new Error("LinkedMap got modified during iteration.");if(u){const d={value:[u.key,u.value],done:!1};return u=u.next,d}else return{value:void 0,done:!0}}};return c}[(t=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size)return;if(a===0){this.clear();return}let u=this._head,c=this.size;for(;u&&c>a;)this._map.delete(u.key),u=u.next,c--;this._head=u,this._size=c,u&&(u.previous=void 0),this._state++}addItemFirst(a){if(!this._head&&!this._tail)this._tail=a;else if(this._head)a.next=this._head,this._head.previous=a;else throw new Error("Invalid list");this._head=a,this._state++}addItemLast(a){if(!this._head&&!this._tail)this._head=a;else if(this._tail)a.previous=this._tail,this._tail.next=a;else throw new Error("Invalid list");this._tail=a,this._state++}removeItem(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{const u=a.next,c=a.previous;if(!u||!c)throw new Error("Invalid list");u.previous=c,c.next=u}a.next=void 0,a.previous=void 0,this._state++}touch(a,u){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(u!==n.First&&u!==n.Last)){if(u===n.First){if(a===this._head)return;const c=a.next,d=a.previous;a===this._tail?(d.next=void 0,this._tail=d):(c.previous=d,d.next=c),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a,this._state++}else if(u===n.Last){if(a===this._tail)return;const c=a.next,d=a.previous;a===this._head?(c.previous=void 0,this._head=c):(c.previous=d,d.next=c),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a,this._state++}}}toJSON(){const a=[];return this.forEach((u,c)=>{a.push([c,u])}),a}fromJSON(a){this.clear();for(const[u,c]of a)this.set(u,c)}}e.LinkedMap=r;class i extends r{constructor(a,u=1){super(),this._limit=a,this._ratio=Math.min(Math.max(0,u),1)}get limit(){return this._limit}set limit(a){this._limit=a,this.checkTrim()}get ratio(){return this._ratio}set ratio(a){this._ratio=Math.min(Math.max(0,a),1),this.checkTrim()}get(a,u=n.AsNew){return super.get(a,u)}peek(a){return super.get(a,n.None)}set(a,u){return super.set(a,u,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=i}(Tn)),Tn}var kn={},Vr;function Jr(){return Vr||(Vr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const t=Pe,n=Rt(),r=Be;var i;(function(c){c.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),c.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None});function d(m){const w=m;return w&&(w===c.None||w===c.Cancelled||n.boolean(w.isCancellationRequested)&&!!w.onCancellationRequested)}c.is=d})(i=e.CancellationToken||(e.CancellationToken={}));const o=Object.freeze(function(c,d){const m=(0,t.default)().timer.setTimeout(c.bind(d),0);return{dispose(){m.dispose()}}});class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class u{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=i.None}}e.CancellationTokenSource=u}(kn)),kn}var Pn={},Qr;function co(){return Qr||(Qr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=void 0;const t=Pe,n=Rt(),r=Be;(function(u){function c(d){let m=d;return m&&n.func(m.listen)&&n.func(m.dispose)&&n.func(m.onError)&&n.func(m.onClose)&&n.func(m.onPartialMessage)}u.is=c})(e.MessageReader||(e.MessageReader={}));class i{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(c){this.errorEmitter.fire(this.asError(c))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(c){this.partialMessageEmitter.fire(c)}asError(c){return c instanceof Error?c:new Error(`Reader received error. Reason: ${n.string(c.message)?c.message:"unknown"}`)}}e.AbstractMessageReader=i;var o;(function(u){function c(d){let m,w;const y=new Map;let h;const P=new Map;if(d===void 0||typeof d=="string")m=d??"utf-8";else{if(m=d.charset??"utf-8",d.contentDecoder!==void 0&&(w=d.contentDecoder,y.set(w.name,w)),d.contentDecoders!==void 0)for(const H of d.contentDecoders)y.set(H.name,H);if(d.contentTypeDecoder!==void 0&&(h=d.contentTypeDecoder,P.set(h.name,h)),d.contentTypeDecoders!==void 0)for(const H of d.contentTypeDecoders)P.set(H.name,H)}return h===void 0&&(h=(0,t.default)().applicationJson.decoder,P.set(h.name,h)),{charset:m,contentDecoder:w,contentDecoders:y,contentTypeDecoder:h,contentTypeDecoders:P}}u.fromOptions=c})(o||(o={}));class a extends i{constructor(c,d){super(),this.readable=c,this.options=o.fromOptions(d),this.buffer=(0,t.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(c){this._partialMessageTimeout=c}get partialMessageTimeout(){return this._partialMessageTimeout}listen(c){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=c;const d=this.readable.onData(m=>{this.onData(m)});return this.readable.onError(m=>this.fireError(m)),this.readable.onClose(()=>this.fireClose()),d}onData(c){for(this.buffer.append(c);;){if(this.nextMessageLength===-1){const w=this.buffer.tryReadHeaders();if(!w)return;const y=w.get("Content-Length");if(!y)throw new Error("Header must provide a Content-Length property.");const h=parseInt(y);if(isNaN(h))throw new Error("Content-Length value must be a number.");this.nextMessageLength=h}const d=this.buffer.tryReadBody(this.nextMessageLength);if(d===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1;let m;this.options.contentDecoder!==void 0?m=this.options.contentDecoder.decode(d):m=Promise.resolve(d),m.then(w=>{this.options.contentTypeDecoder.decode(w,this.options).then(y=>{this.callback(y)},y=>{this.fireError(y)})},w=>{this.fireError(w)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,t.default)().timer.setTimeout((c,d)=>{this.partialMessageTimer=void 0,c===this.messageToken&&(this.firePartialMessage({messageToken:c,waitingTime:d}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}e.ReadableStreamMessageReader=a}(Pn)),Pn}var Cn={},Dt={},Xr;function uo(){if(Xr)return Dt;Xr=1,Object.defineProperty(Dt,"__esModule",{value:!0}),Dt.Semaphore=void 0;const e=Pe;class t{constructor(r=1){if(r<=0)throw new Error("Capacity must be greater than 0");this._capacity=r,this._active=0,this._waiting=[]}lock(r){return new Promise((i,o)=>{this._waiting.push({thunk:r,resolve:i,reject:o}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,e.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const r=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const i=r.thunk();i instanceof Promise?i.then(o=>{this._active--,r.resolve(o),this.runNext()},o=>{this._active--,r.reject(o),this.runNext()}):(this._active--,r.resolve(i),this.runNext())}catch(i){this._active--,r.reject(i),this.runNext()}}}return Dt.Semaphore=t,Dt}var Gr;function lo(){return Gr||(Gr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=void 0;const t=Pe,n=Rt(),r=uo(),i=Be,o="Content-Length: ",a=`\r
`;(function(m){function w(y){let h=y;return h&&n.func(h.dispose)&&n.func(h.onClose)&&n.func(h.onError)&&n.func(h.write)}m.is=w})(e.MessageWriter||(e.MessageWriter={}));class u{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(w,y,h){this.errorEmitter.fire([this.asError(w),y,h])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(w){return w instanceof Error?w:new Error(`Writer received error. Reason: ${n.string(w.message)?w.message:"unknown"}`)}}e.AbstractMessageWriter=u;var c;(function(m){function w(y){return y===void 0||typeof y=="string"?{charset:y??"utf-8",contentTypeEncoder:(0,t.default)().applicationJson.encoder}:{charset:y.charset??"utf-8",contentEncoder:y.contentEncoder,contentTypeEncoder:y.contentTypeEncoder??(0,t.default)().applicationJson.encoder}}m.fromOptions=w})(c||(c={}));class d extends u{constructor(w,y){super(),this.writable=w,this.options=c.fromOptions(y),this.errorCount=0,this.writeSemaphore=new r.Semaphore(1),this.writable.onError(h=>this.fireError(h)),this.writable.onClose(()=>this.fireClose())}async write(w){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(w,this.options).then(h=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(h):h).then(h=>{const P=[];return P.push(o,h.byteLength.toString(),a),P.push(a),this.doWrite(w,P,h)},h=>{throw this.fireError(h),h}))}async doWrite(w,y,h){try{return await this.writable.write(y.join(""),"ascii"),this.writable.write(h)}catch(P){return this.handleError(P,w),Promise.reject(P)}}handleError(w,y){this.errorCount++,this.fireError(w,y,this.errorCount)}end(){this.writable.end()}}e.WriteableStreamMessageWriter=d}(Cn)),Cn}var Sn={},Yr;function fo(){return Yr||(Yr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=Pe,n=Rt(),r=zr(),i=Ur(),o=Be,a=Jr();var u;(function(D){D.type=new r.NotificationType("$/cancelRequest")})(u||(u={}));var c;(function(D){function L(A){return typeof A=="string"||typeof A=="number"}D.is=L})(c=e.ProgressToken||(e.ProgressToken={}));var d;(function(D){D.type=new r.NotificationType("$/progress")})(d||(d={}));class m{constructor(){}}e.ProgressType=m;var w;(function(D){function L(A){return n.func(A)}D.is=L})(w||(w={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var y;(function(D){D[D.Off=0]="Off",D[D.Messages=1]="Messages",D[D.Compact=2]="Compact",D[D.Verbose=3]="Verbose"})(y=e.Trace||(e.Trace={})),function(D){D.Off="off",D.Messages="messages",D.Compact="compact",D.Verbose="verbose"}(e.TraceValues||(e.TraceValues={})),function(D){function L(F){if(!n.string(F))return D.Off;switch(F=F.toLowerCase(),F){case"off":return D.Off;case"messages":return D.Messages;case"compact":return D.Compact;case"verbose":return D.Verbose;default:return D.Off}}D.fromString=L;function A(F){switch(F){case D.Off:return"off";case D.Messages:return"messages";case D.Compact:return"compact";case D.Verbose:return"verbose";default:return"off"}}D.toString=A}(y=e.Trace||(e.Trace={}));var h;(function(D){D.Text="text",D.JSON="json"})(h=e.TraceFormat||(e.TraceFormat={})),function(D){function L(A){return n.string(A)?(A=A.toLowerCase(),A==="json"?D.JSON:D.Text):D.Text}D.fromString=L}(h=e.TraceFormat||(e.TraceFormat={}));var P;(function(D){D.type=new r.NotificationType("$/setTrace")})(P=e.SetTraceNotification||(e.SetTraceNotification={}));var H;(function(D){D.type=new r.NotificationType("$/logTrace")})(H=e.LogTraceNotification||(e.LogTraceNotification={}));var te;(function(D){D[D.Closed=1]="Closed",D[D.Disposed=2]="Disposed",D[D.AlreadyListening=3]="AlreadyListening"})(te=e.ConnectionErrors||(e.ConnectionErrors={}));class E extends Error{constructor(L,A){super(A),this.code=L,Object.setPrototypeOf(this,E.prototype)}}e.ConnectionError=E;var V;(function(D){function L(A){const F=A;return F&&n.func(F.cancelUndispatched)}D.is=L})(V=e.ConnectionStrategy||(e.ConnectionStrategy={}));var J;(function(D){D.Message=Object.freeze({createCancellationTokenSource(A){return new a.CancellationTokenSource}});function L(A){const F=A;return F&&n.func(F.createCancellationTokenSource)}D.is=L})(J=e.CancellationReceiverStrategy||(e.CancellationReceiverStrategy={}));var ae;(function(D){D.Message=Object.freeze({sendCancellation(A,F){return A.sendNotification(u.type,{id:F})},cleanup(A){}});function L(A){const F=A;return F&&n.func(F.sendCancellation)&&n.func(F.cleanup)}D.is=L})(ae=e.CancellationSenderStrategy||(e.CancellationSenderStrategy={}));var _e;(function(D){D.Message=Object.freeze({receiver:J.Message,sender:ae.Message});function L(A){const F=A;return F&&J.is(F.receiver)&&ae.is(F.sender)}D.is=L})(_e=e.CancellationStrategy||(e.CancellationStrategy={})),function(D){function L(A){const F=A;return F&&(_e.is(F.cancellationStrategy)||V.is(F.connectionStrategy))}D.is=L}(e.ConnectionOptions||(e.ConnectionOptions={}));var ne;(function(D){D[D.New=1]="New",D[D.Listening=2]="Listening",D[D.Closed=3]="Closed",D[D.Disposed=4]="Disposed"})(ne||(ne={}));function fe(D,L,A,F){const s=A!==void 0?A:e.NullLogger;let T=0,I=0,M=0;const $="2.0";let Z;const Xe=new Map;let Ae;const Ge=new Map,Ye=new Map;let lt,Se=new i.LinkedMap,qe=new Map,Ze=new Set,De=new Map,Q=y.Off,N=h.Text,f,R=ne.New;const O=new o.Emitter,_=new o.Emitter,ge=new o.Emitter,ve=new o.Emitter,Ie=new o.Emitter,Ke=F&&F.cancellationStrategy?F.cancellationStrategy:_e.Message;function Ot(l){if(l===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+l.toString()}function dn(l){return l===null?"res-unknown-"+(++M).toString():"res-"+l.toString()}function fn(){return"not-"+(++I).toString()}function dt(l,v){r.Message.isRequest(v)?l.set(Ot(v.id),v):r.Message.isResponse(v)?l.set(dn(v.id),v):l.set(fn(),v)}function Mr(l){}function xe(){return R===ne.Listening}function et(){return R===ne.Closed}function Te(){return R===ne.Disposed}function Oe(){(R===ne.New||R===ne.Listening)&&(R=ne.Closed,_.fire(void 0))}function b(l){O.fire([l,void 0,void 0])}function p(l){O.fire(l)}D.onClose(Oe),D.onError(b),L.onClose(Oe),L.onError(p);function C(){lt||Se.size===0||(lt=(0,t.default)().timer.setImmediate(()=>{lt=void 0,ke()}))}function ke(){if(Se.size===0)return;const l=Se.shift();try{r.Message.isRequest(l)?Er(l):r.Message.isNotification(l)?us(l):r.Message.isResponse(l)?cs(l):ls(l)}finally{C()}}const we=l=>{try{if(r.Message.isNotification(l)&&l.method===u.type.method){const v=l.params.id,k=Ot(v),q=Se.get(k);if(r.Message.isRequest(q)){const G=F?.connectionStrategy,re=G&&G.cancelUndispatched?G.cancelUndispatched(q,Mr):void 0;if(re&&(re.error!==void 0||re.result!==void 0)){Se.delete(k),De.delete(v),re.id=q.id,gn(re,l.method,Date.now()),L.write(re).catch(()=>s.error("Sending response for canceled message failed."));return}}const X=De.get(v);if(X!==void 0){X.cancel(),Or(l);return}else Ze.add(v)}dt(Se,l)}finally{C()}};function Er(l){if(Te())return;function v(B,K,U){const ce={jsonrpc:$,id:l.id};B instanceof r.ResponseError?ce.error=B.toJson():ce.result=B===void 0?null:B,gn(ce,K,U),L.write(ce).catch(()=>s.error("Sending response failed."))}function k(B,K,U){const ce={jsonrpc:$,id:l.id,error:B.toJson()};gn(ce,K,U),L.write(ce).catch(()=>s.error("Sending response failed."))}function q(B,K,U){B===void 0&&(B=null);const ce={jsonrpc:$,id:l.id,result:B};gn(ce,K,U),L.write(ce).catch(()=>s.error("Sending response failed."))}gs(l);const X=Xe.get(l.method);let G,re;X&&(G=X.type,re=X.handler);const ue=Date.now();if(re||Z){const B=l.id??String(Date.now()),K=Ke.receiver.createCancellationTokenSource(B);l.id!==null&&Ze.has(l.id)&&K.cancel(),l.id!==null&&De.set(B,K);try{let U;if(re)if(l.params===void 0){if(G!==void 0&&G.numberOfParams!==0){k(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${l.method} defines ${G.numberOfParams} params but received none.`),l.method,ue);return}U=re(K.token)}else if(Array.isArray(l.params)){if(G!==void 0&&G.parameterStructures===r.ParameterStructures.byName){k(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by name but received parameters by position`),l.method,ue);return}U=re(...l.params,K.token)}else{if(G!==void 0&&G.parameterStructures===r.ParameterStructures.byPosition){k(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by position but received parameters by name`),l.method,ue);return}U=re(l.params,K.token)}else Z&&(U=Z(l.method,l.params,K.token));const ce=U;U?ce.then?ce.then(me=>{De.delete(B),v(me,l.method,ue)},me=>{De.delete(B),me instanceof r.ResponseError?k(me,l.method,ue):me&&n.string(me.message)?k(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${me.message}`),l.method,ue):k(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,ue)}):(De.delete(B),v(U,l.method,ue)):(De.delete(B),q(U,l.method,ue))}catch(U){De.delete(B),U instanceof r.ResponseError?v(U,l.method,ue):U&&n.string(U.message)?k(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${U.message}`),l.method,ue):k(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,ue)}}else k(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${l.method}`),l.method,ue)}function cs(l){if(!Te())if(l.id===null)l.error?s.error(`Received response message without id: Error is: 
${JSON.stringify(l.error,void 0,4)}`):s.error("Received response message without id. No further error information provided.");else{const v=l.id,k=qe.get(v);if(hs(l,k),k!==void 0){qe.delete(v);try{if(l.error){const q=l.error;k.reject(new r.ResponseError(q.code,q.message,q.data))}else if(l.result!==void 0)k.resolve(l.result);else throw new Error("Should never happen.")}catch(q){q.message?s.error(`Response handler '${k.method}' failed with message: ${q.message}`):s.error(`Response handler '${k.method}' failed unexpectedly.`)}}}}function us(l){if(Te())return;let v,k;if(l.method===u.type.method){const q=l.params.id;Ze.delete(q),Or(l);return}else{const q=Ge.get(l.method);q&&(k=q.handler,v=q.type)}if(k||Ae)try{if(Or(l),k)if(l.params===void 0)v!==void 0&&v.numberOfParams!==0&&v.parameterStructures!==r.ParameterStructures.byName&&s.error(`Notification ${l.method} defines ${v.numberOfParams} params but received none.`),k();else if(Array.isArray(l.params)){const q=l.params;l.method===d.type.method&&q.length===2&&c.is(q[0])?k({token:q[0],value:q[1]}):(v!==void 0&&(v.parameterStructures===r.ParameterStructures.byName&&s.error(`Notification ${l.method} defines parameters by name but received parameters by position`),v.numberOfParams!==l.params.length&&s.error(`Notification ${l.method} defines ${v.numberOfParams} params but received ${q.length} arguments`)),k(...q))}else v!==void 0&&v.parameterStructures===r.ParameterStructures.byPosition&&s.error(`Notification ${l.method} defines parameters by position but received parameters by name`),k(l.params);else Ae&&Ae(l.method,l.params)}catch(q){q.message?s.error(`Notification handler '${l.method}' failed with message: ${q.message}`):s.error(`Notification handler '${l.method}' failed unexpectedly.`)}else ge.fire(l)}function ls(l){if(!l){s.error("Received empty message.");return}s.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(l,null,4)}`);const v=l;if(n.string(v.id)||n.number(v.id)){const k=v.id,q=qe.get(k);q&&q.reject(new Error("The received response has neither a result nor an error property."))}}function He(l){if(l!=null)switch(Q){case y.Verbose:return JSON.stringify(l,null,4);case y.Compact:return JSON.stringify(l);default:return}}function ds(l){if(!(Q===y.Off||!f))if(N===h.Text){let v;(Q===y.Verbose||Q===y.Compact)&&l.params&&(v=`Params: ${He(l.params)}

`),f.log(`Sending request '${l.method} - (${l.id})'.`,v)}else ft("send-request",l)}function fs(l){if(!(Q===y.Off||!f))if(N===h.Text){let v;(Q===y.Verbose||Q===y.Compact)&&(l.params?v=`Params: ${He(l.params)}

`:v=`No parameters provided.

`),f.log(`Sending notification '${l.method}'.`,v)}else ft("send-notification",l)}function gn(l,v,k){if(!(Q===y.Off||!f))if(N===h.Text){let q;(Q===y.Verbose||Q===y.Compact)&&(l.error&&l.error.data?q=`Error data: ${He(l.error.data)}

`:l.result?q=`Result: ${He(l.result)}

`:l.error===void 0&&(q=`No result returned.

`)),f.log(`Sending response '${v} - (${l.id})'. Processing request took ${Date.now()-k}ms`,q)}else ft("send-response",l)}function gs(l){if(!(Q===y.Off||!f))if(N===h.Text){let v;(Q===y.Verbose||Q===y.Compact)&&l.params&&(v=`Params: ${He(l.params)}

`),f.log(`Received request '${l.method} - (${l.id})'.`,v)}else ft("receive-request",l)}function Or(l){if(!(Q===y.Off||!f||l.method===H.type.method))if(N===h.Text){let v;(Q===y.Verbose||Q===y.Compact)&&(l.params?v=`Params: ${He(l.params)}

`:v=`No parameters provided.

`),f.log(`Received notification '${l.method}'.`,v)}else ft("receive-notification",l)}function hs(l,v){if(!(Q===y.Off||!f))if(N===h.Text){let k;if((Q===y.Verbose||Q===y.Compact)&&(l.error&&l.error.data?k=`Error data: ${He(l.error.data)}

`:l.result?k=`Result: ${He(l.result)}

`:l.error===void 0&&(k=`No result returned.

`)),v){const q=l.error?` Request failed: ${l.error.message} (${l.error.code}).`:"";f.log(`Received response '${v.method} - (${l.id})' in ${Date.now()-v.timerStart}ms.${q}`,k)}else f.log(`Received response ${l.id} without active response promise.`,k)}else ft("receive-response",l)}function ft(l,v){if(!f||Q===y.Off)return;const k={isLSPMessage:!0,type:l,message:v,timestamp:Date.now()};f.log(k)}function jt(){if(et())throw new E(te.Closed,"Connection is closed.");if(Te())throw new E(te.Disposed,"Connection is disposed.")}function ms(){if(xe())throw new E(te.AlreadyListening,"Connection is already listening")}function ys(){if(!xe())throw new Error("Call listen() first.")}function Lt(l){return l===void 0?null:l}function Fi(l){if(l!==null)return l}function Wi(l){return l!=null&&!Array.isArray(l)&&typeof l=="object"}function jr(l,v){switch(l){case r.ParameterStructures.auto:return Wi(v)?Fi(v):[Lt(v)];case r.ParameterStructures.byName:if(!Wi(v))throw new Error("Received parameters by name but param is not an object literal.");return Fi(v);case r.ParameterStructures.byPosition:return[Lt(v)];default:throw new Error(`Unknown parameter structure ${l.toString()}`)}}function Ai(l,v){let k;const q=l.numberOfParams;switch(q){case 0:k=void 0;break;case 1:k=jr(l.parameterStructures,v[0]);break;default:k=[];for(let X=0;X<v.length&&X<q;X++)k.push(Lt(v[X]));if(v.length<q)for(let X=v.length;X<q;X++)k.push(null);break}return k}const gt={sendNotification:(l,...v)=>{jt();let k,q;if(n.string(l)){k=l;const G=v[0];let re=0,ue=r.ParameterStructures.auto;r.ParameterStructures.is(G)&&(re=1,ue=G);let B=v.length;const K=B-re;switch(K){case 0:q=void 0;break;case 1:q=jr(ue,v[re]);break;default:if(ue===r.ParameterStructures.byName)throw new Error(`Received ${K} parameters for 'by Name' notification parameter structure.`);q=v.slice(re,B).map(U=>Lt(U));break}}else{const G=v;k=l.method,q=Ai(l,G)}const X={jsonrpc:$,method:k,params:q};return fs(X),L.write(X).catch(()=>s.error("Sending notification failed."))},onNotification:(l,v)=>{jt();let k;return n.func(l)?Ae=l:v&&(n.string(l)?(k=l,Ge.set(l,{type:void 0,handler:v})):(k=l.method,Ge.set(l.method,{type:l,handler:v}))),{dispose:()=>{k!==void 0?Ge.delete(k):Ae=void 0}}},onProgress:(l,v,k)=>{if(Ye.has(v))throw new Error(`Progress handler for token ${v} already registered`);return Ye.set(v,k),{dispose:()=>{Ye.delete(v)}}},sendProgress:(l,v,k)=>gt.sendNotification(d.type,{token:v,value:k}),onUnhandledProgress:ve.event,sendRequest:(l,...v)=>{jt(),ys();let k,q,X;if(n.string(l)){k=l;const B=v[0],K=v[v.length-1];let U=0,ce=r.ParameterStructures.auto;r.ParameterStructures.is(B)&&(U=1,ce=B);let me=v.length;a.CancellationToken.is(K)&&(me=me-1,X=K);const tt=me-U;switch(tt){case 0:q=void 0;break;case 1:q=jr(ce,v[U]);break;default:if(ce===r.ParameterStructures.byName)throw new Error(`Received ${tt} parameters for 'by Name' request parameter structure.`);q=v.slice(U,me).map($e=>Lt($e));break}}else{const B=v;k=l.method,q=Ai(l,B);const K=l.numberOfParams;X=a.CancellationToken.is(B[K])?B[K]:void 0}const G=T++;let re;return X&&(re=X.onCancellationRequested(()=>{const B=Ke.sender.sendCancellation(gt,G);return B===void 0?(s.log(`Received no promise from cancellation strategy when cancelling id ${G}`),Promise.resolve()):B.catch(()=>{s.log(`Sending cancellation messages for id ${G} failed`)})})),new Promise((B,K)=>{const U={jsonrpc:$,id:G,method:k,params:q},ce=$e=>{B($e),Ke.sender.cleanup(G),re?.dispose()},me=$e=>{K($e),Ke.sender.cleanup(G),re?.dispose()};let tt={method:k,timerStart:Date.now(),resolve:ce,reject:me};ds(U);try{L.write(U).catch(()=>s.error("Sending request failed."))}catch($e){tt.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,$e.message?$e.message:"Unknown reason")),tt=null}tt&&qe.set(G,tt)})},onRequest:(l,v)=>{jt();let k=null;return w.is(l)?(k=void 0,Z=l):n.string(l)?(k=null,v!==void 0&&(k=l,Xe.set(l,{handler:v,type:void 0}))):v!==void 0&&(k=l.method,Xe.set(l.method,{type:l,handler:v})),{dispose:()=>{k!==null&&(k!==void 0?Xe.delete(k):Z=void 0)}}},hasPendingResponse:()=>qe.size>0,trace:async(l,v,k)=>{let q=!1,X=h.Text;k!==void 0&&(n.boolean(k)?q=k:(q=k.sendNotification||!1,X=k.traceFormat||h.Text)),Q=l,N=X,Q===y.Off?f=void 0:f=v,q&&!et()&&!Te()&&await gt.sendNotification(P.type,{value:y.toString(l)})},onError:O.event,onClose:_.event,onUnhandledNotification:ge.event,onDispose:Ie.event,end:()=>{L.end()},dispose:()=>{if(Te())return;R=ne.Disposed,Ie.fire(void 0);const l=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const v of qe.values())v.reject(l);qe=new Map,De=new Map,Ze=new Set,Se=new i.LinkedMap,n.func(L.dispose)&&L.dispose(),n.func(D.dispose)&&D.dispose()},listen:()=>{jt(),ms(),R=ne.Listening,D.listen(we)},inspect:()=>{(0,t.default)().console.log("inspect")}};return gt.onNotification(H.type,l=>{if(Q===y.Off||!f)return;const v=Q===y.Verbose||Q===y.Compact;f.log(l.message,v?l.verbose:void 0)}),gt.onNotification(d.type,l=>{const v=Ye.get(l.token);v?v(l.value):ve.fire(l)}),gt}e.createMessageConnection=fe}(Sn)),Sn}var Zr;function Kr(){return Zr||(Zr=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TraceFormat=e.TraceValues=e.Trace=e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=void 0;const t=zr();Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=Ur();Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=vn;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Be;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=Jr();Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const a=co();Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return a.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return a.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return a.ReadableStreamMessageReader}});const u=lo();Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const c=fo();Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return c.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return c.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return c.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return c.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return c.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return c.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return c.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return c.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return c.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return c.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return c.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return c.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return c.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return c.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return c.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return c.CancellationStrategy}});const d=Pe;e.RAL=d.default}(Rn)),Rn}(function(e){var t=oe&&oe.__createBinding||(Object.create?function(c,d,m,w){w===void 0&&(w=m);var y=Object.getOwnPropertyDescriptor(d,m);(!y||("get"in y?!d.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return d[m]}}),Object.defineProperty(c,w,y)}:function(c,d,m,w){w===void 0&&(w=m),c[w]=d[m]}),n=oe&&oe.__exportStar||function(c,d){for(var m in c)m!=="default"&&!Object.prototype.hasOwnProperty.call(d,m)&&t(d,c,m)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,_n.default.install();const i=Kr();n(Kr(),e);class o extends i.AbstractMessageReader{constructor(d){super(),this._onData=new i.Emitter,this._messageListener=m=>{this._onData.fire(m.data)},d.addEventListener("error",m=>this.fireError(m)),d.onmessage=this._messageListener}listen(d){return this._onData.event(d)}}e.BrowserMessageReader=o;class a extends i.AbstractMessageWriter{constructor(d){super(),this.context=d,this.errorCount=0,d.addEventListener("error",m=>this.fireError(m))}write(d){try{return this.context.postMessage(d),Promise.resolve()}catch(m){return this.handleError(m,d),Promise.reject(m)}}handleError(d,m){this.errorCount++,this.fireError(d,m,this.errorCount)}end(){}}e.BrowserMessageWriter=a;function u(c,d,m,w){return m===void 0&&(m=i.NullLogger),i.ConnectionStrategy.is(w)&&(w={connectionStrategy:w}),(0,i.createMessageConnection)(c,d,m,w)}e.createMessageConnection=u})(ze),function(e){e.exports=ze}(Ki);var xr={},qn;(function(e){function t(n){return typeof n=="string"}e.is=t})(qn||(qn={}));var zt;(function(e){function t(n){return typeof n=="string"}e.is=t})(zt||(zt={}));var Nn;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Nn||(Nn={}));var Tt;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Tt||(Tt={}));var be;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=Tt.MAX_VALUE),i===Number.MAX_VALUE&&(i=Tt.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.uinteger(i.line)&&g.uinteger(i.character)}e.is=n})(be||(be={}));var x;(function(e){function t(r,i,o,a){if(g.uinteger(r)&&g.uinteger(i)&&g.uinteger(o)&&g.uinteger(a))return{start:be.create(r,i),end:be.create(o,a)};if(be.is(r)&&be.is(i))return{start:r,end:i};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(i,", ").concat(o,", ").concat(a,"]"))}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&be.is(i.start)&&be.is(i.end)}e.is=n})(x||(x={}));var kt;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&x.is(i.range)&&(g.string(i.uri)||g.undefined(i.uri))}e.is=n})(kt||(kt={}));var Mn;(function(e){function t(r,i,o,a){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&x.is(i.targetRange)&&g.string(i.targetUri)&&x.is(i.targetSelectionRange)&&(x.is(i.originSelectionRange)||g.undefined(i.originSelectionRange))}e.is=n})(Mn||(Mn={}));var Bt;(function(e){function t(r,i,o,a){return{red:r,green:i,blue:o,alpha:a}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.numberRange(i.red,0,1)&&g.numberRange(i.green,0,1)&&g.numberRange(i.blue,0,1)&&g.numberRange(i.alpha,0,1)}e.is=n})(Bt||(Bt={}));var En;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&x.is(i.range)&&Bt.is(i.color)}e.is=n})(En||(En={}));var On;(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.string(i.label)&&(g.undefined(i.textEdit)||Ce.is(i))&&(g.undefined(i.additionalTextEdits)||g.typedArray(i.additionalTextEdits,Ce.is))}e.is=n})(On||(On={}));var jn;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(jn||(jn={}));var Ln;(function(e){function t(r,i,o,a,u,c){var d={startLine:r,endLine:i};return g.defined(o)&&(d.startCharacter=o),g.defined(a)&&(d.endCharacter=a),g.defined(u)&&(d.kind=u),g.defined(c)&&(d.collapsedText=c),d}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.uinteger(i.startLine)&&g.uinteger(i.startLine)&&(g.undefined(i.startCharacter)||g.uinteger(i.startCharacter))&&(g.undefined(i.endCharacter)||g.uinteger(i.endCharacter))&&(g.undefined(i.kind)||g.string(i.kind))}e.is=n})(Ln||(Ln={}));var Ut;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&kt.is(i.location)&&g.string(i.message)}e.is=n})(Ut||(Ut={}));var Fn;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Fn||(Fn={}));var Wn;(function(e){e.Unnecessary=1,e.Deprecated=2})(Wn||(Wn={}));var An;(function(e){function t(n){var r=n;return g.objectLiteral(r)&&g.string(r.href)}e.is=t})(An||(An={}));var Pt;(function(e){function t(r,i,o,a,u,c){var d={range:r,message:i};return g.defined(o)&&(d.severity=o),g.defined(a)&&(d.code=a),g.defined(u)&&(d.source=u),g.defined(c)&&(d.relatedInformation=c),d}e.create=t;function n(r){var i,o=r;return g.defined(o)&&x.is(o.range)&&g.string(o.message)&&(g.number(o.severity)||g.undefined(o.severity))&&(g.integer(o.code)||g.string(o.code)||g.undefined(o.code))&&(g.undefined(o.codeDescription)||g.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(g.string(o.source)||g.undefined(o.source))&&(g.undefined(o.relatedInformation)||g.typedArray(o.relatedInformation,Ut.is))}e.is=n})(Pt||(Pt={}));var Ue;(function(e){function t(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var u={title:r,command:i};return g.defined(o)&&o.length>0&&(u.arguments=o),u}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.title)&&g.string(i.command)}e.is=n})(Ue||(Ue={}));var Ce;(function(e){function t(o,a){return{range:o,newText:a}}e.replace=t;function n(o,a){return{range:{start:o,end:o},newText:a}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){var a=o;return g.objectLiteral(a)&&g.string(a.newText)&&x.is(a.range)}e.is=i})(Ce||(Ce={}));var Ve;(function(e){function t(r,i,o){var a={label:r};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.string(i.label)&&(g.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(g.string(i.description)||i.description===void 0)}e.is=n})(Ve||(Ve={}));var de;(function(e){function t(n){var r=n;return g.string(r)}e.is=t})(de||(de={}));var Ee;(function(e){function t(o,a,u){return{range:o,newText:a,annotationId:u}}e.replace=t;function n(o,a,u){return{range:{start:o,end:o},newText:a,annotationId:u}}e.insert=n;function r(o,a){return{range:o,newText:"",annotationId:a}}e.del=r;function i(o){var a=o;return Ce.is(a)&&(Ve.is(a.annotationId)||de.is(a.annotationId))}e.is=i})(Ee||(Ee={}));var Ct;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&St.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(Ct||(Ct={}));var it;(function(e){function t(r,i,o){var a={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(r){var i=r;return i&&i.kind==="create"&&g.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||g.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||g.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||de.is(i.annotationId))}e.is=n})(it||(it={}));var ot;(function(e){function t(r,i,o,a){var u={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(u.options=o),a!==void 0&&(u.annotationId=a),u}e.create=t;function n(r){var i=r;return i&&i.kind==="rename"&&g.string(i.oldUri)&&g.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||g.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||g.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||de.is(i.annotationId))}e.is=n})(ot||(ot={}));var st;(function(e){function t(r,i,o){var a={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(r){var i=r;return i&&i.kind==="delete"&&g.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||g.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||g.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||de.is(i.annotationId))}e.is=n})(st||(st={}));var Vt;(function(e){function t(n){var r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(i){return g.string(i.kind)?it.is(i)||ot.is(i)||st.is(i):Ct.is(i)}))}e.is=t})(Vt||(Vt={}));var Jt=function(){function e(t,n){this.edits=t,this.changeAnnotations=n}return e.prototype.insert=function(t,n,r){var i,o;if(r===void 0?i=Ce.insert(t,n):de.is(r)?(o=r,i=Ee.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Ee.insert(t,n,o)),this.edits.push(i),o!==void 0)return o},e.prototype.replace=function(t,n,r){var i,o;if(r===void 0?i=Ce.replace(t,n):de.is(r)?(o=r,i=Ee.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Ee.replace(t,n,o)),this.edits.push(i),o!==void 0)return o},e.prototype.delete=function(t,n){var r,i;if(n===void 0?r=Ce.del(t):de.is(n)?(i=n,r=Ee.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Ee.del(t,i)),this.edits.push(r),i!==void 0)return i},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),ei=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,n){var r;if(de.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(n===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=n,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),go=function(){function e(t){var n=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new ei(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(r){if(Ct.is(r)){var i=new Jt(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=i}})):t.changes&&Object.keys(t.changes).forEach(function(r){var i=new Jt(t.changes[r]);n._textEditChanges[r]=i})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(St.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n={uri:t.uri,version:t.version},r=this._textEditChanges[n.uri];if(!r){var i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new Jt(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[t];if(!r){var i=[];this._workspaceEdit.changes[t]=i,r=new Jt(i),this._textEditChanges[t]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new ei,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ve.is(n)||de.is(n)?i=n:r=n;var o,a;if(i===void 0?o=it.create(t,r):(a=de.is(i)?i:this._changeAnnotations.manage(i),o=it.create(t,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e.prototype.renameFile=function(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;Ve.is(r)||de.is(r)?o=r:i=r;var a,u;if(o===void 0?a=ot.create(t,n,i):(u=de.is(o)?o:this._changeAnnotations.manage(o),a=ot.create(t,n,i,u)),this._workspaceEdit.documentChanges.push(a),u!==void 0)return u},e.prototype.deleteFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ve.is(n)||de.is(n)?i=n:r=n;var o,a;if(i===void 0?o=st.create(t,r):(a=de.is(i)?i:this._changeAnnotations.manage(i),o=st.create(t,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e}(),In;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.uri)}e.is=n})(In||(In={}));var Hn;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.uri)&&g.integer(i.version)}e.is=n})(Hn||(Hn={}));var St;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.uri)&&(i.version===null||g.integer(i.version))}e.is=n})(St||(St={}));var $n;(function(e){function t(r,i,o,a){return{uri:r,languageId:i,version:o,text:a}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.uri)&&g.string(i.languageId)&&g.integer(i.version)&&g.string(i.text)}e.is=n})($n||($n={}));var Qt;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){var r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Qt||(Qt={}));var at;(function(e){function t(n){var r=n;return g.objectLiteral(n)&&Qt.is(r.kind)&&g.string(r.value)}e.is=t})(at||(at={}));var zn;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(zn||(zn={}));var Bn;(function(e){e.PlainText=1,e.Snippet=2})(Bn||(Bn={}));var Un;(function(e){e.Deprecated=1})(Un||(Un={}));var Vn;(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){var i=r;return i&&g.string(i.newText)&&x.is(i.insert)&&x.is(i.replace)}e.is=n})(Vn||(Vn={}));var Jn;(function(e){e.asIs=1,e.adjustIndentation=2})(Jn||(Jn={}));var Qn;(function(e){function t(n){var r=n;return r&&(g.string(r.detail)||r.detail===void 0)&&(g.string(r.description)||r.description===void 0)}e.is=t})(Qn||(Qn={}));var Xn;(function(e){function t(n){return{label:n}}e.create=t})(Xn||(Xn={}));var Gn;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(Gn||(Gn={}));var qt;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){var i=r;return g.string(i)||g.objectLiteral(i)&&g.string(i.language)&&g.string(i.value)}e.is=n})(qt||(qt={}));var Yn;(function(e){function t(n){var r=n;return!!r&&g.objectLiteral(r)&&(at.is(r.contents)||qt.is(r.contents)||g.typedArray(r.contents,qt.is))&&(n.range===void 0||x.is(n.range))}e.is=t})(Yn||(Yn={}));var Zn;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(Zn||(Zn={}));var Kn;(function(e){function t(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a={label:n};return g.defined(r)&&(a.documentation=r),g.defined(i)?a.parameters=i:a.parameters=[],a}e.create=t})(Kn||(Kn={}));var xn;(function(e){e.Text=1,e.Read=2,e.Write=3})(xn||(xn={}));var er;(function(e){function t(n,r){var i={range:n};return g.number(r)&&(i.kind=r),i}e.create=t})(er||(er={}));var tr;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(tr||(tr={}));var nr;(function(e){e.Deprecated=1})(nr||(nr={}));var rr;(function(e){function t(n,r,i,o,a){var u={name:n,kind:r,location:{uri:o,range:i}};return a&&(u.containerName=a),u}e.create=t})(rr||(rr={}));var ir;(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(ir||(ir={}));var or;(function(e){function t(r,i,o,a,u,c){var d={name:r,detail:i,kind:o,range:a,selectionRange:u};return c!==void 0&&(d.children=c),d}e.create=t;function n(r){var i=r;return i&&g.string(i.name)&&g.number(i.kind)&&x.is(i.range)&&x.is(i.selectionRange)&&(i.detail===void 0||g.string(i.detail))&&(i.deprecated===void 0||g.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(or||(or={}));var sr;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(sr||(sr={}));var Nt;(function(e){e.Invoked=1,e.Automatic=2})(Nt||(Nt={}));var ar;(function(e){function t(r,i,o){var a={diagnostics:r};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}e.create=t;function n(r){var i=r;return g.defined(i)&&g.typedArray(i.diagnostics,Pt.is)&&(i.only===void 0||g.typedArray(i.only,g.string))&&(i.triggerKind===void 0||i.triggerKind===Nt.Invoked||i.triggerKind===Nt.Automatic)}e.is=n})(ar||(ar={}));var cr;(function(e){function t(r,i,o){var a={title:r},u=!0;return typeof i=="string"?(u=!1,a.kind=i):Ue.is(i)?a.command=i:a.edit=i,u&&o!==void 0&&(a.kind=o),a}e.create=t;function n(r){var i=r;return i&&g.string(i.title)&&(i.diagnostics===void 0||g.typedArray(i.diagnostics,Pt.is))&&(i.kind===void 0||g.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ue.is(i.command))&&(i.isPreferred===void 0||g.boolean(i.isPreferred))&&(i.edit===void 0||Vt.is(i.edit))}e.is=n})(cr||(cr={}));var ur;(function(e){function t(r,i){var o={range:r};return g.defined(i)&&(o.data=i),o}e.create=t;function n(r){var i=r;return g.defined(i)&&x.is(i.range)&&(g.undefined(i.command)||Ue.is(i.command))}e.is=n})(ur||(ur={}));var lr;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.uinteger(i.tabSize)&&g.boolean(i.insertSpaces)}e.is=n})(lr||(lr={}));var dr;(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){var i=r;return g.defined(i)&&x.is(i.range)&&(g.undefined(i.target)||g.string(i.target))}e.is=n})(dr||(dr={}));var fr;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&x.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(fr||(fr={}));var gr;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(gr||(gr={}));var hr;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(hr||(hr={}));var mr;(function(e){function t(n){var r=n;return g.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(mr||(mr={}));var yr;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){var i=r;return i!=null&&x.is(i.range)&&g.string(i.text)}e.is=n})(yr||(yr={}));var _r;(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){var i=r;return i!=null&&x.is(i.range)&&g.boolean(i.caseSensitiveLookup)&&(g.string(i.variableName)||i.variableName===void 0)}e.is=n})(_r||(_r={}));var br;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){var i=r;return i!=null&&x.is(i.range)&&(g.string(i.expression)||i.expression===void 0)}e.is=n})(br||(br={}));var pr;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&x.is(r.stoppedLocation)}e.is=n})(pr||(pr={}));var Xt;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(Xt||(Xt={}));var Gt;(function(e){function t(r){return{value:r}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&(i.tooltip===void 0||g.string(i.tooltip)||at.is(i.tooltip))&&(i.location===void 0||kt.is(i.location))&&(i.command===void 0||Ue.is(i.command))}e.is=n})(Gt||(Gt={}));var vr;(function(e){function t(r,i,o){var a={position:r,label:i};return o!==void 0&&(a.kind=o),a}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&be.is(i.position)&&(g.string(i.label)||g.typedArray(i.label,Gt.is))&&(i.kind===void 0||Xt.is(i.kind))&&i.textEdits===void 0||g.typedArray(i.textEdits,Ce.is)&&(i.tooltip===void 0||g.string(i.tooltip)||at.is(i.tooltip))&&(i.paddingLeft===void 0||g.boolean(i.paddingLeft))&&(i.paddingRight===void 0||g.boolean(i.paddingRight))}e.is=n})(vr||(vr={}));var wr;(function(e){function t(n){var r=n;return g.objectLiteral(r)&&zt.is(r.uri)&&g.string(r.name)}e.is=t})(wr||(wr={}));var ho=[`
`,`\r
`,"\r"],Rr;(function(e){function t(o,a,u,c){return new mo(o,a,u,c)}e.create=t;function n(o){var a=o;return!!(g.defined(a)&&g.string(a.uri)&&(g.undefined(a.languageId)||g.string(a.languageId))&&g.uinteger(a.lineCount)&&g.func(a.getText)&&g.func(a.positionAt)&&g.func(a.offsetAt))}e.is=n;function r(o,a){for(var u=o.getText(),c=i(a,function(P,H){var te=P.range.start.line-H.range.start.line;return te===0?P.range.start.character-H.range.start.character:te}),d=u.length,m=c.length-1;m>=0;m--){var w=c[m],y=o.offsetAt(w.range.start),h=o.offsetAt(w.range.end);if(h<=d)u=u.substring(0,y)+w.newText+u.substring(h,u.length);else throw new Error("Overlapping edit");d=y}return u}e.applyEdits=r;function i(o,a){if(o.length<=1)return o;var u=o.length/2|0,c=o.slice(0,u),d=o.slice(u);i(c,a),i(d,a);for(var m=0,w=0,y=0;m<c.length&&w<d.length;){var h=a(c[m],d[w]);h<=0?o[y++]=c[m++]:o[y++]=d[w++]}for(;m<c.length;)o[y++]=c[m++];for(;w<d.length;)o[y++]=d[w++];return o}})(Rr||(Rr={}));var mo=function(){function e(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content},e.prototype.update=function(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],n=this._content,r=!0,i=0;i<n.length;i++){r&&(t.push(i),r=!1);var o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return be.create(0,t);for(;r<i;){var o=Math.floor((r+i)/2);n[o]>t?i=o:r=o+1}var a=r-1;return be.create(a,t-n[a])},e.prototype.offsetAt=function(t){var n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;var r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),g;(function(e){var t=Object.prototype.toString;function n(h){return typeof h<"u"}e.defined=n;function r(h){return typeof h>"u"}e.undefined=r;function i(h){return h===!0||h===!1}e.boolean=i;function o(h){return t.call(h)==="[object String]"}e.string=o;function a(h){return t.call(h)==="[object Number]"}e.number=a;function u(h,P,H){return t.call(h)==="[object Number]"&&P<=h&&h<=H}e.numberRange=u;function c(h){return t.call(h)==="[object Number]"&&-2147483648<=h&&h<=2147483647}e.integer=c;function d(h){return t.call(h)==="[object Number]"&&0<=h&&h<=2147483647}e.uinteger=d;function m(h){return t.call(h)==="[object Function]"}e.func=m;function w(h){return h!==null&&typeof h=="object"}e.objectLiteral=w;function y(h,P){return Array.isArray(h)&&h.every(P)}e.typedArray=y})(g||(g={}));var yo=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return Ee},get ChangeAnnotation(){return Ve},get ChangeAnnotationIdentifier(){return de},get CodeAction(){return cr},get CodeActionContext(){return ar},get CodeActionKind(){return sr},get CodeActionTriggerKind(){return Nt},get CodeDescription(){return An},get CodeLens(){return ur},get Color(){return Bt},get ColorInformation(){return En},get ColorPresentation(){return On},get Command(){return Ue},get CompletionItem(){return Xn},get CompletionItemKind(){return zn},get CompletionItemLabelDetails(){return Qn},get CompletionItemTag(){return Un},get CompletionList(){return Gn},get CreateFile(){return it},get DeleteFile(){return st},get Diagnostic(){return Pt},get DiagnosticRelatedInformation(){return Ut},get DiagnosticSeverity(){return Fn},get DiagnosticTag(){return Wn},get DocumentHighlight(){return er},get DocumentHighlightKind(){return xn},get DocumentLink(){return dr},get DocumentSymbol(){return or},get DocumentUri(){return qn},EOL:ho,get FoldingRange(){return Ln},get FoldingRangeKind(){return jn},get FormattingOptions(){return lr},get Hover(){return Yn},get InlayHint(){return vr},get InlayHintKind(){return Xt},get InlayHintLabelPart(){return Gt},get InlineValueContext(){return pr},get InlineValueEvaluatableExpression(){return br},get InlineValueText(){return yr},get InlineValueVariableLookup(){return _r},get InsertReplaceEdit(){return Vn},get InsertTextFormat(){return Bn},get InsertTextMode(){return Jn},get Location(){return kt},get LocationLink(){return Mn},get MarkedString(){return qt},get MarkupContent(){return at},get MarkupKind(){return Qt},get OptionalVersionedTextDocumentIdentifier(){return St},get ParameterInformation(){return Zn},get Position(){return be},get Range(){return x},get RenameFile(){return ot},get SelectionRange(){return fr},get SemanticTokenModifiers(){return hr},get SemanticTokenTypes(){return gr},get SemanticTokens(){return mr},get SignatureInformation(){return Kn},get SymbolInformation(){return rr},get SymbolKind(){return tr},get SymbolTag(){return nr},get TextDocument(){return Rr},get TextDocumentEdit(){return Ct},get TextDocumentIdentifier(){return In},get TextDocumentItem(){return $n},get TextEdit(){return Ce},get URI(){return zt},get VersionedTextDocumentIdentifier(){return Hn},WorkspaceChange:go,get WorkspaceEdit(){return Vt},get WorkspaceFolder(){return wr},get WorkspaceSymbol(){return ir},get integer(){return Nn},get uinteger(){return Tt}}),Dr=Yi(yo),Y={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProtocolNotificationType=e.ProtocolNotificationType0=e.ProtocolRequestType=e.ProtocolRequestType0=e.RegistrationType=e.MessageDirection=void 0;const t=ze;(function(u){u.clientToServer="clientToServer",u.serverToClient="serverToClient",u.both="both"})(e.MessageDirection||(e.MessageDirection={}));class n{constructor(c){this.method=c}}e.RegistrationType=n;class r extends t.RequestType0{constructor(c){super(c)}}e.ProtocolRequestType0=r;class i extends t.RequestType{constructor(c){super(c,t.ParameterStructures.byName)}}e.ProtocolRequestType=i;class o extends t.NotificationType0{constructor(c){super(c)}}e.ProtocolNotificationType0=o;class a extends t.NotificationType{constructor(c){super(c,t.ParameterStructures.byName)}}e.ProtocolNotificationType=a})(Y);var ti={},ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.objectLiteral=ee.typedArray=ee.stringArray=ee.array=ee.func=ee.error=ee.number=ee.string=ee.boolean=void 0;function _o(e){return e===!0||e===!1}ee.boolean=_o;function ni(e){return typeof e=="string"||e instanceof String}ee.string=ni;function bo(e){return typeof e=="number"||e instanceof Number}ee.number=bo;function po(e){return e instanceof Error}ee.error=po;function vo(e){return typeof e=="function"}ee.func=vo;function ri(e){return Array.isArray(e)}ee.array=ri;function wo(e){return ri(e)&&e.every(t=>ni(t))}ee.stringArray=wo;function Ro(e,t){return Array.isArray(e)&&e.every(t)}ee.typedArray=Ro;function Do(e){return e!==null&&typeof e=="object"}ee.objectLiteral=Do;var ii={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ImplementationRequest=void 0;const t=Y;(function(n){n.method="textDocument/implementation",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.ImplementationRequest||(e.ImplementationRequest={}))})(ii);var oi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeDefinitionRequest=void 0;const t=Y;(function(n){n.method="textDocument/typeDefinition",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.TypeDefinitionRequest||(e.TypeDefinitionRequest={}))})(oi);var si={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=void 0;const t=Y;(function(n){n.method="workspace/workspaceFolders",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType0(n.method)})(e.WorkspaceFoldersRequest||(e.WorkspaceFoldersRequest={})),function(n){n.method="workspace/didChangeWorkspaceFolders",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidChangeWorkspaceFoldersNotification||(e.DidChangeWorkspaceFoldersNotification={}))})(si);var ai={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationRequest=void 0;const t=Y;(function(n){n.method="workspace/configuration",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(e.ConfigurationRequest||(e.ConfigurationRequest={}))})(ai);var ci={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPresentationRequest=e.DocumentColorRequest=void 0;const t=Y;(function(n){n.method="textDocument/documentColor",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.DocumentColorRequest||(e.DocumentColorRequest={})),function(n){n.method="textDocument/colorPresentation",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.ColorPresentationRequest||(e.ColorPresentationRequest={}))})(ci);var ui={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRangeRequest=void 0;const t=Y;(function(n){n.method="textDocument/foldingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.FoldingRangeRequest||(e.FoldingRangeRequest={}))})(ui);var li={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeclarationRequest=void 0;const t=Y;(function(n){n.method="textDocument/declaration",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.DeclarationRequest||(e.DeclarationRequest={}))})(li);var di={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRangeRequest=void 0;const t=Y;(function(n){n.method="textDocument/selectionRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.SelectionRangeRequest||(e.SelectionRangeRequest={}))})(di);var fi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=void 0;const t=ze,n=Y;(function(r){r.type=new t.ProgressType;function i(o){return o===r.type}r.is=i})(e.WorkDoneProgress||(e.WorkDoneProgress={})),function(r){r.method="window/workDoneProgress/create",r.messageDirection=n.MessageDirection.serverToClient,r.type=new n.ProtocolRequestType(r.method)}(e.WorkDoneProgressCreateRequest||(e.WorkDoneProgressCreateRequest={})),function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=n.MessageDirection.clientToServer,r.type=new n.ProtocolNotificationType(r.method)}(e.WorkDoneProgressCancelNotification||(e.WorkDoneProgressCancelNotification={}))})(fi);var gi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.CallHierarchyPrepareRequest=void 0;const t=Y;(function(n){n.method="textDocument/prepareCallHierarchy",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})),function(n){n.method="callHierarchy/incomingCalls",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})),function(n){n.method="callHierarchy/outgoingCalls",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={}))})(gi);var hi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.SemanticTokensRegistrationType=e.TokenFormat=void 0;const t=Y;(function(r){r.Relative="relative"})(e.TokenFormat||(e.TokenFormat={}));var n;(function(r){r.method="textDocument/semanticTokens",r.type=new t.RegistrationType(r.method)})(n=e.SemanticTokensRegistrationType||(e.SemanticTokensRegistrationType={})),function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensRequest||(e.SemanticTokensRequest={})),function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensDeltaRequest||(e.SemanticTokensDeltaRequest={})),function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={})),function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType0(r.method)}(e.SemanticTokensRefreshRequest||(e.SemanticTokensRefreshRequest={}))})(hi);var mi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentRequest=void 0;const t=Y;(function(n){n.method="window/showDocument",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(e.ShowDocumentRequest||(e.ShowDocumentRequest={}))})(mi);var yi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeRequest=void 0;const t=Y;(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.LinkedEditingRangeRequest||(e.LinkedEditingRangeRequest={}))})(yi);var _i={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.DidRenameFilesNotification=e.WillRenameFilesRequest=e.DidCreateFilesNotification=e.WillCreateFilesRequest=e.FileOperationPatternKind=void 0;const t=Y;(function(n){n.file="file",n.folder="folder"})(e.FileOperationPatternKind||(e.FileOperationPatternKind={})),function(n){n.method="workspace/willCreateFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillCreateFilesRequest||(e.WillCreateFilesRequest={})),function(n){n.method="workspace/didCreateFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidCreateFilesNotification||(e.DidCreateFilesNotification={})),function(n){n.method="workspace/willRenameFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillRenameFilesRequest||(e.WillRenameFilesRequest={})),function(n){n.method="workspace/didRenameFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidRenameFilesNotification||(e.DidRenameFilesNotification={})),function(n){n.method="workspace/didDeleteFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidDeleteFilesNotification||(e.DidDeleteFilesNotification={})),function(n){n.method="workspace/willDeleteFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillDeleteFilesRequest||(e.WillDeleteFilesRequest={}))})(_i);var bi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=void 0;const t=Y;(function(n){n.document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global"})(e.UniquenessLevel||(e.UniquenessLevel={})),function(n){n.$import="import",n.$export="export",n.local="local"}(e.MonikerKind||(e.MonikerKind={})),function(n){n.method="textDocument/moniker",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.MonikerRequest||(e.MonikerRequest={}))})(bi);var pi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchySubtypesRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=Y;(function(n){n.method="textDocument/prepareTypeHierarchy",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.TypeHierarchyPrepareRequest||(e.TypeHierarchyPrepareRequest={})),function(n){n.method="typeHierarchy/supertypes",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.TypeHierarchySupertypesRequest||(e.TypeHierarchySupertypesRequest={})),function(n){n.method="typeHierarchy/subtypes",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.TypeHierarchySubtypesRequest||(e.TypeHierarchySubtypesRequest={}))})(pi);var vi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InlineValueRefreshRequest=e.InlineValueRequest=void 0;const t=Y;(function(n){n.method="textDocument/inlineValue",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.InlineValueRequest||(e.InlineValueRequest={})),function(n){n.method="workspace/inlineValue/refresh",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType0(n.method)}(e.InlineValueRefreshRequest||(e.InlineValueRefreshRequest={}))})(vi);var wi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=void 0;const t=Y;(function(n){n.method="textDocument/inlayHint",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.InlayHintRequest||(e.InlayHintRequest={})),function(n){n.method="inlayHint/resolve",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.InlayHintResolveRequest||(e.InlayHintResolveRequest={})),function(n){n.method="workspace/inlayHint/refresh",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType0(n.method)}(e.InlayHintRefreshRequest||(e.InlayHintRefreshRequest={}))})(wi);var Ri={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=void 0;const t=ze,n=ee,r=Y;(function(i){function o(a){const u=a;return u&&n.boolean(u.retriggerRequest)}i.is=o})(e.DiagnosticServerCancellationData||(e.DiagnosticServerCancellationData={})),function(i){i.Full="full",i.Unchanged="unchanged"}(e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={})),function(i){i.method="textDocument/diagnostic",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),i.partialResult=new t.ProgressType}(e.DocumentDiagnosticRequest||(e.DocumentDiagnosticRequest={})),function(i){i.method="workspace/diagnostic",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),i.partialResult=new t.ProgressType}(e.WorkspaceDiagnosticRequest||(e.WorkspaceDiagnosticRequest={})),function(i){i.method="workspace/diagnostic/refresh",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType0(i.method)}(e.DiagnosticRefreshRequest||(e.DiagnosticRefreshRequest={}))})(Ri);var Di={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=void 0;const t=Dr,n=ee,r=Y;var i;(function(c){c.Markup=1,c.Code=2;function d(m){return m===1||m===2}c.is=d})(i=e.NotebookCellKind||(e.NotebookCellKind={}));var o;(function(c){function d(y,h){const P={executionOrder:y};return(h===!0||h===!1)&&(P.success=h),P}c.create=d;function m(y){const h=y;return n.objectLiteral(h)&&t.uinteger.is(h.executionOrder)&&(h.success===void 0||n.boolean(h.success))}c.is=m;function w(y,h){return y===h?!0:y==null||h===null||h===void 0?!1:y.executionOrder===h.executionOrder&&y.success===h.success}c.equals=w})(o=e.ExecutionSummary||(e.ExecutionSummary={}));var a;(function(c){function d(h,P){return{kind:h,document:P}}c.create=d;function m(h){const P=h;return n.objectLiteral(P)&&i.is(P.kind)&&t.DocumentUri.is(P.document)&&(P.metadata===void 0||n.objectLiteral(P.metadata))}c.is=m;function w(h,P){const H=new Set;return h.document!==P.document&&H.add("document"),h.kind!==P.kind&&H.add("kind"),h.executionSummary!==P.executionSummary&&H.add("executionSummary"),(h.metadata!==void 0||P.metadata!==void 0)&&!y(h.metadata,P.metadata)&&H.add("metadata"),(h.executionSummary!==void 0||P.executionSummary!==void 0)&&!o.equals(h.executionSummary,P.executionSummary)&&H.add("executionSummary"),H}c.diff=w;function y(h,P){if(h===P)return!0;if(h==null||P===null||P===void 0||typeof h!=typeof P||typeof h!="object")return!1;const H=Array.isArray(h),te=Array.isArray(P);if(H!==te)return!1;if(H&&te){if(h.length!==P.length)return!1;for(let E=0;E<h.length;E++)if(!y(h[E],P[E]))return!1}if(n.objectLiteral(h)&&n.objectLiteral(P)){const E=Object.keys(h),V=Object.keys(P);if(E.length!==V.length||(E.sort(),V.sort(),!y(E,V)))return!1;for(let J=0;J<E.length;J++){const ae=E[J];if(!y(h[ae],P[ae]))return!1}}return!0}})(a=e.NotebookCell||(e.NotebookCell={})),function(c){function d(w,y,h,P){return{uri:w,notebookType:y,version:h,cells:P}}c.create=d;function m(w){const y=w;return n.objectLiteral(y)&&n.string(y.uri)&&t.integer.is(y.version)&&n.typedArray(y.cells,a.is)}c.is=m}(e.NotebookDocument||(e.NotebookDocument={}));var u;(function(c){c.method="notebookDocument/sync",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.RegistrationType(c.method)})(u=e.NotebookDocumentSyncRegistrationType||(e.NotebookDocumentSyncRegistrationType={})),function(c){c.method="notebookDocument/didOpen",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.ProtocolNotificationType(c.method),c.registrationMethod=u.method}(e.DidOpenNotebookDocumentNotification||(e.DidOpenNotebookDocumentNotification={})),function(c){function d(w){const y=w;return n.objectLiteral(y)&&t.uinteger.is(y.start)&&t.uinteger.is(y.deleteCount)&&(y.cells===void 0||n.typedArray(y.cells,a.is))}c.is=d;function m(w,y,h){const P={start:w,deleteCount:y};return h!==void 0&&(P.cells=h),P}c.create=m}(e.NotebookCellArrayChange||(e.NotebookCellArrayChange={})),function(c){c.method="notebookDocument/didChange",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.ProtocolNotificationType(c.method),c.registrationMethod=u.method}(e.DidChangeNotebookDocumentNotification||(e.DidChangeNotebookDocumentNotification={})),function(c){c.method="notebookDocument/didSave",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.ProtocolNotificationType(c.method),c.registrationMethod=u.method}(e.DidSaveNotebookDocumentNotification||(e.DidSaveNotebookDocumentNotification={})),function(c){c.method="notebookDocument/didClose",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.ProtocolNotificationType(c.method),c.registrationMethod=u.method}(e.DidCloseNotebookDocumentNotification||(e.DidCloseNotebookDocumentNotification={}))})(Di),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=void 0;const t=Y,n=Dr,r=ee,i=ii;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=oi;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const a=si;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return a.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return a.DidChangeWorkspaceFoldersNotification}});const u=ai;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const c=ci;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return c.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return c.ColorPresentationRequest}});const d=ui;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}});const m=li;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return m.DeclarationRequest}});const w=di;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return w.SelectionRangeRequest}});const y=fi;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return y.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return y.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return y.WorkDoneProgressCancelNotification}});const h=gi;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return h.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.CallHierarchyPrepareRequest}});const P=hi;Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return P.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return P.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return P.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return P.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return P.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return P.SemanticTokensRegistrationType}});const H=mi;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return H.ShowDocumentRequest}});const te=yi;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return te.LinkedEditingRangeRequest}});const E=_i;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return E.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return E.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return E.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return E.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return E.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return E.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return E.WillDeleteFilesRequest}});const V=bi;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return V.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return V.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return V.MonikerRequest}});const J=pi;Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return J.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return J.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return J.TypeHierarchySupertypesRequest}});const ae=vi;Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return ae.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ae.InlineValueRefreshRequest}});const _e=wi;Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return _e.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return _e.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return _e.InlayHintRefreshRequest}});const ne=Ri;Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return ne.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return ne.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return ne.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return ne.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return ne.DiagnosticRefreshRequest}});const fe=Di;Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return fe.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return fe.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return fe.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return fe.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return fe.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return fe.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return fe.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return fe.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return fe.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return fe.DidCloseNotebookDocumentNotification}});var D;(function(s){function T(I){const M=I;return r.string(M.language)||r.string(M.scheme)||r.string(M.pattern)}s.is=T})(D=e.TextDocumentFilter||(e.TextDocumentFilter={}));var L;(function(s){function T(I){const M=I;return r.objectLiteral(M)&&(r.string(M.notebookType)||r.string(M.scheme)||r.string(M.pattern))}s.is=T})(L=e.NotebookDocumentFilter||(e.NotebookDocumentFilter={}));var A;(function(s){function T(I){const M=I;return r.objectLiteral(M)&&(r.string(M.notebook)||L.is(M.notebook))&&(M.language===void 0||r.string(M.language))}s.is=T})(A=e.NotebookCellTextDocumentFilter||(e.NotebookCellTextDocumentFilter={}));var F;(function(s){function T(I){if(!Array.isArray(I))return!1;for(let M of I)if(!r.string(M)&&!D.is(M)&&!A.is(M))return!1;return!0}s.is=T})(F=e.DocumentSelector||(e.DocumentSelector={})),function(s){s.method="client/registerCapability",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)}(e.RegistrationRequest||(e.RegistrationRequest={})),function(s){s.method="client/unregisterCapability",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)}(e.UnregistrationRequest||(e.UnregistrationRequest={})),function(s){s.Create="create",s.Rename="rename",s.Delete="delete"}(e.ResourceOperationKind||(e.ResourceOperationKind={})),function(s){s.Abort="abort",s.Transactional="transactional",s.TextOnlyTransactional="textOnlyTransactional",s.Undo="undo"}(e.FailureHandlingKind||(e.FailureHandlingKind={})),function(s){s.UTF8="utf-8",s.UTF16="utf-16",s.UTF32="utf-32"}(e.PositionEncodingKind||(e.PositionEncodingKind={})),function(s){function T(I){const M=I;return M&&r.string(M.id)&&M.id.length>0}s.hasId=T}(e.StaticRegistrationOptions||(e.StaticRegistrationOptions={})),function(s){function T(I){const M=I;return M&&(M.documentSelector===null||F.is(M.documentSelector))}s.is=T}(e.TextDocumentRegistrationOptions||(e.TextDocumentRegistrationOptions={})),function(s){function T(M){const $=M;return r.objectLiteral($)&&($.workDoneProgress===void 0||r.boolean($.workDoneProgress))}s.is=T;function I(M){const $=M;return $&&r.boolean($.workDoneProgress)}s.hasWorkDoneProgress=I}(e.WorkDoneProgressOptions||(e.WorkDoneProgressOptions={})),function(s){s.method="initialize",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.InitializeRequest||(e.InitializeRequest={})),function(s){s.unknownProtocolVersion=1}(e.InitializeErrorCodes||(e.InitializeErrorCodes={})),function(s){s.method="initialized",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.InitializedNotification||(e.InitializedNotification={})),function(s){s.method="shutdown",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType0(s.method)}(e.ShutdownRequest||(e.ShutdownRequest={})),function(s){s.method="exit",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType0(s.method)}(e.ExitNotification||(e.ExitNotification={})),function(s){s.method="workspace/didChangeConfiguration",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidChangeConfigurationNotification||(e.DidChangeConfigurationNotification={})),function(s){s.Error=1,s.Warning=2,s.Info=3,s.Log=4}(e.MessageType||(e.MessageType={})),function(s){s.method="window/showMessage",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)}(e.ShowMessageNotification||(e.ShowMessageNotification={})),function(s){s.method="window/showMessageRequest",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)}(e.ShowMessageRequest||(e.ShowMessageRequest={})),function(s){s.method="window/logMessage",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)}(e.LogMessageNotification||(e.LogMessageNotification={})),function(s){s.method="telemetry/event",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)}(e.TelemetryEventNotification||(e.TelemetryEventNotification={})),function(s){s.None=0,s.Full=1,s.Incremental=2}(e.TextDocumentSyncKind||(e.TextDocumentSyncKind={})),function(s){s.method="textDocument/didOpen",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidOpenTextDocumentNotification||(e.DidOpenTextDocumentNotification={})),function(s){function T(M){let $=M;return $!=null&&typeof $.text=="string"&&$.range!==void 0&&($.rangeLength===void 0||typeof $.rangeLength=="number")}s.isIncremental=T;function I(M){let $=M;return $!=null&&typeof $.text=="string"&&$.range===void 0&&$.rangeLength===void 0}s.isFull=I}(e.TextDocumentContentChangeEvent||(e.TextDocumentContentChangeEvent={})),function(s){s.method="textDocument/didChange",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidChangeTextDocumentNotification||(e.DidChangeTextDocumentNotification={})),function(s){s.method="textDocument/didClose",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidCloseTextDocumentNotification||(e.DidCloseTextDocumentNotification={})),function(s){s.method="textDocument/didSave",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidSaveTextDocumentNotification||(e.DidSaveTextDocumentNotification={})),function(s){s.Manual=1,s.AfterDelay=2,s.FocusOut=3}(e.TextDocumentSaveReason||(e.TextDocumentSaveReason={})),function(s){s.method="textDocument/willSave",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.WillSaveTextDocumentNotification||(e.WillSaveTextDocumentNotification={})),function(s){s.method="textDocument/willSaveWaitUntil",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.WillSaveTextDocumentWaitUntilRequest||(e.WillSaveTextDocumentWaitUntilRequest={})),function(s){s.method="workspace/didChangeWatchedFiles",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidChangeWatchedFilesNotification||(e.DidChangeWatchedFilesNotification={})),function(s){s.Created=1,s.Changed=2,s.Deleted=3}(e.FileChangeType||(e.FileChangeType={})),function(s){function T(I){const M=I;return r.objectLiteral(M)&&(n.URI.is(M.baseUri)||n.WorkspaceFolder.is(M.baseUri))&&r.string(M.pattern)}s.is=T}(e.RelativePattern||(e.RelativePattern={})),function(s){s.Create=1,s.Change=2,s.Delete=4}(e.WatchKind||(e.WatchKind={})),function(s){s.method="textDocument/publishDiagnostics",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)}(e.PublishDiagnosticsNotification||(e.PublishDiagnosticsNotification={})),function(s){s.Invoked=1,s.TriggerCharacter=2,s.TriggerForIncompleteCompletions=3}(e.CompletionTriggerKind||(e.CompletionTriggerKind={})),function(s){s.method="textDocument/completion",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CompletionRequest||(e.CompletionRequest={})),function(s){s.method="completionItem/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CompletionResolveRequest||(e.CompletionResolveRequest={})),function(s){s.method="textDocument/hover",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.HoverRequest||(e.HoverRequest={})),function(s){s.Invoked=1,s.TriggerCharacter=2,s.ContentChange=3}(e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={})),function(s){s.method="textDocument/signatureHelp",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.SignatureHelpRequest||(e.SignatureHelpRequest={})),function(s){s.method="textDocument/definition",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DefinitionRequest||(e.DefinitionRequest={})),function(s){s.method="textDocument/references",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.ReferencesRequest||(e.ReferencesRequest={})),function(s){s.method="textDocument/documentHighlight",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentHighlightRequest||(e.DocumentHighlightRequest={})),function(s){s.method="textDocument/documentSymbol",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentSymbolRequest||(e.DocumentSymbolRequest={})),function(s){s.method="textDocument/codeAction",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CodeActionRequest||(e.CodeActionRequest={})),function(s){s.method="codeAction/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CodeActionResolveRequest||(e.CodeActionResolveRequest={})),function(s){s.method="workspace/symbol",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.WorkspaceSymbolRequest||(e.WorkspaceSymbolRequest={})),function(s){s.method="workspaceSymbol/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.WorkspaceSymbolResolveRequest||(e.WorkspaceSymbolResolveRequest={})),function(s){s.method="textDocument/codeLens",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CodeLensRequest||(e.CodeLensRequest={})),function(s){s.method="codeLens/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CodeLensResolveRequest||(e.CodeLensResolveRequest={})),function(s){s.method="workspace/codeLens/refresh",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType0(s.method)}(e.CodeLensRefreshRequest||(e.CodeLensRefreshRequest={})),function(s){s.method="textDocument/documentLink",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentLinkRequest||(e.DocumentLinkRequest={})),function(s){s.method="documentLink/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentLinkResolveRequest||(e.DocumentLinkResolveRequest={})),function(s){s.method="textDocument/formatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentFormattingRequest||(e.DocumentFormattingRequest={})),function(s){s.method="textDocument/rangeFormatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentRangeFormattingRequest||(e.DocumentRangeFormattingRequest={})),function(s){s.method="textDocument/onTypeFormatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentOnTypeFormattingRequest||(e.DocumentOnTypeFormattingRequest={})),function(s){s.Identifier=1}(e.PrepareSupportDefaultBehavior||(e.PrepareSupportDefaultBehavior={})),function(s){s.method="textDocument/rename",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.RenameRequest||(e.RenameRequest={})),function(s){s.method="textDocument/prepareRename",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.PrepareRenameRequest||(e.PrepareRenameRequest={})),function(s){s.method="workspace/executeCommand",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.ExecuteCommandRequest||(e.ExecuteCommandRequest={})),function(s){s.method="workspace/applyEdit",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType("workspace/applyEdit")}(e.ApplyWorkspaceEditRequest||(e.ApplyWorkspaceEditRequest={}))}(ti);var Yt={};Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.createProtocolConnection=void 0;const Ti=ze;function To(e,t,n,r){return Ti.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Ti.createMessageConnection)(e,t,n,r)}Yt.createProtocolConnection=To,function(e){var t=oe&&oe.__createBinding||(Object.create?function(i,o,a,u){u===void 0&&(u=a);var c=Object.getOwnPropertyDescriptor(o,a);(!c||("get"in c?!o.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,u,c)}:function(i,o,a,u){u===void 0&&(u=a),i[u]=o[a]}),n=oe&&oe.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(ze,e),n(Dr,e),n(Y,e),n(ti,e);var r=Yt;Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}}),function(i){i.lspReservedErrorRangeStart=-32899,i.RequestFailed=-32803,i.ServerCancelled=-32802,i.ContentModified=-32801,i.RequestCancelled=-32800,i.lspReservedErrorRangeEnd=-32800}(e.LSPErrorCodes||(e.LSPErrorCodes={}))}(xr),function(e){var t=oe&&oe.__createBinding||(Object.create?function(o,a,u,c){c===void 0&&(c=u);var d=Object.getOwnPropertyDescriptor(a,u);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(o,c,d)}:function(o,a,u,c){c===void 0&&(c=u),o[c]=a[u]}),n=oe&&oe.__exportStar||function(o,a){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=It;n(It,e),n(xr,e);function i(o,a,u,c){return(0,r.createMessageConnection)(o,a,u,c)}e.createProtocolConnection=i}(se),Object.defineProperty(Me,"__esModule",{value:!0}),Me.SemanticTokensBuilder=Me.SemanticTokensDiff=Me.SemanticTokensFeature=void 0;const Zt=se,ko=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Zt.SemanticTokensRefreshRequest.type),on:t=>{const n=Zt.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{const n=Zt.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{const n=Zt.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Me.SemanticTokensFeature=ko;class ki{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){const t=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let i=t-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);const a=i-r+1,u=this.modifiedSequence.slice(r,o+1);return u.length===1&&u[0]===this.originalSequence[i]?[{start:r,deleteCount:a-1}]:[{start:r,deleteCount:a,data:u}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}}Me.SemanticTokensDiff=ki;class Po{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,o){let a=t,u=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(u-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=u,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new ki(this._prevData,this._data).computeDiff()}:this.build()}}Me.SemanticTokensBuilder=Po;var Mt={};Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.TextDocuments=void 0;const Je=se;class Co{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new Je.Emitter,this._onDidOpen=new Je.Emitter,this._onDidClose=new Je.Emitter,this._onDidSave=new Je.Emitter,this._onWillSave=new Je.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Je.TextDocumentSyncKind.Incremental;const n=[];return n.push(t.onDidOpenTextDocument(r=>{const i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);const a=Object.freeze({document:o});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),n.push(t.onDidChangeTextDocument(r=>{const i=r.textDocument,o=r.contentChanges;if(o.length===0)return;const{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let u=this._syncedDocuments.get(i.uri);u!==void 0&&(u=this._configuration.update(u,o,a),this._syncedDocuments.set(i.uri,u),this._onDidChangeContent.fire(Object.freeze({document:u})))})),n.push(t.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(t.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(t.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Je.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}Mt.TextDocuments=Co;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.NotebookDocuments=Qe.NotebookSyncFeature=void 0;const pe=se,Pi=Mt,So=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(pe.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(pe.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(pe.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(pe.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};Qe.NotebookSyncFeature=So;class ct{onDidOpenTextDocument(t){return this.openHandler=t,pe.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,pe.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,pe.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return ct.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return ct.NULL_DISPOSE}onDidSaveTextDocument(){return ct.NULL_DISPOSE}}ct.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class qo{constructor(t){t instanceof Pi.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Pi.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new pe.Emitter,this._onDidChange=new pe.Emitter,this._onDidSave=new pe.Emitter,this._onDidClose=new pe.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){const n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){const n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){const n=new ct,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;const a=o.metadata;let u=!1;const c=i.change;c.metadata!==void 0&&(u=!0,o.metadata=c.metadata);const d=[],m=[],w=[],y=[];if(c.cells!==void 0){const E=c.cells;if(E.structure!==void 0){const V=E.structure.array;if(o.cells.splice(V.start,V.deleteCount,...V.cells!==void 0?V.cells:[]),E.structure.didOpen!==void 0)for(const J of E.structure.didOpen)n.openTextDocument({textDocument:J}),d.push(J.uri);if(E.structure.didClose)for(const J of E.structure.didClose)n.closeTextDocument({textDocument:J}),m.push(J.uri)}if(E.data!==void 0){const V=new Map(E.data.map(J=>[J.document,J]));for(let J=0;J<=o.cells.length;J++){const ae=V.get(o.cells[J].document);if(ae!==void 0){const _e=o.cells.splice(J,1,ae);if(w.push({old:_e[0],new:ae}),V.delete(ae.document),V.size===0)break}}}if(E.textContent!==void 0)for(const V of E.textContent)n.changeTextDocument({textDocument:V.document,contentChanges:V.changes}),y.push(V.document.uri)}this.updateCellMap(o);const h={notebookDocument:o};u&&(h.metadata={old:a,new:o.metadata});const P=[];for(const E of d)P.push(this.getNotebookCell(E));const H=[];for(const E of m)H.push(this.getNotebookCell(E));const te=[];for(const E of y)te.push(this.getNotebookCell(E));(P.length>0||H.length>0||w.length>0||te.length>0)&&(h.cells={added:P,removed:H,changed:{data:w,textContent:te}}),(h.metadata!==void 0||h.cells!==void 0)&&this._onDidChange.fire(h)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(const a of i.cellTextDocuments)n.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(const a of o.cells)this.notebookCellMap.delete(a.document)}})),pe.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(t){for(const n of t.cells)this.notebookCellMap.set(n.document,[n,t])}}Qe.NotebookDocuments=qo;var Ci={},ie={};Object.defineProperty(ie,"__esModule",{value:!0}),ie.thenable=ie.typedArray=ie.stringArray=ie.array=ie.func=ie.error=ie.number=ie.string=ie.boolean=void 0;function No(e){return e===!0||e===!1}ie.boolean=No;function Si(e){return typeof e=="string"||e instanceof String}ie.string=Si;function Mo(e){return typeof e=="number"||e instanceof Number}ie.number=Mo;function Eo(e){return e instanceof Error}ie.error=Eo;function qi(e){return typeof e=="function"}ie.func=qi;function Ni(e){return Array.isArray(e)}ie.array=Ni;function Oo(e){return Ni(e)&&e.every(t=>Si(t))}ie.stringArray=Oo;function jo(e,t){return Array.isArray(e)&&e.every(t)}ie.typedArray=jo;function Lo(e){return e&&qi(e.then)}ie.thenable=Lo;var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.generateUuid=ye.parse=ye.isUUID=ye.v4=ye.empty=void 0;class Tr{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}}class W extends Tr{constructor(){super([W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),"-",W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),"-","4",W._randomHex(),W._randomHex(),W._randomHex(),"-",W._oneOf(W._timeHighBits),W._randomHex(),W._randomHex(),W._randomHex(),"-",W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex(),W._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return W._oneOf(W._chars)}}W._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],W._timeHighBits=["8","9","a","b"],ye.empty=new Tr("00000000-0000-0000-0000-000000000000");function Mi(){return new W}ye.v4=Mi;const Fo=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ei(e){return Fo.test(e)}ye.isUUID=Ei;function Wo(e){if(!Ei(e))throw new Error("invalid uuid");return new Tr(e)}ye.parse=Wo;function Ao(){return Mi().asHex()}ye.generateUuid=Ao;var Le={};Object.defineProperty(Le,"__esModule",{value:!0}),Le.attachPartialResult=Le.ProgressFeature=Le.attachWorkDone=void 0;const Fe=se,Io=ye;class We{constructor(t,n){this._connection=t,this._token=n,We.Instances.set(this._token,this)}begin(t,n,r,i){let o={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(Fe.WorkDoneProgress.type,this._token,o)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(Fe.WorkDoneProgress.type,this._token,r)}done(){We.Instances.delete(this._token),this._connection.sendProgress(Fe.WorkDoneProgress.type,this._token,{kind:"end"})}}We.Instances=new Map;class Oi extends We{constructor(t,n){super(t,n),this._source=new Fe.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class kr{constructor(){}begin(){}report(){}done(){}}class ji extends kr{constructor(){super(),this._source=new Fe.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function Ho(e,t){if(t===void 0||t.workDoneToken===void 0)return new kr;const n=t.workDoneToken;return delete t.workDoneToken,new We(e,n)}Le.attachWorkDone=Ho;const $o=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Fe.WorkDoneProgressCancelNotification.type,n=>{let r=We.Instances.get(n.token);(r instanceof Oi||r instanceof ji)&&r.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new kr:new We(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){const t=(0,Io.generateUuid)();return this.connection.sendRequest(Fe.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Oi(this.connection,t))}else return Promise.resolve(new ji)}};Le.ProgressFeature=$o;var Pr;(function(e){e.type=new Fe.ProgressType})(Pr||(Pr={}));class zo{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(Pr.type,this._token,t)}}function Bo(e,t){if(t===void 0||t.partialResultToken===void 0)return;const n=t.partialResultToken;return delete t.partialResultToken,new zo(e,n)}Le.attachPartialResult=Bo;var Kt={};Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.ConfigurationFeature=void 0;const Uo=se,Vo=ie,Jo=e=>class extends e{getConfiguration(t){return t?Vo.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Uo.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};Kt.ConfigurationFeature=Jo;var xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.WorkspaceFoldersFeature=void 0;const en=se,Qo=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new en.Emitter,this.connection.onNotification(en.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);const n=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(en.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(en.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};xt.WorkspaceFoldersFeature=Qo;var tn={};Object.defineProperty(tn,"__esModule",{value:!0}),tn.CallHierarchyFeature=void 0;const Cr=se,Xo=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(Cr.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{const n=Cr.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{const n=Cr.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};tn.CallHierarchyFeature=Xo;var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.ShowDocumentFeature=void 0;const Go=se,Yo=e=>class extends e{showDocument(t){return this.connection.sendRequest(Go.ShowDocumentRequest.type,t)}};nn.ShowDocumentFeature=Yo;var rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.FileOperationsFeature=void 0;const ut=se,Zo=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(ut.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(ut.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(ut.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(ut.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(ut.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(ut.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};rn.FileOperationsFeature=Zo;var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.LinkedEditingRangeFeature=void 0;const Ko=se,xo=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(Ko.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};on.LinkedEditingRangeFeature=xo;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.TypeHierarchyFeature=void 0;const Sr=se,es=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(Sr.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{const n=Sr.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{const n=Sr.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};sn.TypeHierarchyFeature=es;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.InlineValueFeature=void 0;const Li=se,ts=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(Li.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(Li.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};an.InlineValueFeature=ts;var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.InlayHintFeature=void 0;const qr=se,ns=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(qr.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(qr.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(qr.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};cn.InlayHintFeature=ns;var un={};Object.defineProperty(un,"__esModule",{value:!0}),un.DiagnosticFeature=void 0;const Et=se,rs=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Et.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Et.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Et.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(Et.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Et.WorkspaceDiagnosticRequest.partialResult,n)))}}};un.DiagnosticFeature=rs;var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.MonikerFeature=void 0;const is=se,os=e=>class extends e{get moniker(){return{on:t=>{const n=is.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};ln.MonikerFeature=os,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=e.combineFeatures=e.combineNotebooksFeatures=e.combineLanguagesFeatures=e.combineWorkspaceFeatures=e.combineWindowFeatures=e.combineClientFeatures=e.combineTracerFeatures=e.combineTelemetryFeatures=e.combineConsoleFeatures=e._NotebooksImpl=e._LanguagesImpl=e.BulkUnregistration=e.BulkRegistration=e.ErrorMessageTracker=void 0;const t=se,n=ie,r=ye,i=Le,o=Kt,a=xt,u=tn,c=Me,d=nn,m=rn,w=on,y=sn,h=an,P=cn,H=un,te=Qe,E=ln;function V(N){if(N!==null)return N}class J{constructor(){this._messages=Object.create(null)}add(f){let R=this._messages[f];R||(R=0),R++,this._messages[f]=R}sendErrors(f){Object.keys(this._messages).forEach(R=>{f.window.showErrorMessage(R)})}}e.ErrorMessageTracker=J;class ae{constructor(){}rawAttach(f){this._rawConnection=f}attach(f){this._connection=f}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(f){}initialize(f){}error(f){this.send(t.MessageType.Error,f)}warn(f){this.send(t.MessageType.Warning,f)}info(f){this.send(t.MessageType.Info,f)}log(f){this.send(t.MessageType.Log,f)}send(f,R){this._rawConnection&&this._rawConnection.sendNotification(t.LogMessageNotification.type,{type:f,message:R}).catch(()=>{(0,t.RAL)().console.error("Sending log message failed")})}}class _e{constructor(){}attach(f){this._connection=f}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(f){}fillServerCapabilities(f){}showErrorMessage(f,...R){let O={type:t.MessageType.Error,message:f,actions:R};return this.connection.sendRequest(t.ShowMessageRequest.type,O).then(V)}showWarningMessage(f,...R){let O={type:t.MessageType.Warning,message:f,actions:R};return this.connection.sendRequest(t.ShowMessageRequest.type,O).then(V)}showInformationMessage(f,...R){let O={type:t.MessageType.Info,message:f,actions:R};return this.connection.sendRequest(t.ShowMessageRequest.type,O).then(V)}}const ne=(0,d.ShowDocumentFeature)((0,i.ProgressFeature)(_e));(function(N){function f(){return new fe}N.create=f})(e.BulkRegistration||(e.BulkRegistration={}));class fe{constructor(){this._registrations=[],this._registered=new Set}add(f,R){const O=n.string(f)?f:f.method;if(this._registered.has(O))throw new Error(`${O} is already added to this registration`);const _=r.generateUuid();this._registrations.push({id:_,method:O,registerOptions:R||{}}),this._registered.add(O)}asRegistrationParams(){return{registrations:this._registrations}}}(function(N){function f(){return new D(void 0,[])}N.create=f})(e.BulkUnregistration||(e.BulkUnregistration={}));class D{constructor(f,R){this._connection=f,this._unregistrations=new Map,R.forEach(O=>{this._unregistrations.set(O.method,O)})}get isAttached(){return!!this._connection}attach(f){this._connection=f}add(f){this._unregistrations.set(f.method,f)}dispose(){let f=[];for(let O of this._unregistrations.values())f.push(O);let R={unregisterations:f};this._connection.sendRequest(t.UnregistrationRequest.type,R).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(f){const R=n.string(f)?f:f.method,O=this._unregistrations.get(R);if(!O)return!1;let _={unregisterations:[O]};return this._connection.sendRequest(t.UnregistrationRequest.type,_).then(()=>{this._unregistrations.delete(R)},ge=>{this._connection.console.info(`Un-registering request handler for ${O.id} failed.`)}),!0}}class L{attach(f){this._connection=f}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(f){}fillServerCapabilities(f){}register(f,R,O){return f instanceof fe?this.registerMany(f):f instanceof D?this.registerSingle1(f,R,O):this.registerSingle2(f,R)}registerSingle1(f,R,O){const _=n.string(R)?R:R.method,ge=r.generateUuid();let ve={registrations:[{id:ge,method:_,registerOptions:O||{}}]};return f.isAttached||f.attach(this.connection),this.connection.sendRequest(t.RegistrationRequest.type,ve).then(Ie=>(f.add({id:ge,method:_}),f),Ie=>(this.connection.console.info(`Registering request handler for ${_} failed.`),Promise.reject(Ie)))}registerSingle2(f,R){const O=n.string(f)?f:f.method,_=r.generateUuid();let ge={registrations:[{id:_,method:O,registerOptions:R||{}}]};return this.connection.sendRequest(t.RegistrationRequest.type,ge).then(ve=>t.Disposable.create(()=>{this.unregisterSingle(_,O).catch(()=>{this.connection.console.info(`Un-registering capability with id ${_} failed.`)})}),ve=>(this.connection.console.info(`Registering request handler for ${O} failed.`),Promise.reject(ve)))}unregisterSingle(f,R){let O={unregisterations:[{id:f,method:R}]};return this.connection.sendRequest(t.UnregistrationRequest.type,O).catch(()=>{this.connection.console.info(`Un-registering request handler for ${f} failed.`)})}registerMany(f){let R=f.asRegistrationParams();return this.connection.sendRequest(t.RegistrationRequest.type,R).then(()=>new D(this._connection,R.registrations.map(O=>({id:O.id,method:O.method}))),O=>(this.connection.console.info("Bulk registration failed."),Promise.reject(O)))}}class A{constructor(){}attach(f){this._connection=f}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(f){}fillServerCapabilities(f){}applyEdit(f){function R(_){return _&&!!_.edit}let O=R(f)?f:{edit:f};return this.connection.sendRequest(t.ApplyWorkspaceEditRequest.type,O)}}const F=(0,m.FileOperationsFeature)((0,a.WorkspaceFoldersFeature)((0,o.ConfigurationFeature)(A)));class s{constructor(){this._trace=t.Trace.Off}attach(f){this._connection=f}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(f){}fillServerCapabilities(f){}set trace(f){this._trace=f}log(f,R){this._trace!==t.Trace.Off&&this.connection.sendNotification(t.LogTraceNotification.type,{message:f,verbose:this._trace===t.Trace.Verbose?R:void 0}).catch(()=>{})}}class T{constructor(){}attach(f){this._connection=f}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(f){}fillServerCapabilities(f){}logEvent(f){this.connection.sendNotification(t.TelemetryEventNotification.type,f).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class I{constructor(){}attach(f){this._connection=f}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(f){}fillServerCapabilities(f){}attachWorkDoneProgress(f){return(0,i.attachWorkDone)(this.connection,f)}attachPartialResultProgress(f,R){return(0,i.attachPartialResult)(this.connection,R)}}e._LanguagesImpl=I;const M=(0,E.MonikerFeature)((0,H.DiagnosticFeature)((0,P.InlayHintFeature)((0,h.InlineValueFeature)((0,y.TypeHierarchyFeature)((0,w.LinkedEditingRangeFeature)((0,c.SemanticTokensFeature)((0,u.CallHierarchyFeature)(I))))))));class ${constructor(){}attach(f){this._connection=f}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(f){}fillServerCapabilities(f){}attachWorkDoneProgress(f){return(0,i.attachWorkDone)(this.connection,f)}attachPartialResultProgress(f,R){return(0,i.attachPartialResult)(this.connection,R)}}e._NotebooksImpl=$;const Z=(0,te.NotebookSyncFeature)($);function Xe(N,f){return function(R){return f(N(R))}}e.combineConsoleFeatures=Xe;function Ae(N,f){return function(R){return f(N(R))}}e.combineTelemetryFeatures=Ae;function Ge(N,f){return function(R){return f(N(R))}}e.combineTracerFeatures=Ge;function Ye(N,f){return function(R){return f(N(R))}}e.combineClientFeatures=Ye;function lt(N,f){return function(R){return f(N(R))}}e.combineWindowFeatures=lt;function Se(N,f){return function(R){return f(N(R))}}e.combineWorkspaceFeatures=Se;function qe(N,f){return function(R){return f(N(R))}}e.combineLanguagesFeatures=qe;function Ze(N,f){return function(R){return f(N(R))}}e.combineNotebooksFeatures=Ze;function De(N,f){function R(_,ge,ve){return _&&ge?ve(_,ge):_||ge}return{__brand:"features",console:R(N.console,f.console,Xe),tracer:R(N.tracer,f.tracer,Ge),telemetry:R(N.telemetry,f.telemetry,Ae),client:R(N.client,f.client,Ye),window:R(N.window,f.window,lt),workspace:R(N.workspace,f.workspace,Se),languages:R(N.languages,f.languages,qe),notebooks:R(N.notebooks,f.notebooks,Ze)}}e.combineFeatures=De;function Q(N,f,R){const O=R&&R.console?new(R.console(ae)):new ae,_=N(O);O.rawAttach(_);const ge=R&&R.tracer?new(R.tracer(s)):new s,ve=R&&R.telemetry?new(R.telemetry(T)):new T,Ie=R&&R.client?new(R.client(L)):new L,Ke=R&&R.window?new(R.window(ne)):new ne,Ot=R&&R.workspace?new(R.workspace(F)):new F,dn=R&&R.languages?new(R.languages(M)):new M,fn=R&&R.notebooks?new(R.notebooks(Z)):new Z,dt=[O,ge,ve,Ie,Ke,Ot,dn,fn];function Mr(b){return b instanceof Promise?b:n.thenable(b)?new Promise((p,C)=>{b.then(ke=>p(ke),ke=>C(ke))}):Promise.resolve(b)}let xe,et,Te,Oe={listen:()=>_.listen(),sendRequest:(b,...p)=>_.sendRequest(n.string(b)?b:b.method,...p),onRequest:(b,p)=>_.onRequest(b,p),sendNotification:(b,p)=>{const C=n.string(b)?b:b.method;return arguments.length===1?_.sendNotification(C):_.sendNotification(C,p)},onNotification:(b,p)=>_.onNotification(b,p),onProgress:_.onProgress,sendProgress:_.sendProgress,onInitialize:b=>(et=b,{dispose:()=>{et=void 0}}),onInitialized:b=>_.onNotification(t.InitializedNotification.type,b),onShutdown:b=>(xe=b,{dispose:()=>{xe=void 0}}),onExit:b=>(Te=b,{dispose:()=>{Te=void 0}}),get console(){return O},get telemetry(){return ve},get tracer(){return ge},get client(){return Ie},get window(){return Ke},get workspace(){return Ot},get languages(){return dn},get notebooks(){return fn},onDidChangeConfiguration:b=>_.onNotification(t.DidChangeConfigurationNotification.type,b),onDidChangeWatchedFiles:b=>_.onNotification(t.DidChangeWatchedFilesNotification.type,b),__textDocumentSync:void 0,onDidOpenTextDocument:b=>_.onNotification(t.DidOpenTextDocumentNotification.type,b),onDidChangeTextDocument:b=>_.onNotification(t.DidChangeTextDocumentNotification.type,b),onDidCloseTextDocument:b=>_.onNotification(t.DidCloseTextDocumentNotification.type,b),onWillSaveTextDocument:b=>_.onNotification(t.WillSaveTextDocumentNotification.type,b),onWillSaveTextDocumentWaitUntil:b=>_.onRequest(t.WillSaveTextDocumentWaitUntilRequest.type,b),onDidSaveTextDocument:b=>_.onNotification(t.DidSaveTextDocumentNotification.type,b),sendDiagnostics:b=>_.sendNotification(t.PublishDiagnosticsNotification.type,b),onHover:b=>_.onRequest(t.HoverRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),void 0)),onCompletion:b=>_.onRequest(t.CompletionRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onCompletionResolve:b=>_.onRequest(t.CompletionResolveRequest.type,b),onSignatureHelp:b=>_.onRequest(t.SignatureHelpRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),void 0)),onDeclaration:b=>_.onRequest(t.DeclarationRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onDefinition:b=>_.onRequest(t.DefinitionRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onTypeDefinition:b=>_.onRequest(t.TypeDefinitionRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onImplementation:b=>_.onRequest(t.ImplementationRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onReferences:b=>_.onRequest(t.ReferencesRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onDocumentHighlight:b=>_.onRequest(t.DocumentHighlightRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onDocumentSymbol:b=>_.onRequest(t.DocumentSymbolRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onWorkspaceSymbol:b=>_.onRequest(t.WorkspaceSymbolRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onWorkspaceSymbolResolve:b=>_.onRequest(t.WorkspaceSymbolResolveRequest.type,b),onCodeAction:b=>_.onRequest(t.CodeActionRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onCodeActionResolve:b=>_.onRequest(t.CodeActionResolveRequest.type,(p,C)=>b(p,C)),onCodeLens:b=>_.onRequest(t.CodeLensRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onCodeLensResolve:b=>_.onRequest(t.CodeLensResolveRequest.type,(p,C)=>b(p,C)),onDocumentFormatting:b=>_.onRequest(t.DocumentFormattingRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),void 0)),onDocumentRangeFormatting:b=>_.onRequest(t.DocumentRangeFormattingRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),void 0)),onDocumentOnTypeFormatting:b=>_.onRequest(t.DocumentOnTypeFormattingRequest.type,(p,C)=>b(p,C)),onRenameRequest:b=>_.onRequest(t.RenameRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),void 0)),onPrepareRename:b=>_.onRequest(t.PrepareRenameRequest.type,(p,C)=>b(p,C)),onDocumentLinks:b=>_.onRequest(t.DocumentLinkRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onDocumentLinkResolve:b=>_.onRequest(t.DocumentLinkResolveRequest.type,(p,C)=>b(p,C)),onDocumentColor:b=>_.onRequest(t.DocumentColorRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onColorPresentation:b=>_.onRequest(t.ColorPresentationRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onFoldingRanges:b=>_.onRequest(t.FoldingRangeRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onSelectionRanges:b=>_.onRequest(t.SelectionRangeRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),(0,i.attachPartialResult)(_,p))),onExecuteCommand:b=>_.onRequest(t.ExecuteCommandRequest.type,(p,C)=>b(p,C,(0,i.attachWorkDone)(_,p),void 0)),dispose:()=>_.dispose()};for(let b of dt)b.attach(Oe);return _.onRequest(t.InitializeRequest.type,b=>{f.initialize(b),n.string(b.trace)&&(ge.trace=t.Trace.fromString(b.trace));for(let p of dt)p.initialize(b.capabilities);if(et){let p=et(b,new t.CancellationTokenSource().token,(0,i.attachWorkDone)(_,b),void 0);return Mr(p).then(C=>{if(C instanceof t.ResponseError)return C;let ke=C;ke||(ke={capabilities:{}});let we=ke.capabilities;we||(we={},ke.capabilities=we),we.textDocumentSync===void 0||we.textDocumentSync===null?we.textDocumentSync=n.number(Oe.__textDocumentSync)?Oe.__textDocumentSync:t.TextDocumentSyncKind.None:!n.number(we.textDocumentSync)&&!n.number(we.textDocumentSync.change)&&(we.textDocumentSync.change=n.number(Oe.__textDocumentSync)?Oe.__textDocumentSync:t.TextDocumentSyncKind.None);for(let Er of dt)Er.fillServerCapabilities(we);return ke})}else{let p={capabilities:{textDocumentSync:t.TextDocumentSyncKind.None}};for(let C of dt)C.fillServerCapabilities(p.capabilities);return p}}),_.onRequest(t.ShutdownRequest.type,()=>{if(f.shutdownReceived=!0,xe)return xe(new t.CancellationTokenSource().token)}),_.onNotification(t.ExitNotification.type,()=>{try{Te&&Te()}finally{f.shutdownReceived?f.exit(0):f.exit(1)}}),_.onNotification(t.SetTraceNotification.type,b=>{ge.trace=t.Trace.fromString(b.value)}),Oe}e.createConnection=Q}(Ci),function(e){var t=oe&&oe.__createBinding||(Object.create?function(a,u,c,d){d===void 0&&(d=c);var m=Object.getOwnPropertyDescriptor(u,c);(!m||("get"in m?!u.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return u[c]}}),Object.defineProperty(a,d,m)}:function(a,u,c,d){d===void 0&&(d=c),a[d]=u[c]}),n=oe&&oe.__exportStar||function(a,u){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(u,c)&&t(u,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=Me;Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}}),n(se,e);const i=Mt;Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return i.TextDocuments}});const o=Qe;Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return o.NotebookDocuments}}),n(Ci,e),function(a){a.all={__brand:"features"}}(e.ProposedFeatures||(e.ProposedFeatures={}))}(yn);var Nr={},ss={get exports(){return Nr},set exports(e){Nr=e}};(function(e){e.exports=se})(ss),function(e){var t=oe&&oe.__createBinding||(Object.create?function(u,c,d,m){m===void 0&&(m=d);var w=Object.getOwnPropertyDescriptor(c,d);(!w||("get"in w?!c.__esModule:w.writable||w.configurable))&&(w={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(u,m,w)}:function(u,c,d,m){m===void 0&&(m=d),u[m]=c[d]}),n=oe&&oe.__exportStar||function(u,c){for(var d in u)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&t(c,u,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const r=yn;n(Nr,e),n(yn,e);let i=!1;const o={initialize:u=>{},get shutdownReceived(){return i},set shutdownReceived(u){i=u},exit:u=>{}};function a(u,c,d,m){let w,y,h,P;u!==void 0&&u.__brand==="features"&&(w=u,u=c,c=d,d=m),r.ConnectionStrategy.is(u)||r.ConnectionOptions.is(u)?P=u:(y=u,h=c,P=d);const H=te=>(0,r.createProtocolConnection)(y,h,te,P);return(0,r.createConnection)(H,o,w)}e.createConnection=a}(Wr),function(e){e.exports=Wr}(Zi);const as=new Promise(e=>{self.onmessage=t=>{const n=t.ports?.[0];n!==null&&e(n)}});Fr().then(()=>as).then(e=>{const t=new wt.BrowserMessageReader(self),n=new wt.BrowserMessageWriter(self);let r;const i=wt.createConnection(t,n);function o(d,m){return i.sendNotification(d,m),!0}async function a(d,m){return await i.sendRequest(d,m)}async function u(d){return await i.sendRequest("slint/load_file",d)}function c(d,m){e.postMessage({command:"highlight",data:{path:d,offset:m}})}i.onInitialize(d=>{r=Ji(d,o,a,u,c);const m=r.server_initialize_result(d.capabilities);return m.capabilities.codeLensProvider=null,m}),i.onRequest(async(d,m,w)=>await r.handle_request(w,d,m)),i.onDidChangeTextDocument(async d=>{await r.reload_document(d.contentChanges[d.contentChanges.length-1].text,d.textDocument.uri,d.textDocument.version)}),i.onDidOpenTextDocument(async d=>{await r.reload_document(d.textDocument.text,d.textDocument.uri,d.textDocument.version)}),i.listen(),self.postMessage("OK")})})();
