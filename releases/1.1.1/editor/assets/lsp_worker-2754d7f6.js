(function(){"use strict";let A;const Pe=new Array(128).fill(void 0);Pe.push(void 0,null,!0,!1);function N(e){return Pe[e]}let gt=Pe.length;function Si(e){e<132||(Pe[e]=gt,gt=e)}function ve(e){const t=N(e);return Si(e),t}function ht(e){return e==null}let mt=null;function Ci(){return(mt===null||mt.byteLength===0)&&(mt=new Float64Array(A.memory.buffer)),mt}let yt=null;function le(){return(yt===null||yt.byteLength===0)&&(yt=new Int32Array(A.memory.buffer)),yt}let _t=null;function qi(){return(_t===null||_t.byteLength===0)&&(_t=new BigInt64Array(A.memory.buffer)),_t}function L(e){gt===Pe.length&&Pe.push(Pe.length+1);const t=gt;return gt=Pe[t],Pe[t]=e,t}let Oe=0,bt=null;function Ft(){return(bt===null||bt.byteLength===0)&&(bt=new Uint8Array(A.memory.buffer)),bt}const At=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Ni=typeof At.encodeInto=="function"?function(e,t){return At.encodeInto(e,t)}:function(e,t){const n=At.encode(e);return t.set(n),{read:e.length,written:n.length}};function Ke(e,t,n){if(n===void 0){const c=At.encode(e),u=t(c.length,1)>>>0;return Ft().subarray(u,u+c.length).set(c),Oe=c.length,u}let r=e.length,i=t(r,1)>>>0;const a=Ft();let s=0;for(;s<r;s++){const c=e.charCodeAt(s);if(c>127)break;a[i+s]=c}if(s!==r){s!==0&&(e=e.slice(s)),i=n(i,r,r=s+e.length*3,1)>>>0;const c=Ft().subarray(i+s,i+r),u=Ni(e,c);s+=u.written}return Oe=s,i}const qr=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&qr.decode();function Wt(e,t){return e=e>>>0,qr.decode(Ft().subarray(e,e+t))}function mn(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let a="[";i>0&&(a+=mn(e[0]));for(let s=1;s<i;s++)a+=", "+mn(e[s]);return a+="]",a}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}function Mi(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},a=(...s)=>{i.cnt++;const c=i.a;i.a=0;try{return r(c,i.b,...s)}finally{--i.cnt===0?A.__wbindgen_export_2.get(i.dtor)(c,i.b):i.a=c}};return a.original=i,a}function Ei(e,t,n){A.wasm_bindgen__convert__closures__invoke1_mut__he9345687109f7bc0(e,t,L(n))}function pt(e,t){try{return e.apply(this,t)}catch(n){A.__wbindgen_exn_store(L(n))}}function Oi(e,t,n,r){A.wasm_bindgen__convert__closures__invoke2_mut__he69aab231bbcbd45(e,t,L(n),L(r))}function ji(e,t,n,r,i){try{const u=A.__wbindgen_add_to_stack_pointer(-16);A.create(u,L(e),L(t),L(n),L(r),L(i));var a=le()[u/4+0],s=le()[u/4+1],c=le()[u/4+2];if(c)throw ve(s);return yn.__wrap(a)}finally{A.__wbindgen_add_to_stack_pointer(16)}}class yn{static __wrap(t){t=t>>>0;const n=Object.create(yn.prototype);return n.__wbg_ptr=t,n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();A.__wbg_slintserver_free(t)}server_initialize_result(t){try{const a=A.__wbindgen_add_to_stack_pointer(-16);A.slintserver_server_initialize_result(a,this.__wbg_ptr,L(t));var n=le()[a/4+0],r=le()[a/4+1],i=le()[a/4+2];if(i)throw ve(r);return ve(n)}finally{A.__wbindgen_add_to_stack_pointer(16)}}reload_document(t,n,r){const i=Ke(t,A.__wbindgen_malloc,A.__wbindgen_realloc),a=Oe,s=A.slintserver_reload_document(this.__wbg_ptr,i,a,L(n),r);return ve(s)}handle_request(t,n,r){const i=Ke(n,A.__wbindgen_malloc,A.__wbindgen_realloc),a=Oe,s=A.slintserver_handle_request(this.__wbg_ptr,L(t),i,a,L(r));return ve(s)}reload_config(){const t=A.slintserver_reload_config(this.__wbg_ptr);return ve(t)}}async function Li(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Fi(){const e={};return e.wbg={},e.wbg.__wbindgen_object_drop_ref=function(t){ve(t)},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return N(t)==N(n)},e.wbg.__wbindgen_boolean_get=function(t){const n=N(t);return typeof n=="boolean"?n?1:0:2},e.wbg.__wbindgen_is_bigint=function(t){return typeof N(t)=="bigint"},e.wbg.__wbindgen_number_get=function(t,n){const r=N(n),i=typeof r=="number"?r:void 0;Ci()[t/8+1]=ht(i)?0:i,le()[t/4+0]=!ht(i)},e.wbg.__wbg_isSafeInteger_bb8e18dd21c97288=function(t){return Number.isSafeInteger(N(t))},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){const r=N(n),i=typeof r=="bigint"?r:void 0;qi()[t/8+1]=ht(i)?BigInt(0):i,le()[t/4+0]=!ht(i)},e.wbg.__wbindgen_bigint_from_i64=function(t){return L(t)},e.wbg.__wbindgen_jsval_eq=function(t,n){return N(t)===N(n)},e.wbg.__wbindgen_bigint_from_u64=function(t){const n=BigInt.asUintN(64,t);return L(n)},e.wbg.__wbindgen_string_get=function(t,n){const r=N(n),i=typeof r=="string"?r:void 0;var a=ht(i)?0:Ke(i,A.__wbindgen_malloc,A.__wbindgen_realloc),s=Oe;le()[t/4+1]=s,le()[t/4+0]=a},e.wbg.__wbg_isArray_4c24b343cb13cfb1=function(t){return Array.isArray(N(t))},e.wbg.__wbindgen_is_object=function(t){const n=N(t);return typeof n=="object"&&n!==null},e.wbg.__wbg_iterator_97f0c81209c6c35a=function(){return L(Symbol.iterator)},e.wbg.__wbindgen_in=function(t,n){return N(t)in N(n)},e.wbg.__wbg_length_fff51ee6522a1a18=function(t){return N(t).length},e.wbg.__wbg_getwithrefkey_5e6d9547403deab8=function(t,n){const r=N(t)[N(n)];return L(r)},e.wbg.__wbindgen_is_undefined=function(t){return N(t)===void 0},e.wbg.__wbg_get_44be0491f933a435=function(t,n){const r=N(t)[n>>>0];return L(r)},e.wbg.__wbindgen_is_string=function(t){return typeof N(t)=="string"},e.wbg.__wbg_new_abda76e883ba8a5f=function(){const t=new Error;return L(t)},e.wbg.__wbg_stack_658279fe44541cf6=function(t,n){const r=N(n).stack,i=Ke(r,A.__wbindgen_malloc,A.__wbindgen_realloc),a=Oe;le()[t/4+1]=a,le()[t/4+0]=i},e.wbg.__wbg_error_f851667af71bcfc6=function(t,n){let r,i;try{r=t,i=n,console.error(Wt(t,n))}finally{A.__wbindgen_free(r,i,1)}},e.wbg.__wbg_next_ddb3312ca1c4e32a=function(){return pt(function(t){const n=N(t).next();return L(n)},arguments)},e.wbg.__wbg_done_5c1f01fb660d73b5=function(t){return N(t).done},e.wbg.__wbg_value_1695675138684bd5=function(t){const n=N(t).value;return L(n)},e.wbg.__wbg_get_97b561fb56f034b5=function(){return pt(function(t,n){const r=Reflect.get(N(t),N(n));return L(r)},arguments)},e.wbg.__wbindgen_is_function=function(t){return typeof N(t)=="function"},e.wbg.__wbg_call_cb65541d95d71282=function(){return pt(function(t,n){const r=N(t).call(N(n));return L(r)},arguments)},e.wbg.__wbg_next_526fc47e980da008=function(t){const n=N(t).next;return L(n)},e.wbg.__wbg_length_72e2208bbc0efc61=function(t){return N(t).length},e.wbg.__wbindgen_memory=function(){const t=A.memory;return L(t)},e.wbg.__wbg_buffer_085ec1f694018c4f=function(t){const n=N(t).buffer;return L(n)},e.wbg.__wbg_new_8125e318e6245eed=function(t){const n=new Uint8Array(N(t));return L(n)},e.wbg.__wbg_set_5cf90238115182c3=function(t,n,r){N(t).set(N(n),r>>>0)},e.wbg.__wbindgen_number_new=function(t){return L(t)},e.wbg.__wbg_entries_e51f29c7bba0c054=function(t){const n=Object.entries(N(t));return L(n)},e.wbg.__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4=function(t){let n;try{n=N(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_ArrayBuffer_39ac22089b74fddb=function(t){let n;try{n=N(t)instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbindgen_string_new=function(t,n){const r=Wt(t,n);return L(r)},e.wbg.__wbindgen_object_clone_ref=function(t){const n=N(t);return L(n)},e.wbg.__wbindgen_error_new=function(t,n){const r=new Error(Wt(t,n));return L(r)},e.wbg.__wbg_String_88810dfeb4021902=function(t,n){const r=String(N(n)),i=Ke(r,A.__wbindgen_malloc,A.__wbindgen_realloc),a=Oe;le()[t/4+1]=a,le()[t/4+0]=i},e.wbg.__wbg_new_898a68150f225f2e=function(){const t=new Array;return L(t)},e.wbg.__wbg_set_502d29070ea18557=function(t,n,r){N(t)[n>>>0]=ve(r)},e.wbg.__wbg_new_56693dbed0c32988=function(){return L(new Map)},e.wbg.__wbg_new_b51585de1b234aff=function(){const t=new Object;return L(t)},e.wbg.__wbg_set_bedc3d02d0f05eb0=function(t,n,r){const i=N(t).set(N(n),N(r));return L(i)},e.wbg.__wbg_set_841ac57cff3d672b=function(t,n,r){N(t)[ve(n)]=ve(r)},e.wbg.__wbg_call_4c92f6aec1e1d6e6=function(){return pt(function(t,n,r,i){const a=N(t).call(N(n),N(r),N(i));return L(a)},arguments)},e.wbg.__wbg_call_01734de55d61e11d=function(){return pt(function(t,n,r){const i=N(t).call(N(n),N(r));return L(i)},arguments)},e.wbg.__wbg_new_43f1b47c28813cbd=function(t,n){try{var r={a:t,b:n},i=(s,c)=>{const u=r.a;r.a=0;try{return Oi(u,r.b,s,c)}finally{r.a=u}};const a=new Promise(i);return L(a)}finally{r.a=r.b=0}},e.wbg.__wbindgen_debug_string=function(t,n){const r=mn(N(n)),i=Ke(r,A.__wbindgen_malloc,A.__wbindgen_realloc),a=Oe;le()[t/4+1]=a,le()[t/4+0]=i},e.wbg.__wbindgen_throw=function(t,n){throw new Error(Wt(t,n))},e.wbg.__wbg_then_b2267541e2a73865=function(t,n,r){const i=N(t).then(N(n),N(r));return L(i)},e.wbg.__wbg_resolve_53698b95aaf7fcf8=function(t){const n=Promise.resolve(N(t));return L(n)},e.wbg.__wbg_then_f7e06ee3c11698eb=function(t,n){const r=N(t).then(N(n));return L(r)},e.wbg.__wbindgen_cb_drop=function(t){const n=ve(t).original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbindgen_closure_wrapper2322=function(t,n,r){const i=Mi(t,n,107,Ei);return L(i)},e}function Ai(e,t){return A=e.exports,Nr.__wbindgen_wasm_module=t,_t=null,mt=null,yt=null,bt=null,A}async function Nr(e){if(A!==void 0)return A;typeof e>"u"&&(e=new URL(""+new URL("slint_lsp_wasm_bg-15960529.wasm",self.location.href).href,self.location));const t=Fi();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Li(await e,t);return Ai(n,r)}var te=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wi(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var a=Function.bind.apply(t,i);return new a}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Mr={},_n={},Se={},re={},Be={},bn={},It={},pn={},ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.stringArray=ne.array=ne.func=ne.error=ne.number=ne.string=ne.boolean=void 0;function Ii(e){return e===!0||e===!1}ne.boolean=Ii;function Er(e){return typeof e=="string"||e instanceof String}ne.string=Er;function Hi(e){return typeof e=="number"||e instanceof Number}ne.number=Hi;function $i(e){return e instanceof Error}ne.error=$i;function zi(e){return typeof e=="function"}ne.func=zi;function Or(e){return Array.isArray(e)}ne.array=Or;function Bi(e){return Or(e)&&e.every(t=>Er(t))}ne.stringArray=Bi,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType=e.RequestType0=e.AbstractMessageSignature=e.ParameterStructures=e.ResponseError=e.ErrorCodes=void 0;const t=ne;var n;(function(o){o.ParseError=-32700,o.InvalidRequest=-32600,o.MethodNotFound=-32601,o.InvalidParams=-32602,o.InternalError=-32603,o.jsonrpcReservedErrorRangeStart=-32099,o.serverErrorStart=-32099,o.MessageWriteError=-32099,o.MessageReadError=-32098,o.PendingResponseRejected=-32097,o.ConnectionInactive=-32096,o.ServerNotInitialized=-32002,o.UnknownErrorCode=-32001,o.jsonrpcReservedErrorRangeEnd=-32e3,o.serverErrorEnd=-32e3})(n=e.ErrorCodes||(e.ErrorCodes={}));class r extends Error{constructor(v,k,C){super(k),this.code=t.number(v)?v:n.UnknownErrorCode,this.data=C,Object.setPrototypeOf(this,r.prototype)}toJson(){const v={code:this.code,message:this.message};return this.data!==void 0&&(v.data=this.data),v}}e.ResponseError=r;class i{constructor(v){this.kind=v}static is(v){return v===i.auto||v===i.byName||v===i.byPosition}toString(){return this.kind}}e.ParameterStructures=i,i.auto=new i("auto"),i.byPosition=new i("byPosition"),i.byName=new i("byName");class a{constructor(v,k){this.method=v,this.numberOfParams=k}get parameterStructures(){return i.auto}}e.AbstractMessageSignature=a;class s extends a{constructor(v){super(v,0)}}e.RequestType0=s;class c extends a{constructor(v,k=i.auto){super(v,1),this._parameterStructures=k}get parameterStructures(){return this._parameterStructures}}e.RequestType=c;class u extends a{constructor(v,k=i.auto){super(v,1),this._parameterStructures=k}get parameterStructures(){return this._parameterStructures}}e.RequestType1=u;class d extends a{constructor(v){super(v,2)}}e.RequestType2=d;class h extends a{constructor(v){super(v,3)}}e.RequestType3=h;class p extends a{constructor(v){super(v,4)}}e.RequestType4=p;class _ extends a{constructor(v){super(v,5)}}e.RequestType5=_;class m extends a{constructor(v){super(v,6)}}e.RequestType6=m;class P extends a{constructor(v){super(v,7)}}e.RequestType7=P;class W extends a{constructor(v){super(v,8)}}e.RequestType8=W;class U extends a{constructor(v){super(v,9)}}e.RequestType9=U;class j extends a{constructor(v,k=i.auto){super(v,1),this._parameterStructures=k}get parameterStructures(){return this._parameterStructures}}e.NotificationType=j;class $ extends a{constructor(v){super(v,0)}}e.NotificationType0=$;class z extends a{constructor(v,k=i.auto){super(v,1),this._parameterStructures=k}get parameterStructures(){return this._parameterStructures}}e.NotificationType1=z;class ce extends a{constructor(v){super(v,2)}}e.NotificationType2=ce;class he extends a{constructor(v){super(v,3)}}e.NotificationType3=he;class fe extends a{constructor(v){super(v,4)}}e.NotificationType4=fe;class ie extends a{constructor(v){super(v,5)}}e.NotificationType5=ie;class be extends a{constructor(v){super(v,6)}}e.NotificationType6=be;class oe extends a{constructor(v){super(v,7)}}e.NotificationType7=oe;class Ae extends a{constructor(v){super(v,8)}}e.NotificationType8=Ae;class T extends a{constructor(v){super(v,9)}}e.NotificationType9=T,function(o){function v(H){const ae=H;return ae&&t.string(ae.method)&&(t.string(ae.id)||t.number(ae.id))}o.isRequest=v;function k(H){const ae=H;return ae&&t.string(ae.method)&&H.id===void 0}o.isNotification=k;function C(H){const ae=H;return ae&&(ae.result!==void 0||!!ae.error)&&(t.string(ae.id)||t.number(ae.id)||ae.id===null)}o.isResponse=C}(e.Message||(e.Message={}))}(pn);var vn={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=void 0;var n;(function(a){a.None=0,a.First=1,a.AsOld=a.First,a.Last=2,a.AsNew=a.Last})(n=e.Touch||(e.Touch={}));class r{constructor(){this[t]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(s){return this._map.has(s)}get(s,c=n.None){const u=this._map.get(s);if(u)return c!==n.None&&this.touch(u,c),u.value}set(s,c,u=n.None){let d=this._map.get(s);if(d)d.value=c,u!==n.None&&this.touch(d,u);else{switch(d={key:s,value:c,next:void 0,previous:void 0},u){case n.None:this.addItemLast(d);break;case n.First:this.addItemFirst(d);break;case n.Last:this.addItemLast(d);break;default:this.addItemLast(d);break}this._map.set(s,d),this._size++}return this}delete(s){return!!this.remove(s)}remove(s){const c=this._map.get(s);if(c)return this._map.delete(s),this.removeItem(c),this._size--,c.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const s=this._head;return this._map.delete(s.key),this.removeItem(s),this._size--,s.value}forEach(s,c){const u=this._state;let d=this._head;for(;d;){if(c?s.bind(c)(d.value,d.key,this):s(d.value,d.key,this),this._state!==u)throw new Error("LinkedMap got modified during iteration.");d=d.next}}keys(){const s=this._state;let c=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(c){const d={value:c.key,done:!1};return c=c.next,d}else return{value:void 0,done:!0}}};return u}values(){const s=this._state;let c=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(c){const d={value:c.value,done:!1};return c=c.next,d}else return{value:void 0,done:!0}}};return u}entries(){const s=this._state;let c=this._head;const u={[Symbol.iterator]:()=>u,next:()=>{if(this._state!==s)throw new Error("LinkedMap got modified during iteration.");if(c){const d={value:[c.key,c.value],done:!1};return c=c.next,d}else return{value:void 0,done:!0}}};return u}[(t=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(s){if(s>=this.size)return;if(s===0){this.clear();return}let c=this._head,u=this.size;for(;c&&u>s;)this._map.delete(c.key),c=c.next,u--;this._head=c,this._size=u,c&&(c.previous=void 0),this._state++}addItemFirst(s){if(!this._head&&!this._tail)this._tail=s;else if(this._head)s.next=this._head,this._head.previous=s;else throw new Error("Invalid list");this._head=s,this._state++}addItemLast(s){if(!this._head&&!this._tail)this._head=s;else if(this._tail)s.previous=this._tail,this._tail.next=s;else throw new Error("Invalid list");this._tail=s,this._state++}removeItem(s){if(s===this._head&&s===this._tail)this._head=void 0,this._tail=void 0;else if(s===this._head){if(!s.next)throw new Error("Invalid list");s.next.previous=void 0,this._head=s.next}else if(s===this._tail){if(!s.previous)throw new Error("Invalid list");s.previous.next=void 0,this._tail=s.previous}else{const c=s.next,u=s.previous;if(!c||!u)throw new Error("Invalid list");c.previous=u,u.next=c}s.next=void 0,s.previous=void 0,this._state++}touch(s,c){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(c!==n.First&&c!==n.Last)){if(c===n.First){if(s===this._head)return;const u=s.next,d=s.previous;s===this._tail?(d.next=void 0,this._tail=d):(u.previous=d,d.next=u),s.previous=void 0,s.next=this._head,this._head.previous=s,this._head=s,this._state++}else if(c===n.Last){if(s===this._tail)return;const u=s.next,d=s.previous;s===this._head?(u.previous=void 0,this._head=u):(u.previous=d,d.next=u),s.next=void 0,s.previous=this._tail,this._tail.next=s,this._tail=s,this._state++}}}toJSON(){const s=[];return this.forEach((c,u)=>{s.push([u,c])}),s}fromJSON(s){this.clear();for(const[c,u]of s)this.set(c,u)}}e.LinkedMap=r;class i extends r{constructor(s,c=1){super(),this._limit=s,this._ratio=Math.min(Math.max(0,c),1)}get limit(){return this._limit}set limit(s){this._limit=s,this.checkTrim()}get ratio(){return this._ratio}set ratio(s){this._ratio=Math.min(Math.max(0,s),1),this.checkTrim()}get(s,c=n.AsNew){return super.get(s,c)}peek(s){return super.get(s,n.None)}set(s,c){return super.set(s,c,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=i})(vn);var jr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0,function(t){function n(r){return{dispose:r}}t.create=n}(e.Disposable||(e.Disposable={}))})(jr);var xe={},Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});let wn;function Rn(){if(wn===void 0)throw new Error("No runtime abstraction layer installed");return wn}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");wn=n}e.install=t})(Rn||(Rn={})),Ce.default=Rn,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;const t=Ce;(function(i){const a={dispose(){}};i.None=function(){return a}})(e.Event||(e.Event={}));class n{add(a,s=null,c){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(a),this._contexts.push(s),Array.isArray(c)&&c.push({dispose:()=>this.remove(a,s)})}remove(a,s=null){if(!this._callbacks)return;let c=!1;for(let u=0,d=this._callbacks.length;u<d;u++)if(this._callbacks[u]===a)if(this._contexts[u]===s){this._callbacks.splice(u,1),this._contexts.splice(u,1);return}else c=!0;if(c)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...a){if(!this._callbacks)return[];const s=[],c=this._callbacks.slice(0),u=this._contexts.slice(0);for(let d=0,h=c.length;d<h;d++)try{s.push(c[d].apply(u[d],a))}catch(p){(0,t.default)().console.error(p)}return s}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(a){this._options=a}get event(){return this._event||(this._event=(a,s,c)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(a,s);const u={dispose:()=>{this._callbacks&&(this._callbacks.remove(a,s),u.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(c)&&c.push(u),u}),this._event}fire(a){this._callbacks&&this._callbacks.invoke.call(this._callbacks,a)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}e.Emitter=r,r._noop=function(){}}(xe);var Ht={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const t=Ce,n=ne,r=xe;var i;(function(u){u.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),u.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None});function d(h){const p=h;return p&&(p===u.None||p===u.Cancelled||n.boolean(p.isCancellationRequested)&&!!p.onCancellationRequested)}u.is=d})(i=e.CancellationToken||(e.CancellationToken={}));const a=Object.freeze(function(u,d){const h=(0,t.default)().timer.setTimeout(u.bind(d),0);return{dispose(){h.dispose()}}});class s{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class c{get token(){return this._token||(this._token=new s),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof s&&this._token.dispose():this._token=i.None}}e.CancellationTokenSource=c})(Ht);var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.SharedArrayReceiverStrategy=et.SharedArraySenderStrategy=void 0;const Ui=Ht;var vt;(function(e){e.Continue=0,e.Cancelled=1})(vt||(vt={}));class Vi{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;const n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=vt.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){const r=this.buffers.get(n);if(r===void 0)return;const i=new Int32Array(r,0,1);Atomics.store(i,0,vt.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}}et.SharedArraySenderStrategy=Vi;class Ji{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===vt.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class Qi{constructor(t){this.token=new Ji(t)}cancel(){}dispose(){}}class Xi{constructor(){this.kind="request"}createCancellationTokenSource(t){const n=t.$cancellationData;return n===void 0?new Ui.CancellationTokenSource:new Qi(n)}}et.SharedArrayReceiverStrategy=Xi;var Lr={},wt={};Object.defineProperty(wt,"__esModule",{value:!0}),wt.Semaphore=void 0;const Gi=Ce;class Yi{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Gi.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}}wt.Semaphore=Yi,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=void 0;const t=Ce,n=ne,r=xe,i=wt;(function(u){function d(h){let p=h;return p&&n.func(p.listen)&&n.func(p.dispose)&&n.func(p.onError)&&n.func(p.onClose)&&n.func(p.onPartialMessage)}u.is=d})(e.MessageReader||(e.MessageReader={}));class a{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(d){this.errorEmitter.fire(this.asError(d))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(d){this.partialMessageEmitter.fire(d)}asError(d){return d instanceof Error?d:new Error(`Reader received error. Reason: ${n.string(d.message)?d.message:"unknown"}`)}}e.AbstractMessageReader=a;var s;(function(u){function d(h){let p,_;const m=new Map;let P;const W=new Map;if(h===void 0||typeof h=="string")p=h??"utf-8";else{if(p=h.charset??"utf-8",h.contentDecoder!==void 0&&(_=h.contentDecoder,m.set(_.name,_)),h.contentDecoders!==void 0)for(const U of h.contentDecoders)m.set(U.name,U);if(h.contentTypeDecoder!==void 0&&(P=h.contentTypeDecoder,W.set(P.name,P)),h.contentTypeDecoders!==void 0)for(const U of h.contentTypeDecoders)W.set(U.name,U)}return P===void 0&&(P=(0,t.default)().applicationJson.decoder,W.set(P.name,P)),{charset:p,contentDecoder:_,contentDecoders:m,contentTypeDecoder:P,contentTypeDecoders:W}}u.fromOptions=d})(s||(s={}));class c extends a{constructor(d,h){super(),this.readable=d,this.options=s.fromOptions(h),this.buffer=(0,t.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new i.Semaphore(1)}set partialMessageTimeout(d){this._partialMessageTimeout=d}get partialMessageTimeout(){return this._partialMessageTimeout}listen(d){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=d;const h=this.readable.onData(p=>{this.onData(p)});return this.readable.onError(p=>this.fireError(p)),this.readable.onClose(()=>this.fireClose()),h}onData(d){for(this.buffer.append(d);;){if(this.nextMessageLength===-1){const p=this.buffer.tryReadHeaders(!0);if(!p)return;const _=p.get("content-length");if(!_){this.fireError(new Error("Header must provide a Content-Length property."));return}const m=parseInt(_);if(isNaN(m)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=m}const h=this.buffer.tryReadBody(this.nextMessageLength);if(h===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const p=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(h):h,_=await this.options.contentTypeDecoder.decode(p,this.options);this.callback(_)}).catch(p=>{this.fireError(p)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,t.default)().timer.setTimeout((d,h)=>{this.partialMessageTimer=void 0,d===this.messageToken&&(this.firePartialMessage({messageToken:d,waitingTime:h}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}e.ReadableStreamMessageReader=c}(Lr);var Fr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=void 0;const t=Ce,n=ne,r=wt,i=xe,a="Content-Length: ",s=`\r
`;(function(h){function p(_){let m=_;return m&&n.func(m.dispose)&&n.func(m.onClose)&&n.func(m.onError)&&n.func(m.write)}h.is=p})(e.MessageWriter||(e.MessageWriter={}));class c{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(p,_,m){this.errorEmitter.fire([this.asError(p),_,m])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(p){return p instanceof Error?p:new Error(`Writer received error. Reason: ${n.string(p.message)?p.message:"unknown"}`)}}e.AbstractMessageWriter=c;var u;(function(h){function p(_){return _===void 0||typeof _=="string"?{charset:_??"utf-8",contentTypeEncoder:(0,t.default)().applicationJson.encoder}:{charset:_.charset??"utf-8",contentEncoder:_.contentEncoder,contentTypeEncoder:_.contentTypeEncoder??(0,t.default)().applicationJson.encoder}}h.fromOptions=p})(u||(u={}));class d extends c{constructor(p,_){super(),this.writable=p,this.options=u.fromOptions(_),this.errorCount=0,this.writeSemaphore=new r.Semaphore(1),this.writable.onError(m=>this.fireError(m)),this.writable.onClose(()=>this.fireClose())}async write(p){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(p,this.options).then(m=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(m):m).then(m=>{const P=[];return P.push(a,m.byteLength.toString(),s),P.push(s),this.doWrite(p,P,m)},m=>{throw this.fireError(m),m}))}async doWrite(p,_,m){try{return await this.writable.write(_.join(""),"ascii"),this.writable.write(m)}catch(P){return this.handleError(P,p),Promise.reject(P)}}handleError(p,_){this.errorCount++,this.fireError(p,_,this.errorCount)}end(){this.writable.end()}}e.WriteableStreamMessageWriter=d})(Fr);var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.AbstractMessageBuffer=void 0;const Zi=13,Ki=10,xi=`\r
`;class eo{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){const n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,a=0;e:for(;r<this._chunks.length;){const d=this._chunks[r];for(i=0;i<d.length;){switch(d[i]){case Zi:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Ki:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}a+=d.byteLength,r++}if(n!==4)return;const s=this._read(a+i),c=new Map,u=this.toString(s,"ascii").split(xi);if(u.length<2)return c;for(let d=0;d<u.length-2;d++){const h=u[d],p=h.indexOf(":");if(p===-1)throw new Error("Message header must separate key and value using :");const _=h.substr(0,p),m=h.substr(p+1).trim();c.set(t?_.toLowerCase():_,m)}return c}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){const a=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(a)}if(this._chunks[0].byteLength>t){const a=this._chunks[0],s=this.asNative(a,t);return this._chunks[0]=a.slice(t),this._totalLength-=t,s}const n=this.allocNative(t);let r=0,i=0;for(;t>0;){const a=this._chunks[i];if(a.byteLength>t){const s=a.slice(0,t);n.set(s,r),r+=t,this._chunks[i]=a.slice(t),this._totalLength-=t,t-=t}else n.set(a,r),r+=a.byteLength,this._chunks.shift(),this._totalLength-=a.byteLength,t-=a.byteLength}return n}}$t.AbstractMessageBuffer=eo;var Ar={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=Ce,n=ne,r=pn,i=vn,a=xe,s=Ht;var c;(function(T){T.type=new r.NotificationType("$/cancelRequest")})(c||(c={}));var u;(function(T){function o(v){return typeof v=="string"||typeof v=="number"}T.is=o})(u=e.ProgressToken||(e.ProgressToken={}));var d;(function(T){T.type=new r.NotificationType("$/progress")})(d||(d={}));class h{constructor(){}}e.ProgressType=h;var p;(function(T){function o(v){return n.func(v)}T.is=o})(p||(p={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var _;(function(T){T[T.Off=0]="Off",T[T.Messages=1]="Messages",T[T.Compact=2]="Compact",T[T.Verbose=3]="Verbose"})(_=e.Trace||(e.Trace={})),function(T){T.Off="off",T.Messages="messages",T.Compact="compact",T.Verbose="verbose"}(e.TraceValues||(e.TraceValues={})),function(T){function o(k){if(!n.string(k))return T.Off;switch(k=k.toLowerCase(),k){case"off":return T.Off;case"messages":return T.Messages;case"compact":return T.Compact;case"verbose":return T.Verbose;default:return T.Off}}T.fromString=o;function v(k){switch(k){case T.Off:return"off";case T.Messages:return"messages";case T.Compact:return"compact";case T.Verbose:return"verbose";default:return"off"}}T.toString=v}(_=e.Trace||(e.Trace={}));var m;(function(T){T.Text="text",T.JSON="json"})(m=e.TraceFormat||(e.TraceFormat={})),function(T){function o(v){return n.string(v)?(v=v.toLowerCase(),v==="json"?T.JSON:T.Text):T.Text}T.fromString=o}(m=e.TraceFormat||(e.TraceFormat={}));var P;(function(T){T.type=new r.NotificationType("$/setTrace")})(P=e.SetTraceNotification||(e.SetTraceNotification={}));var W;(function(T){T.type=new r.NotificationType("$/logTrace")})(W=e.LogTraceNotification||(e.LogTraceNotification={}));var U;(function(T){T[T.Closed=1]="Closed",T[T.Disposed=2]="Disposed",T[T.AlreadyListening=3]="AlreadyListening"})(U=e.ConnectionErrors||(e.ConnectionErrors={}));class j extends Error{constructor(o,v){super(v),this.code=o,Object.setPrototypeOf(this,j.prototype)}}e.ConnectionError=j;var $;(function(T){function o(v){const k=v;return k&&n.func(k.cancelUndispatched)}T.is=o})($=e.ConnectionStrategy||(e.ConnectionStrategy={}));var z;(function(T){function o(v){const k=v;return k&&(k.kind===void 0||k.kind==="id")&&n.func(k.createCancellationTokenSource)&&(k.dispose===void 0||n.func(k.dispose))}T.is=o})(z=e.IdCancellationReceiverStrategy||(e.IdCancellationReceiverStrategy={}));var ce;(function(T){function o(v){const k=v;return k&&k.kind==="request"&&n.func(k.createCancellationTokenSource)&&(k.dispose===void 0||n.func(k.dispose))}T.is=o})(ce=e.RequestCancellationReceiverStrategy||(e.RequestCancellationReceiverStrategy={}));var he;(function(T){T.Message=Object.freeze({createCancellationTokenSource(v){return new s.CancellationTokenSource}});function o(v){return z.is(v)||ce.is(v)}T.is=o})(he=e.CancellationReceiverStrategy||(e.CancellationReceiverStrategy={}));var fe;(function(T){T.Message=Object.freeze({sendCancellation(v,k){return v.sendNotification(c.type,{id:k})},cleanup(v){}});function o(v){const k=v;return k&&n.func(k.sendCancellation)&&n.func(k.cleanup)}T.is=o})(fe=e.CancellationSenderStrategy||(e.CancellationSenderStrategy={}));var ie;(function(T){T.Message=Object.freeze({receiver:he.Message,sender:fe.Message});function o(v){const k=v;return k&&he.is(k.receiver)&&fe.is(k.sender)}T.is=o})(ie=e.CancellationStrategy||(e.CancellationStrategy={}));var be;(function(T){function o(v){const k=v;return k&&n.func(k.handleMessage)}T.is=o})(be=e.MessageStrategy||(e.MessageStrategy={})),function(T){function o(v){const k=v;return k&&(ie.is(k.cancellationStrategy)||$.is(k.connectionStrategy)||be.is(k.messageStrategy))}T.is=o}(e.ConnectionOptions||(e.ConnectionOptions={}));var oe;(function(T){T[T.New=1]="New",T[T.Listening=2]="Listening",T[T.Closed=3]="Closed",T[T.Disposed=4]="Disposed"})(oe||(oe={}));function Ae(T,o,v,k){const C=v!==void 0?v:e.NullLogger;let H=0,ae=0,fn=0;const We="2.0";let Ie;const Xe=new Map;let He;const Ge=new Map,Ye=new Map;let st,Ne=new i.LinkedMap,Me=new Map,O=new Set,g=new Map,b=_.Off,E=m.Text,y,X=oe.New;const me=new a.Emitter,$e=new a.Emitter,Mt=new a.Emitter,Et=new a.Emitter,Ot=new a.Emitter,we=k&&k.cancellationStrategy?k.cancellationStrategy:ie.Message;function Ze(l){if(l===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+l.toString()}function Pr(l){return l===null?"res-unknown-"+(++fn).toString():"res-"+l.toString()}function ct(){return"not-"+(++ae).toString()}function ut(l,D){r.Message.isRequest(D)?l.set(Ze(D.id),D):r.Message.isResponse(D)?l.set(Pr(D.id),D):l.set(ct(),D)}function lt(l){}function Ee(){return X===oe.Listening}function w(){return X===oe.Closed}function R(){return X===oe.Disposed}function q(){(X===oe.New||X===oe.Listening)&&(X=oe.Closed,$e.fire(void 0))}function Re(l){me.fire([l,void 0,void 0])}function pe(l){me.fire(l)}T.onClose(q),T.onError(Re),o.onClose(q),o.onError(pe);function gn(){st||Ne.size===0||(st=(0,t.default)().timer.setImmediate(()=>{st=void 0,ea()}))}function Di(l){r.Message.isRequest(l)?na(l):r.Message.isNotification(l)?ia(l):r.Message.isResponse(l)?ra(l):oa(l)}function ea(){if(Ne.size===0)return;const l=Ne.shift();try{const D=k?.messageStrategy;be.is(D)?D.handleMessage(l,Di):Di(l)}finally{gn()}}const ta=l=>{try{if(r.Message.isNotification(l)&&l.method===c.type.method){const D=l.params.id,S=Ze(D),M=Ne.get(S);if(r.Message.isRequest(M)){const V=k?.connectionStrategy,K=V&&V.cancelUndispatched?V.cancelUndispatched(M,lt):void 0;if(K&&(K.error!==void 0||K.result!==void 0)){Ne.delete(S),g.delete(D),K.id=M.id,hn(K,l.method,Date.now()),o.write(K).catch(()=>C.error("Sending response for canceled message failed."));return}}const J=g.get(D);if(J!==void 0){J.cancel(),Sr(l);return}else O.add(D)}ut(Ne,l)}finally{gn()}};function na(l){if(R())return;function D(I,G,B){const se={jsonrpc:We,id:l.id};I instanceof r.ResponseError?se.error=I.toJson():se.result=I===void 0?null:I,hn(se,G,B),o.write(se).catch(()=>C.error("Sending response failed."))}function S(I,G,B){const se={jsonrpc:We,id:l.id,error:I.toJson()};hn(se,G,B),o.write(se).catch(()=>C.error("Sending response failed."))}function M(I,G,B){I===void 0&&(I=null);const se={jsonrpc:We,id:l.id,result:I};hn(se,G,B),o.write(se).catch(()=>C.error("Sending response failed."))}ca(l);const J=Xe.get(l.method);let V,K;J&&(V=J.type,K=J.handler);const ee=Date.now();if(K||Ie){const I=l.id??String(Date.now()),G=z.is(we.receiver)?we.receiver.createCancellationTokenSource(I):we.receiver.createCancellationTokenSource(l);l.id!==null&&O.has(l.id)&&G.cancel(),l.id!==null&&g.set(I,G);try{let B;if(K)if(l.params===void 0){if(V!==void 0&&V.numberOfParams!==0){S(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${l.method} defines ${V.numberOfParams} params but received none.`),l.method,ee);return}B=K(G.token)}else if(Array.isArray(l.params)){if(V!==void 0&&V.parameterStructures===r.ParameterStructures.byName){S(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by name but received parameters by position`),l.method,ee);return}B=K(...l.params,G.token)}else{if(V!==void 0&&V.parameterStructures===r.ParameterStructures.byPosition){S(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by position but received parameters by name`),l.method,ee);return}B=K(l.params,G.token)}else Ie&&(B=Ie(l.method,l.params,G.token));const se=B;B?se.then?se.then(de=>{g.delete(I),D(de,l.method,ee)},de=>{g.delete(I),de instanceof r.ResponseError?S(de,l.method,ee):de&&n.string(de.message)?S(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${de.message}`),l.method,ee):S(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,ee)}):(g.delete(I),D(B,l.method,ee)):(g.delete(I),M(B,l.method,ee))}catch(B){g.delete(I),B instanceof r.ResponseError?D(B,l.method,ee):B&&n.string(B.message)?S(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${B.message}`),l.method,ee):S(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,ee)}}else S(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${l.method}`),l.method,ee)}function ra(l){if(!R())if(l.id===null)l.error?C.error(`Received response message without id: Error is: 
${JSON.stringify(l.error,void 0,4)}`):C.error("Received response message without id. No further error information provided.");else{const D=l.id,S=Me.get(D);if(ua(l,S),S!==void 0){Me.delete(D);try{if(l.error){const M=l.error;S.reject(new r.ResponseError(M.code,M.message,M.data))}else if(l.result!==void 0)S.resolve(l.result);else throw new Error("Should never happen.")}catch(M){M.message?C.error(`Response handler '${S.method}' failed with message: ${M.message}`):C.error(`Response handler '${S.method}' failed unexpectedly.`)}}}}function ia(l){if(R())return;let D,S;if(l.method===c.type.method){const M=l.params.id;O.delete(M),Sr(l);return}else{const M=Ge.get(l.method);M&&(S=M.handler,D=M.type)}if(S||He)try{if(Sr(l),S)if(l.params===void 0)D!==void 0&&D.numberOfParams!==0&&D.parameterStructures!==r.ParameterStructures.byName&&C.error(`Notification ${l.method} defines ${D.numberOfParams} params but received none.`),S();else if(Array.isArray(l.params)){const M=l.params;l.method===d.type.method&&M.length===2&&u.is(M[0])?S({token:M[0],value:M[1]}):(D!==void 0&&(D.parameterStructures===r.ParameterStructures.byName&&C.error(`Notification ${l.method} defines parameters by name but received parameters by position`),D.numberOfParams!==l.params.length&&C.error(`Notification ${l.method} defines ${D.numberOfParams} params but received ${M.length} arguments`)),S(...M))}else D!==void 0&&D.parameterStructures===r.ParameterStructures.byPosition&&C.error(`Notification ${l.method} defines parameters by position but received parameters by name`),S(l.params);else He&&He(l.method,l.params)}catch(M){M.message?C.error(`Notification handler '${l.method}' failed with message: ${M.message}`):C.error(`Notification handler '${l.method}' failed unexpectedly.`)}else Mt.fire(l)}function oa(l){if(!l){C.error("Received empty message.");return}C.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(l,null,4)}`);const D=l;if(n.string(D.id)||n.number(D.id)){const S=D.id,M=Me.get(S);M&&M.reject(new Error("The received response has neither a result nor an error property."))}}function ze(l){if(l!=null)switch(b){case _.Verbose:return JSON.stringify(l,null,4);case _.Compact:return JSON.stringify(l);default:return}}function aa(l){if(!(b===_.Off||!y))if(E===m.Text){let D;(b===_.Verbose||b===_.Compact)&&l.params&&(D=`Params: ${ze(l.params)}

`),y.log(`Sending request '${l.method} - (${l.id})'.`,D)}else dt("send-request",l)}function sa(l){if(!(b===_.Off||!y))if(E===m.Text){let D;(b===_.Verbose||b===_.Compact)&&(l.params?D=`Params: ${ze(l.params)}

`:D=`No parameters provided.

`),y.log(`Sending notification '${l.method}'.`,D)}else dt("send-notification",l)}function hn(l,D,S){if(!(b===_.Off||!y))if(E===m.Text){let M;(b===_.Verbose||b===_.Compact)&&(l.error&&l.error.data?M=`Error data: ${ze(l.error.data)}

`:l.result?M=`Result: ${ze(l.result)}

`:l.error===void 0&&(M=`No result returned.

`)),y.log(`Sending response '${D} - (${l.id})'. Processing request took ${Date.now()-S}ms`,M)}else dt("send-response",l)}function ca(l){if(!(b===_.Off||!y))if(E===m.Text){let D;(b===_.Verbose||b===_.Compact)&&l.params&&(D=`Params: ${ze(l.params)}

`),y.log(`Received request '${l.method} - (${l.id})'.`,D)}else dt("receive-request",l)}function Sr(l){if(!(b===_.Off||!y||l.method===W.type.method))if(E===m.Text){let D;(b===_.Verbose||b===_.Compact)&&(l.params?D=`Params: ${ze(l.params)}

`:D=`No parameters provided.

`),y.log(`Received notification '${l.method}'.`,D)}else dt("receive-notification",l)}function ua(l,D){if(!(b===_.Off||!y))if(E===m.Text){let S;if((b===_.Verbose||b===_.Compact)&&(l.error&&l.error.data?S=`Error data: ${ze(l.error.data)}

`:l.result?S=`Result: ${ze(l.result)}

`:l.error===void 0&&(S=`No result returned.

`)),D){const M=l.error?` Request failed: ${l.error.message} (${l.error.code}).`:"";y.log(`Received response '${D.method} - (${l.id})' in ${Date.now()-D.timerStart}ms.${M}`,S)}else y.log(`Received response ${l.id} without active response promise.`,S)}else dt("receive-response",l)}function dt(l,D){if(!y||b===_.Off)return;const S={isLSPMessage:!0,type:l,message:D,timestamp:Date.now()};y.log(S)}function jt(){if(w())throw new j(U.Closed,"Connection is closed.");if(R())throw new j(U.Disposed,"Connection is disposed.")}function la(){if(Ee())throw new j(U.AlreadyListening,"Connection is already listening")}function da(){if(!Ee())throw new Error("Call listen() first.")}function Lt(l){return l===void 0?null:l}function Ti(l){if(l!==null)return l}function ki(l){return l!=null&&!Array.isArray(l)&&typeof l=="object"}function Cr(l,D){switch(l){case r.ParameterStructures.auto:return ki(D)?Ti(D):[Lt(D)];case r.ParameterStructures.byName:if(!ki(D))throw new Error("Received parameters by name but param is not an object literal.");return Ti(D);case r.ParameterStructures.byPosition:return[Lt(D)];default:throw new Error(`Unknown parameter structure ${l.toString()}`)}}function Pi(l,D){let S;const M=l.numberOfParams;switch(M){case 0:S=void 0;break;case 1:S=Cr(l.parameterStructures,D[0]);break;default:S=[];for(let J=0;J<D.length&&J<M;J++)S.push(Lt(D[J]));if(D.length<M)for(let J=D.length;J<M;J++)S.push(null);break}return S}const ft={sendNotification:(l,...D)=>{jt();let S,M;if(n.string(l)){S=l;const V=D[0];let K=0,ee=r.ParameterStructures.auto;r.ParameterStructures.is(V)&&(K=1,ee=V);let I=D.length;const G=I-K;switch(G){case 0:M=void 0;break;case 1:M=Cr(ee,D[K]);break;default:if(ee===r.ParameterStructures.byName)throw new Error(`Received ${G} parameters for 'by Name' notification parameter structure.`);M=D.slice(K,I).map(B=>Lt(B));break}}else{const V=D;S=l.method,M=Pi(l,V)}const J={jsonrpc:We,method:S,params:M};return sa(J),o.write(J).catch(V=>{throw C.error("Sending notification failed."),V})},onNotification:(l,D)=>{jt();let S;return n.func(l)?He=l:D&&(n.string(l)?(S=l,Ge.set(l,{type:void 0,handler:D})):(S=l.method,Ge.set(l.method,{type:l,handler:D}))),{dispose:()=>{S!==void 0?Ge.delete(S):He=void 0}}},onProgress:(l,D,S)=>{if(Ye.has(D))throw new Error(`Progress handler for token ${D} already registered`);return Ye.set(D,S),{dispose:()=>{Ye.delete(D)}}},sendProgress:(l,D,S)=>ft.sendNotification(d.type,{token:D,value:S}),onUnhandledProgress:Et.event,sendRequest:(l,...D)=>{jt(),da();let S,M,J;if(n.string(l)){S=l;const I=D[0],G=D[D.length-1];let B=0,se=r.ParameterStructures.auto;r.ParameterStructures.is(I)&&(B=1,se=I);let de=D.length;s.CancellationToken.is(G)&&(de=de-1,J=G);const ke=de-B;switch(ke){case 0:M=void 0;break;case 1:M=Cr(se,D[B]);break;default:if(se===r.ParameterStructures.byName)throw new Error(`Received ${ke} parameters for 'by Name' request parameter structure.`);M=D.slice(B,de).map(fa=>Lt(fa));break}}else{const I=D;S=l.method,M=Pi(l,I);const G=l.numberOfParams;J=s.CancellationToken.is(I[G])?I[G]:void 0}const V=H++;let K;J&&(K=J.onCancellationRequested(()=>{const I=we.sender.sendCancellation(ft,V);return I===void 0?(C.log(`Received no promise from cancellation strategy when cancelling id ${V}`),Promise.resolve()):I.catch(()=>{C.log(`Sending cancellation messages for id ${V} failed`)})}));const ee={jsonrpc:We,id:V,method:S,params:M};return aa(ee),typeof we.sender.enableCancellation=="function"&&we.sender.enableCancellation(ee),new Promise(async(I,G)=>{const B=ke=>{I(ke),we.sender.cleanup(V),K?.dispose()},se=ke=>{G(ke),we.sender.cleanup(V),K?.dispose()},de={method:S,timerStart:Date.now(),resolve:B,reject:se};try{await o.write(ee),Me.set(V,de)}catch(ke){throw C.error("Sending request failed."),de.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,ke.message?ke.message:"Unknown reason")),ke}})},onRequest:(l,D)=>{jt();let S=null;return p.is(l)?(S=void 0,Ie=l):n.string(l)?(S=null,D!==void 0&&(S=l,Xe.set(l,{handler:D,type:void 0}))):D!==void 0&&(S=l.method,Xe.set(l.method,{type:l,handler:D})),{dispose:()=>{S!==null&&(S!==void 0?Xe.delete(S):Ie=void 0)}}},hasPendingResponse:()=>Me.size>0,trace:async(l,D,S)=>{let M=!1,J=m.Text;S!==void 0&&(n.boolean(S)?M=S:(M=S.sendNotification||!1,J=S.traceFormat||m.Text)),b=l,E=J,b===_.Off?y=void 0:y=D,M&&!w()&&!R()&&await ft.sendNotification(P.type,{value:_.toString(l)})},onError:me.event,onClose:$e.event,onUnhandledNotification:Mt.event,onDispose:Ot.event,end:()=>{o.end()},dispose:()=>{if(R())return;X=oe.Disposed,Ot.fire(void 0);const l=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const D of Me.values())D.reject(l);Me=new Map,g=new Map,O=new Set,Ne=new i.LinkedMap,n.func(o.dispose)&&o.dispose(),n.func(T.dispose)&&T.dispose()},listen:()=>{jt(),la(),X=oe.Listening,T.listen(ta)},inspect:()=>{(0,t.default)().console.log("inspect")}};return ft.onNotification(W.type,l=>{if(b===_.Off||!y)return;const D=b===_.Verbose||b===_.Compact;y.log(l.message,D?l.verbose:void 0)}),ft.onNotification(d.type,l=>{const D=Ye.get(l.token);D?D(l.value):Et.fire(l)}),ft}e.createMessageConnection=Ae})(Ar),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=pn;Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=vn;Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=jr;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=xe;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const a=Ht;Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const s=et;Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return s.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return s.SharedArrayReceiverStrategy}});const c=Lr;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const u=Fr;Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const d=$t;Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return d.AbstractMessageBuffer}});const h=Ar;Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return h.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return h.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return h.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return h.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return h.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return h.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return h.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return h.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return h.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return h.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return h.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return h.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return h.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return h.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return h.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return h.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return h.MessageStrategy}});const p=Ce;e.RAL=p.default}(It),Object.defineProperty(bn,"__esModule",{value:!0});const De=It;class zt extends De.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return zt.emptyBuffer}fromString(t,n){return new TextEncoder().encode(t)}toString(t,n){return n==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t:t.slice(0,n)}allocNative(t){return new Uint8Array(t)}}zt.emptyBuffer=new Uint8Array(0);class to{constructor(t){this.socket=t,this._onData=new De.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,De.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),De.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),De.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),De.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}}class no{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),De.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),De.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),De.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,n){if(typeof t=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}}const ro=new TextEncoder,Wr=Object.freeze({messageBuffer:Object.freeze({create:e=>new zt(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(ro.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new to(e),asWritableStream:e=>new no(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function Dn(){return Wr}(function(e){function t(){De.RAL.install(Wr)}e.install=t})(Dn||(Dn={})),bn.default=Dn,function(e){var t=te&&te.__createBinding||(Object.create?function(u,d,h,p){p===void 0&&(p=h);var _=Object.getOwnPropertyDescriptor(d,h);(!_||("get"in _?!d.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return d[h]}}),Object.defineProperty(u,p,_)}:function(u,d,h,p){p===void 0&&(p=h),u[p]=d[h]}),n=te&&te.__exportStar||function(u,d){for(var h in u)h!=="default"&&!Object.prototype.hasOwnProperty.call(d,h)&&t(d,u,h)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,bn.default.install();const i=It;n(It,e);class a extends i.AbstractMessageReader{constructor(d){super(),this._onData=new i.Emitter,this._messageListener=h=>{this._onData.fire(h.data)},d.addEventListener("error",h=>this.fireError(h)),d.onmessage=this._messageListener}listen(d){return this._onData.event(d)}}e.BrowserMessageReader=a;class s extends i.AbstractMessageWriter{constructor(d){super(),this.port=d,this.errorCount=0,d.addEventListener("error",h=>this.fireError(h))}write(d){try{return this.port.postMessage(d),Promise.resolve()}catch(h){return this.handleError(h,d),Promise.reject(h)}}handleError(d,h){this.errorCount++,this.fireError(d,h,this.errorCount)}end(){}}e.BrowserMessageWriter=s;function c(u,d,h,p){return h===void 0&&(h=i.NullLogger),i.ConnectionStrategy.is(p)&&(p={connectionStrategy:p}),(0,i.createMessageConnection)(u,d,h,p)}e.createMessageConnection=c}(Be);var Ir=Be,Hr={},Tn;(function(e){function t(n){return typeof n=="string"}e.is=t})(Tn||(Tn={}));var Bt;(function(e){function t(n){return typeof n=="string"}e.is=t})(Bt||(Bt={}));var kn;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(kn||(kn={}));var Rt;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Rt||(Rt={}));var ye;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=Rt.MAX_VALUE),i===Number.MAX_VALUE&&(i=Rt.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&f.uinteger(i.line)&&f.uinteger(i.character)}e.is=n})(ye||(ye={}));var Y;(function(e){function t(r,i,a,s){if(f.uinteger(r)&&f.uinteger(i)&&f.uinteger(a)&&f.uinteger(s))return{start:ye.create(r,i),end:ye.create(a,s)};if(ye.is(r)&&ye.is(i))return{start:r,end:i};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(i,", ").concat(a,", ").concat(s,"]"))}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&ye.is(i.start)&&ye.is(i.end)}e.is=n})(Y||(Y={}));var Dt;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&Y.is(i.range)&&(f.string(i.uri)||f.undefined(i.uri))}e.is=n})(Dt||(Dt={}));var Pn;(function(e){function t(r,i,a,s){return{targetUri:r,targetRange:i,targetSelectionRange:a,originSelectionRange:s}}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&Y.is(i.targetRange)&&f.string(i.targetUri)&&Y.is(i.targetSelectionRange)&&(Y.is(i.originSelectionRange)||f.undefined(i.originSelectionRange))}e.is=n})(Pn||(Pn={}));var Ut;(function(e){function t(r,i,a,s){return{red:r,green:i,blue:a,alpha:s}}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&f.numberRange(i.red,0,1)&&f.numberRange(i.green,0,1)&&f.numberRange(i.blue,0,1)&&f.numberRange(i.alpha,0,1)}e.is=n})(Ut||(Ut={}));var Sn;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&Y.is(i.range)&&Ut.is(i.color)}e.is=n})(Sn||(Sn={}));var Cn;(function(e){function t(r,i,a){return{label:r,textEdit:i,additionalTextEdits:a}}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&f.string(i.label)&&(f.undefined(i.textEdit)||Te.is(i))&&(f.undefined(i.additionalTextEdits)||f.typedArray(i.additionalTextEdits,Te.is))}e.is=n})(Cn||(Cn={}));var qn;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(qn||(qn={}));var Nn;(function(e){function t(r,i,a,s,c,u){var d={startLine:r,endLine:i};return f.defined(a)&&(d.startCharacter=a),f.defined(s)&&(d.endCharacter=s),f.defined(c)&&(d.kind=c),f.defined(u)&&(d.collapsedText=u),d}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&f.uinteger(i.startLine)&&f.uinteger(i.startLine)&&(f.undefined(i.startCharacter)||f.uinteger(i.startCharacter))&&(f.undefined(i.endCharacter)||f.uinteger(i.endCharacter))&&(f.undefined(i.kind)||f.string(i.kind))}e.is=n})(Nn||(Nn={}));var Vt;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){var i=r;return f.defined(i)&&Dt.is(i.location)&&f.string(i.message)}e.is=n})(Vt||(Vt={}));var Mn;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Mn||(Mn={}));var En;(function(e){e.Unnecessary=1,e.Deprecated=2})(En||(En={}));var On;(function(e){function t(n){var r=n;return f.objectLiteral(r)&&f.string(r.href)}e.is=t})(On||(On={}));var Tt;(function(e){function t(r,i,a,s,c,u){var d={range:r,message:i};return f.defined(a)&&(d.severity=a),f.defined(s)&&(d.code=s),f.defined(c)&&(d.source=c),f.defined(u)&&(d.relatedInformation=u),d}e.create=t;function n(r){var i,a=r;return f.defined(a)&&Y.is(a.range)&&f.string(a.message)&&(f.number(a.severity)||f.undefined(a.severity))&&(f.integer(a.code)||f.string(a.code)||f.undefined(a.code))&&(f.undefined(a.codeDescription)||f.string((i=a.codeDescription)===null||i===void 0?void 0:i.href))&&(f.string(a.source)||f.undefined(a.source))&&(f.undefined(a.relatedInformation)||f.typedArray(a.relatedInformation,Vt.is))}e.is=n})(Tt||(Tt={}));var Ue;(function(e){function t(r,i){for(var a=[],s=2;s<arguments.length;s++)a[s-2]=arguments[s];var c={title:r,command:i};return f.defined(a)&&a.length>0&&(c.arguments=a),c}e.create=t;function n(r){var i=r;return f.defined(i)&&f.string(i.title)&&f.string(i.command)}e.is=n})(Ue||(Ue={}));var Te;(function(e){function t(a,s){return{range:a,newText:s}}e.replace=t;function n(a,s){return{range:{start:a,end:a},newText:s}}e.insert=n;function r(a){return{range:a,newText:""}}e.del=r;function i(a){var s=a;return f.objectLiteral(s)&&f.string(s.newText)&&Y.is(s.range)}e.is=i})(Te||(Te={}));var Ve;(function(e){function t(r,i,a){var s={label:r};return i!==void 0&&(s.needsConfirmation=i),a!==void 0&&(s.description=a),s}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&f.string(i.label)&&(f.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(f.string(i.description)||i.description===void 0)}e.is=n})(Ve||(Ve={}));var ue;(function(e){function t(n){var r=n;return f.string(r)}e.is=t})(ue||(ue={}));var qe;(function(e){function t(a,s,c){return{range:a,newText:s,annotationId:c}}e.replace=t;function n(a,s,c){return{range:{start:a,end:a},newText:s,annotationId:c}}e.insert=n;function r(a,s){return{range:a,newText:"",annotationId:s}}e.del=r;function i(a){var s=a;return Te.is(s)&&(Ve.is(s.annotationId)||ue.is(s.annotationId))}e.is=i})(qe||(qe={}));var kt;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){var i=r;return f.defined(i)&&Pt.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(kt||(kt={}));var tt;(function(e){function t(r,i,a){var s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}e.create=t;function n(r){var i=r;return i&&i.kind==="create"&&f.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||f.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||f.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ue.is(i.annotationId))}e.is=n})(tt||(tt={}));var nt;(function(e){function t(r,i,a,s){var c={kind:"rename",oldUri:r,newUri:i};return a!==void 0&&(a.overwrite!==void 0||a.ignoreIfExists!==void 0)&&(c.options=a),s!==void 0&&(c.annotationId=s),c}e.create=t;function n(r){var i=r;return i&&i.kind==="rename"&&f.string(i.oldUri)&&f.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||f.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||f.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||ue.is(i.annotationId))}e.is=n})(nt||(nt={}));var rt;(function(e){function t(r,i,a){var s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),a!==void 0&&(s.annotationId=a),s}e.create=t;function n(r){var i=r;return i&&i.kind==="delete"&&f.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||f.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||f.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||ue.is(i.annotationId))}e.is=n})(rt||(rt={}));var Jt;(function(e){function t(n){var r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(i){return f.string(i.kind)?tt.is(i)||nt.is(i)||rt.is(i):kt.is(i)}))}e.is=t})(Jt||(Jt={}));var Qt=function(){function e(t,n){this.edits=t,this.changeAnnotations=n}return e.prototype.insert=function(t,n,r){var i,a;if(r===void 0?i=Te.insert(t,n):ue.is(r)?(a=r,i=qe.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),i=qe.insert(t,n,a)),this.edits.push(i),a!==void 0)return a},e.prototype.replace=function(t,n,r){var i,a;if(r===void 0?i=Te.replace(t,n):ue.is(r)?(a=r,i=qe.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),a=this.changeAnnotations.manage(r),i=qe.replace(t,n,a)),this.edits.push(i),a!==void 0)return a},e.prototype.delete=function(t,n){var r,i;if(n===void 0?r=Te.del(t):ue.is(n)?(i=n,r=qe.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=qe.del(t,i)),this.edits.push(r),i!==void 0)return i},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),$r=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,n){var r;if(ue.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(n===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=n,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),io=function(){function e(t){var n=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new $r(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(r){if(kt.is(r)){var i=new Qt(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=i}})):t.changes&&Object.keys(t.changes).forEach(function(r){var i=new Qt(t.changes[r]);n._textEditChanges[r]=i})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Pt.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n={uri:t.uri,version:t.version},r=this._textEditChanges[n.uri];if(!r){var i=[],a={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(a),r=new Qt(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[t];if(!r){var i=[];this._workspaceEdit.changes[t]=i,r=new Qt(i),this._textEditChanges[t]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new $r,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ve.is(n)||ue.is(n)?i=n:r=n;var a,s;if(i===void 0?a=tt.create(t,r):(s=ue.is(i)?i:this._changeAnnotations.manage(i),a=tt.create(t,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},e.prototype.renameFile=function(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var a;Ve.is(r)||ue.is(r)?a=r:i=r;var s,c;if(a===void 0?s=nt.create(t,n,i):(c=ue.is(a)?a:this._changeAnnotations.manage(a),s=nt.create(t,n,i,c)),this._workspaceEdit.documentChanges.push(s),c!==void 0)return c},e.prototype.deleteFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ve.is(n)||ue.is(n)?i=n:r=n;var a,s;if(i===void 0?a=rt.create(t,r):(s=ue.is(i)?i:this._changeAnnotations.manage(i),a=rt.create(t,r,s)),this._workspaceEdit.documentChanges.push(a),s!==void 0)return s},e}(),jn;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){var i=r;return f.defined(i)&&f.string(i.uri)}e.is=n})(jn||(jn={}));var Ln;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){var i=r;return f.defined(i)&&f.string(i.uri)&&f.integer(i.version)}e.is=n})(Ln||(Ln={}));var Pt;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){var i=r;return f.defined(i)&&f.string(i.uri)&&(i.version===null||f.integer(i.version))}e.is=n})(Pt||(Pt={}));var Fn;(function(e){function t(r,i,a,s){return{uri:r,languageId:i,version:a,text:s}}e.create=t;function n(r){var i=r;return f.defined(i)&&f.string(i.uri)&&f.string(i.languageId)&&f.integer(i.version)&&f.string(i.text)}e.is=n})(Fn||(Fn={}));var Xt;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){var r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(Xt||(Xt={}));var it;(function(e){function t(n){var r=n;return f.objectLiteral(n)&&Xt.is(r.kind)&&f.string(r.value)}e.is=t})(it||(it={}));var An;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(An||(An={}));var Wn;(function(e){e.PlainText=1,e.Snippet=2})(Wn||(Wn={}));var In;(function(e){e.Deprecated=1})(In||(In={}));var Hn;(function(e){function t(r,i,a){return{newText:r,insert:i,replace:a}}e.create=t;function n(r){var i=r;return i&&f.string(i.newText)&&Y.is(i.insert)&&Y.is(i.replace)}e.is=n})(Hn||(Hn={}));var $n;(function(e){e.asIs=1,e.adjustIndentation=2})($n||($n={}));var zn;(function(e){function t(n){var r=n;return r&&(f.string(r.detail)||r.detail===void 0)&&(f.string(r.description)||r.description===void 0)}e.is=t})(zn||(zn={}));var Bn;(function(e){function t(n){return{label:n}}e.create=t})(Bn||(Bn={}));var Un;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(Un||(Un={}));var St;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){var i=r;return f.string(i)||f.objectLiteral(i)&&f.string(i.language)&&f.string(i.value)}e.is=n})(St||(St={}));var Vn;(function(e){function t(n){var r=n;return!!r&&f.objectLiteral(r)&&(it.is(r.contents)||St.is(r.contents)||f.typedArray(r.contents,St.is))&&(n.range===void 0||Y.is(n.range))}e.is=t})(Vn||(Vn={}));var Jn;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(Jn||(Jn={}));var Qn;(function(e){function t(n,r){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s={label:n};return f.defined(r)&&(s.documentation=r),f.defined(i)?s.parameters=i:s.parameters=[],s}e.create=t})(Qn||(Qn={}));var Xn;(function(e){e.Text=1,e.Read=2,e.Write=3})(Xn||(Xn={}));var Gn;(function(e){function t(n,r){var i={range:n};return f.number(r)&&(i.kind=r),i}e.create=t})(Gn||(Gn={}));var Yn;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Yn||(Yn={}));var Zn;(function(e){e.Deprecated=1})(Zn||(Zn={}));var Kn;(function(e){function t(n,r,i,a,s){var c={name:n,kind:r,location:{uri:a,range:i}};return s&&(c.containerName=s),c}e.create=t})(Kn||(Kn={}));var xn;(function(e){function t(n,r,i,a){return a!==void 0?{name:n,kind:r,location:{uri:i,range:a}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(xn||(xn={}));var er;(function(e){function t(r,i,a,s,c,u){var d={name:r,detail:i,kind:a,range:s,selectionRange:c};return u!==void 0&&(d.children=u),d}e.create=t;function n(r){var i=r;return i&&f.string(i.name)&&f.number(i.kind)&&Y.is(i.range)&&Y.is(i.selectionRange)&&(i.detail===void 0||f.string(i.detail))&&(i.deprecated===void 0||f.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(er||(er={}));var tr;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(tr||(tr={}));var Ct;(function(e){e.Invoked=1,e.Automatic=2})(Ct||(Ct={}));var nr;(function(e){function t(r,i,a){var s={diagnostics:r};return i!=null&&(s.only=i),a!=null&&(s.triggerKind=a),s}e.create=t;function n(r){var i=r;return f.defined(i)&&f.typedArray(i.diagnostics,Tt.is)&&(i.only===void 0||f.typedArray(i.only,f.string))&&(i.triggerKind===void 0||i.triggerKind===Ct.Invoked||i.triggerKind===Ct.Automatic)}e.is=n})(nr||(nr={}));var rr;(function(e){function t(r,i,a){var s={title:r},c=!0;return typeof i=="string"?(c=!1,s.kind=i):Ue.is(i)?s.command=i:s.edit=i,c&&a!==void 0&&(s.kind=a),s}e.create=t;function n(r){var i=r;return i&&f.string(i.title)&&(i.diagnostics===void 0||f.typedArray(i.diagnostics,Tt.is))&&(i.kind===void 0||f.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ue.is(i.command))&&(i.isPreferred===void 0||f.boolean(i.isPreferred))&&(i.edit===void 0||Jt.is(i.edit))}e.is=n})(rr||(rr={}));var ir;(function(e){function t(r,i){var a={range:r};return f.defined(i)&&(a.data=i),a}e.create=t;function n(r){var i=r;return f.defined(i)&&Y.is(i.range)&&(f.undefined(i.command)||Ue.is(i.command))}e.is=n})(ir||(ir={}));var or;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){var i=r;return f.defined(i)&&f.uinteger(i.tabSize)&&f.boolean(i.insertSpaces)}e.is=n})(or||(or={}));var ar;(function(e){function t(r,i,a){return{range:r,target:i,data:a}}e.create=t;function n(r){var i=r;return f.defined(i)&&Y.is(i.range)&&(f.undefined(i.target)||f.string(i.target))}e.is=n})(ar||(ar={}));var sr;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&Y.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(sr||(sr={}));var cr;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(cr||(cr={}));var ur;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(ur||(ur={}));var lr;(function(e){function t(n){var r=n;return f.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(lr||(lr={}));var dr;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){var i=r;return i!=null&&Y.is(i.range)&&f.string(i.text)}e.is=n})(dr||(dr={}));var fr;(function(e){function t(r,i,a){return{range:r,variableName:i,caseSensitiveLookup:a}}e.create=t;function n(r){var i=r;return i!=null&&Y.is(i.range)&&f.boolean(i.caseSensitiveLookup)&&(f.string(i.variableName)||i.variableName===void 0)}e.is=n})(fr||(fr={}));var gr;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){var i=r;return i!=null&&Y.is(i.range)&&(f.string(i.expression)||i.expression===void 0)}e.is=n})(gr||(gr={}));var hr;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){var i=r;return f.defined(i)&&Y.is(r.stoppedLocation)}e.is=n})(hr||(hr={}));var Gt;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(Gt||(Gt={}));var Yt;(function(e){function t(r){return{value:r}}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&(i.tooltip===void 0||f.string(i.tooltip)||it.is(i.tooltip))&&(i.location===void 0||Dt.is(i.location))&&(i.command===void 0||Ue.is(i.command))}e.is=n})(Yt||(Yt={}));var mr;(function(e){function t(r,i,a){var s={position:r,label:i};return a!==void 0&&(s.kind=a),s}e.create=t;function n(r){var i=r;return f.objectLiteral(i)&&ye.is(i.position)&&(f.string(i.label)||f.typedArray(i.label,Yt.is))&&(i.kind===void 0||Gt.is(i.kind))&&i.textEdits===void 0||f.typedArray(i.textEdits,Te.is)&&(i.tooltip===void 0||f.string(i.tooltip)||it.is(i.tooltip))&&(i.paddingLeft===void 0||f.boolean(i.paddingLeft))&&(i.paddingRight===void 0||f.boolean(i.paddingRight))}e.is=n})(mr||(mr={}));var yr;(function(e){function t(n){var r=n;return f.objectLiteral(r)&&Bt.is(r.uri)&&f.string(r.name)}e.is=t})(yr||(yr={}));var oo=[`
`,`\r
`,"\r"],_r;(function(e){function t(a,s,c,u){return new ao(a,s,c,u)}e.create=t;function n(a){var s=a;return!!(f.defined(s)&&f.string(s.uri)&&(f.undefined(s.languageId)||f.string(s.languageId))&&f.uinteger(s.lineCount)&&f.func(s.getText)&&f.func(s.positionAt)&&f.func(s.offsetAt))}e.is=n;function r(a,s){for(var c=a.getText(),u=i(s,function(P,W){var U=P.range.start.line-W.range.start.line;return U===0?P.range.start.character-W.range.start.character:U}),d=c.length,h=u.length-1;h>=0;h--){var p=u[h],_=a.offsetAt(p.range.start),m=a.offsetAt(p.range.end);if(m<=d)c=c.substring(0,_)+p.newText+c.substring(m,c.length);else throw new Error("Overlapping edit");d=_}return c}e.applyEdits=r;function i(a,s){if(a.length<=1)return a;var c=a.length/2|0,u=a.slice(0,c),d=a.slice(c);i(u,s),i(d,s);for(var h=0,p=0,_=0;h<u.length&&p<d.length;){var m=s(u[h],d[p]);m<=0?a[_++]=u[h++]:a[_++]=d[p++]}for(;h<u.length;)a[_++]=u[h++];for(;p<d.length;)a[_++]=d[p++];return a}})(_r||(_r={}));var ao=function(){function e(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content},e.prototype.update=function(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],n=this._content,r=!0,i=0;i<n.length;i++){r&&(t.push(i),r=!1);var a=n.charAt(i);r=a==="\r"||a===`
`,a==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return ye.create(0,t);for(;r<i;){var a=Math.floor((r+i)/2);n[a]>t?i=a:r=a+1}var s=r-1;return ye.create(s,t-n[s])},e.prototype.offsetAt=function(t){var n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;var r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),f;(function(e){var t=Object.prototype.toString;function n(m){return typeof m<"u"}e.defined=n;function r(m){return typeof m>"u"}e.undefined=r;function i(m){return m===!0||m===!1}e.boolean=i;function a(m){return t.call(m)==="[object String]"}e.string=a;function s(m){return t.call(m)==="[object Number]"}e.number=s;function c(m,P,W){return t.call(m)==="[object Number]"&&P<=m&&m<=W}e.numberRange=c;function u(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}e.integer=u;function d(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}e.uinteger=d;function h(m){return t.call(m)==="[object Function]"}e.func=h;function p(m){return m!==null&&typeof m=="object"}e.objectLiteral=p;function _(m,P){return Array.isArray(m)&&m.every(P)}e.typedArray=_})(f||(f={}));var so=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return qe},get ChangeAnnotation(){return Ve},get ChangeAnnotationIdentifier(){return ue},get CodeAction(){return rr},get CodeActionContext(){return nr},get CodeActionKind(){return tr},get CodeActionTriggerKind(){return Ct},get CodeDescription(){return On},get CodeLens(){return ir},get Color(){return Ut},get ColorInformation(){return Sn},get ColorPresentation(){return Cn},get Command(){return Ue},get CompletionItem(){return Bn},get CompletionItemKind(){return An},get CompletionItemLabelDetails(){return zn},get CompletionItemTag(){return In},get CompletionList(){return Un},get CreateFile(){return tt},get DeleteFile(){return rt},get Diagnostic(){return Tt},get DiagnosticRelatedInformation(){return Vt},get DiagnosticSeverity(){return Mn},get DiagnosticTag(){return En},get DocumentHighlight(){return Gn},get DocumentHighlightKind(){return Xn},get DocumentLink(){return ar},get DocumentSymbol(){return er},get DocumentUri(){return Tn},EOL:oo,get FoldingRange(){return Nn},get FoldingRangeKind(){return qn},get FormattingOptions(){return or},get Hover(){return Vn},get InlayHint(){return mr},get InlayHintKind(){return Gt},get InlayHintLabelPart(){return Yt},get InlineValueContext(){return hr},get InlineValueEvaluatableExpression(){return gr},get InlineValueText(){return dr},get InlineValueVariableLookup(){return fr},get InsertReplaceEdit(){return Hn},get InsertTextFormat(){return Wn},get InsertTextMode(){return $n},get Location(){return Dt},get LocationLink(){return Pn},get MarkedString(){return St},get MarkupContent(){return it},get MarkupKind(){return Xt},get OptionalVersionedTextDocumentIdentifier(){return Pt},get ParameterInformation(){return Jn},get Position(){return ye},get Range(){return Y},get RenameFile(){return nt},get SelectionRange(){return sr},get SemanticTokenModifiers(){return ur},get SemanticTokenTypes(){return cr},get SemanticTokens(){return lr},get SignatureInformation(){return Qn},get SymbolInformation(){return Kn},get SymbolKind(){return Yn},get SymbolTag(){return Zn},get TextDocument(){return _r},get TextDocumentEdit(){return kt},get TextDocumentIdentifier(){return jn},get TextDocumentItem(){return Fn},get TextEdit(){return Te},get URI(){return Bt},get VersionedTextDocumentIdentifier(){return Ln},WorkspaceChange:io,get WorkspaceEdit(){return Jt},get WorkspaceFolder(){return yr},get WorkspaceSymbol(){return xn},get integer(){return kn},get uinteger(){return Rt}}),br=Wi(so),Q={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProtocolNotificationType=e.ProtocolNotificationType0=e.ProtocolRequestType=e.ProtocolRequestType0=e.RegistrationType=e.MessageDirection=void 0;const t=Be;(function(c){c.clientToServer="clientToServer",c.serverToClient="serverToClient",c.both="both"})(e.MessageDirection||(e.MessageDirection={}));class n{constructor(u){this.method=u}}e.RegistrationType=n;class r extends t.RequestType0{constructor(u){super(u)}}e.ProtocolRequestType0=r;class i extends t.RequestType{constructor(u){super(u,t.ParameterStructures.byName)}}e.ProtocolRequestType=i;class a extends t.NotificationType0{constructor(u){super(u)}}e.ProtocolNotificationType0=a;class s extends t.NotificationType{constructor(u){super(u,t.ParameterStructures.byName)}}e.ProtocolNotificationType=s})(Q);var zr={},Z={};Object.defineProperty(Z,"__esModule",{value:!0}),Z.objectLiteral=Z.typedArray=Z.stringArray=Z.array=Z.func=Z.error=Z.number=Z.string=Z.boolean=void 0;function co(e){return e===!0||e===!1}Z.boolean=co;function Br(e){return typeof e=="string"||e instanceof String}Z.string=Br;function uo(e){return typeof e=="number"||e instanceof Number}Z.number=uo;function lo(e){return e instanceof Error}Z.error=lo;function fo(e){return typeof e=="function"}Z.func=fo;function Ur(e){return Array.isArray(e)}Z.array=Ur;function go(e){return Ur(e)&&e.every(t=>Br(t))}Z.stringArray=go;function ho(e,t){return Array.isArray(e)&&e.every(t)}Z.typedArray=ho;function mo(e){return e!==null&&typeof e=="object"}Z.objectLiteral=mo;var Vr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ImplementationRequest=void 0;const t=Q;(function(n){n.method="textDocument/implementation",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.ImplementationRequest||(e.ImplementationRequest={}))})(Vr);var Jr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeDefinitionRequest=void 0;const t=Q;(function(n){n.method="textDocument/typeDefinition",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.TypeDefinitionRequest||(e.TypeDefinitionRequest={}))})(Jr);var Qr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=void 0;const t=Q;(function(n){n.method="workspace/workspaceFolders",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType0(n.method)})(e.WorkspaceFoldersRequest||(e.WorkspaceFoldersRequest={})),function(n){n.method="workspace/didChangeWorkspaceFolders",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidChangeWorkspaceFoldersNotification||(e.DidChangeWorkspaceFoldersNotification={}))})(Qr);var Xr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationRequest=void 0;const t=Q;(function(n){n.method="workspace/configuration",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(e.ConfigurationRequest||(e.ConfigurationRequest={}))})(Xr);var Gr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPresentationRequest=e.DocumentColorRequest=void 0;const t=Q;(function(n){n.method="textDocument/documentColor",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.DocumentColorRequest||(e.DocumentColorRequest={})),function(n){n.method="textDocument/colorPresentation",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.ColorPresentationRequest||(e.ColorPresentationRequest={}))})(Gr);var Yr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRangeRequest=void 0;const t=Q;(function(n){n.method="textDocument/foldingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.FoldingRangeRequest||(e.FoldingRangeRequest={}))})(Yr);var Zr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeclarationRequest=void 0;const t=Q;(function(n){n.method="textDocument/declaration",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.DeclarationRequest||(e.DeclarationRequest={}))})(Zr);var Kr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRangeRequest=void 0;const t=Q;(function(n){n.method="textDocument/selectionRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.SelectionRangeRequest||(e.SelectionRangeRequest={}))})(Kr);var xr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=void 0;const t=Be,n=Q;(function(r){r.type=new t.ProgressType;function i(a){return a===r.type}r.is=i})(e.WorkDoneProgress||(e.WorkDoneProgress={})),function(r){r.method="window/workDoneProgress/create",r.messageDirection=n.MessageDirection.serverToClient,r.type=new n.ProtocolRequestType(r.method)}(e.WorkDoneProgressCreateRequest||(e.WorkDoneProgressCreateRequest={})),function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=n.MessageDirection.clientToServer,r.type=new n.ProtocolNotificationType(r.method)}(e.WorkDoneProgressCancelNotification||(e.WorkDoneProgressCancelNotification={}))})(xr);var ei={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.CallHierarchyPrepareRequest=void 0;const t=Q;(function(n){n.method="textDocument/prepareCallHierarchy",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})),function(n){n.method="callHierarchy/incomingCalls",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})),function(n){n.method="callHierarchy/outgoingCalls",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={}))})(ei);var ti={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.SemanticTokensRegistrationType=e.TokenFormat=void 0;const t=Q;(function(r){r.Relative="relative"})(e.TokenFormat||(e.TokenFormat={}));var n;(function(r){r.method="textDocument/semanticTokens",r.type=new t.RegistrationType(r.method)})(n=e.SemanticTokensRegistrationType||(e.SemanticTokensRegistrationType={})),function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensRequest||(e.SemanticTokensRequest={})),function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensDeltaRequest||(e.SemanticTokensDeltaRequest={})),function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={})),function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=t.MessageDirection.serverToClient,r.type=new t.ProtocolRequestType0(r.method)}(e.SemanticTokensRefreshRequest||(e.SemanticTokensRefreshRequest={}))})(ti);var ni={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentRequest=void 0;const t=Q;(function(n){n.method="window/showDocument",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(e.ShowDocumentRequest||(e.ShowDocumentRequest={}))})(ni);var ri={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeRequest=void 0;const t=Q;(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.LinkedEditingRangeRequest||(e.LinkedEditingRangeRequest={}))})(ri);var ii={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.DidRenameFilesNotification=e.WillRenameFilesRequest=e.DidCreateFilesNotification=e.WillCreateFilesRequest=e.FileOperationPatternKind=void 0;const t=Q;(function(n){n.file="file",n.folder="folder"})(e.FileOperationPatternKind||(e.FileOperationPatternKind={})),function(n){n.method="workspace/willCreateFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillCreateFilesRequest||(e.WillCreateFilesRequest={})),function(n){n.method="workspace/didCreateFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidCreateFilesNotification||(e.DidCreateFilesNotification={})),function(n){n.method="workspace/willRenameFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillRenameFilesRequest||(e.WillRenameFilesRequest={})),function(n){n.method="workspace/didRenameFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidRenameFilesNotification||(e.DidRenameFilesNotification={})),function(n){n.method="workspace/didDeleteFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidDeleteFilesNotification||(e.DidDeleteFilesNotification={})),function(n){n.method="workspace/willDeleteFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillDeleteFilesRequest||(e.WillDeleteFilesRequest={}))})(ii);var oi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=void 0;const t=Q;(function(n){n.document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global"})(e.UniquenessLevel||(e.UniquenessLevel={})),function(n){n.$import="import",n.$export="export",n.local="local"}(e.MonikerKind||(e.MonikerKind={})),function(n){n.method="textDocument/moniker",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.MonikerRequest||(e.MonikerRequest={}))})(oi);var ai={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchySubtypesRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=Q;(function(n){n.method="textDocument/prepareTypeHierarchy",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.TypeHierarchyPrepareRequest||(e.TypeHierarchyPrepareRequest={})),function(n){n.method="typeHierarchy/supertypes",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.TypeHierarchySupertypesRequest||(e.TypeHierarchySupertypesRequest={})),function(n){n.method="typeHierarchy/subtypes",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.TypeHierarchySubtypesRequest||(e.TypeHierarchySubtypesRequest={}))})(ai);var si={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InlineValueRefreshRequest=e.InlineValueRequest=void 0;const t=Q;(function(n){n.method="textDocument/inlineValue",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.InlineValueRequest||(e.InlineValueRequest={})),function(n){n.method="workspace/inlineValue/refresh",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType0(n.method)}(e.InlineValueRefreshRequest||(e.InlineValueRefreshRequest={}))})(si);var ci={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=void 0;const t=Q;(function(n){n.method="textDocument/inlayHint",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.InlayHintRequest||(e.InlayHintRequest={})),function(n){n.method="inlayHint/resolve",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.InlayHintResolveRequest||(e.InlayHintResolveRequest={})),function(n){n.method="workspace/inlayHint/refresh",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType0(n.method)}(e.InlayHintRefreshRequest||(e.InlayHintRefreshRequest={}))})(ci);var ui={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=void 0;const t=Be,n=Z,r=Q;(function(i){function a(s){const c=s;return c&&n.boolean(c.retriggerRequest)}i.is=a})(e.DiagnosticServerCancellationData||(e.DiagnosticServerCancellationData={})),function(i){i.Full="full",i.Unchanged="unchanged"}(e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={})),function(i){i.method="textDocument/diagnostic",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),i.partialResult=new t.ProgressType}(e.DocumentDiagnosticRequest||(e.DocumentDiagnosticRequest={})),function(i){i.method="workspace/diagnostic",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),i.partialResult=new t.ProgressType}(e.WorkspaceDiagnosticRequest||(e.WorkspaceDiagnosticRequest={})),function(i){i.method="workspace/diagnostic/refresh",i.messageDirection=r.MessageDirection.serverToClient,i.type=new r.ProtocolRequestType0(i.method)}(e.DiagnosticRefreshRequest||(e.DiagnosticRefreshRequest={}))})(ui);var li={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=void 0;const t=br,n=Z,r=Q;var i;(function(u){u.Markup=1,u.Code=2;function d(h){return h===1||h===2}u.is=d})(i=e.NotebookCellKind||(e.NotebookCellKind={}));var a;(function(u){function d(_,m){const P={executionOrder:_};return(m===!0||m===!1)&&(P.success=m),P}u.create=d;function h(_){const m=_;return n.objectLiteral(m)&&t.uinteger.is(m.executionOrder)&&(m.success===void 0||n.boolean(m.success))}u.is=h;function p(_,m){return _===m?!0:_==null||m===null||m===void 0?!1:_.executionOrder===m.executionOrder&&_.success===m.success}u.equals=p})(a=e.ExecutionSummary||(e.ExecutionSummary={}));var s;(function(u){function d(m,P){return{kind:m,document:P}}u.create=d;function h(m){const P=m;return n.objectLiteral(P)&&i.is(P.kind)&&t.DocumentUri.is(P.document)&&(P.metadata===void 0||n.objectLiteral(P.metadata))}u.is=h;function p(m,P){const W=new Set;return m.document!==P.document&&W.add("document"),m.kind!==P.kind&&W.add("kind"),m.executionSummary!==P.executionSummary&&W.add("executionSummary"),(m.metadata!==void 0||P.metadata!==void 0)&&!_(m.metadata,P.metadata)&&W.add("metadata"),(m.executionSummary!==void 0||P.executionSummary!==void 0)&&!a.equals(m.executionSummary,P.executionSummary)&&W.add("executionSummary"),W}u.diff=p;function _(m,P){if(m===P)return!0;if(m==null||P===null||P===void 0||typeof m!=typeof P||typeof m!="object")return!1;const W=Array.isArray(m),U=Array.isArray(P);if(W!==U)return!1;if(W&&U){if(m.length!==P.length)return!1;for(let j=0;j<m.length;j++)if(!_(m[j],P[j]))return!1}if(n.objectLiteral(m)&&n.objectLiteral(P)){const j=Object.keys(m),$=Object.keys(P);if(j.length!==$.length||(j.sort(),$.sort(),!_(j,$)))return!1;for(let z=0;z<j.length;z++){const ce=j[z];if(!_(m[ce],P[ce]))return!1}}return!0}})(s=e.NotebookCell||(e.NotebookCell={})),function(u){function d(p,_,m,P){return{uri:p,notebookType:_,version:m,cells:P}}u.create=d;function h(p){const _=p;return n.objectLiteral(_)&&n.string(_.uri)&&t.integer.is(_.version)&&n.typedArray(_.cells,s.is)}u.is=h}(e.NotebookDocument||(e.NotebookDocument={}));var c;(function(u){u.method="notebookDocument/sync",u.messageDirection=r.MessageDirection.clientToServer,u.type=new r.RegistrationType(u.method)})(c=e.NotebookDocumentSyncRegistrationType||(e.NotebookDocumentSyncRegistrationType={})),function(u){u.method="notebookDocument/didOpen",u.messageDirection=r.MessageDirection.clientToServer,u.type=new r.ProtocolNotificationType(u.method),u.registrationMethod=c.method}(e.DidOpenNotebookDocumentNotification||(e.DidOpenNotebookDocumentNotification={})),function(u){function d(p){const _=p;return n.objectLiteral(_)&&t.uinteger.is(_.start)&&t.uinteger.is(_.deleteCount)&&(_.cells===void 0||n.typedArray(_.cells,s.is))}u.is=d;function h(p,_,m){const P={start:p,deleteCount:_};return m!==void 0&&(P.cells=m),P}u.create=h}(e.NotebookCellArrayChange||(e.NotebookCellArrayChange={})),function(u){u.method="notebookDocument/didChange",u.messageDirection=r.MessageDirection.clientToServer,u.type=new r.ProtocolNotificationType(u.method),u.registrationMethod=c.method}(e.DidChangeNotebookDocumentNotification||(e.DidChangeNotebookDocumentNotification={})),function(u){u.method="notebookDocument/didSave",u.messageDirection=r.MessageDirection.clientToServer,u.type=new r.ProtocolNotificationType(u.method),u.registrationMethod=c.method}(e.DidSaveNotebookDocumentNotification||(e.DidSaveNotebookDocumentNotification={})),function(u){u.method="notebookDocument/didClose",u.messageDirection=r.MessageDirection.clientToServer,u.type=new r.ProtocolNotificationType(u.method),u.registrationMethod=c.method}(e.DidCloseNotebookDocumentNotification||(e.DidCloseNotebookDocumentNotification={}))})(li),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=void 0;const t=Q,n=br,r=Z,i=Vr;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const a=Jr;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const s=Qr;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const c=Xr;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return c.ConfigurationRequest}});const u=Gr;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return u.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return u.ColorPresentationRequest}});const d=Yr;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}});const h=Zr;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return h.DeclarationRequest}});const p=Kr;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return p.SelectionRangeRequest}});const _=xr;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return _.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return _.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return _.WorkDoneProgressCancelNotification}});const m=ei;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.CallHierarchyPrepareRequest}});const P=ti;Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return P.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return P.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return P.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return P.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return P.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return P.SemanticTokensRegistrationType}});const W=ni;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return W.ShowDocumentRequest}});const U=ri;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return U.LinkedEditingRangeRequest}});const j=ii;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return j.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return j.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return j.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return j.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return j.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return j.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return j.WillDeleteFilesRequest}});const $=oi;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return $.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return $.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return $.MonikerRequest}});const z=ai;Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return z.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return z.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return z.TypeHierarchySupertypesRequest}});const ce=si;Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return ce.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return ce.InlineValueRefreshRequest}});const he=ci;Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return he.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return he.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return he.InlayHintRefreshRequest}});const fe=ui;Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return fe.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return fe.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return fe.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return fe.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return fe.DiagnosticRefreshRequest}});const ie=li;Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return ie.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return ie.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return ie.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return ie.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return ie.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return ie.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return ie.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return ie.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return ie.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return ie.DidCloseNotebookDocumentNotification}});var be;(function(o){function v(k){const C=k;return r.string(C.language)||r.string(C.scheme)||r.string(C.pattern)}o.is=v})(be=e.TextDocumentFilter||(e.TextDocumentFilter={}));var oe;(function(o){function v(k){const C=k;return r.objectLiteral(C)&&(r.string(C.notebookType)||r.string(C.scheme)||r.string(C.pattern))}o.is=v})(oe=e.NotebookDocumentFilter||(e.NotebookDocumentFilter={}));var Ae;(function(o){function v(k){const C=k;return r.objectLiteral(C)&&(r.string(C.notebook)||oe.is(C.notebook))&&(C.language===void 0||r.string(C.language))}o.is=v})(Ae=e.NotebookCellTextDocumentFilter||(e.NotebookCellTextDocumentFilter={}));var T;(function(o){function v(k){if(!Array.isArray(k))return!1;for(let C of k)if(!r.string(C)&&!be.is(C)&&!Ae.is(C))return!1;return!0}o.is=v})(T=e.DocumentSelector||(e.DocumentSelector={})),function(o){o.method="client/registerCapability",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolRequestType(o.method)}(e.RegistrationRequest||(e.RegistrationRequest={})),function(o){o.method="client/unregisterCapability",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolRequestType(o.method)}(e.UnregistrationRequest||(e.UnregistrationRequest={})),function(o){o.Create="create",o.Rename="rename",o.Delete="delete"}(e.ResourceOperationKind||(e.ResourceOperationKind={})),function(o){o.Abort="abort",o.Transactional="transactional",o.TextOnlyTransactional="textOnlyTransactional",o.Undo="undo"}(e.FailureHandlingKind||(e.FailureHandlingKind={})),function(o){o.UTF8="utf-8",o.UTF16="utf-16",o.UTF32="utf-32"}(e.PositionEncodingKind||(e.PositionEncodingKind={})),function(o){function v(k){const C=k;return C&&r.string(C.id)&&C.id.length>0}o.hasId=v}(e.StaticRegistrationOptions||(e.StaticRegistrationOptions={})),function(o){function v(k){const C=k;return C&&(C.documentSelector===null||T.is(C.documentSelector))}o.is=v}(e.TextDocumentRegistrationOptions||(e.TextDocumentRegistrationOptions={})),function(o){function v(C){const H=C;return r.objectLiteral(H)&&(H.workDoneProgress===void 0||r.boolean(H.workDoneProgress))}o.is=v;function k(C){const H=C;return H&&r.boolean(H.workDoneProgress)}o.hasWorkDoneProgress=k}(e.WorkDoneProgressOptions||(e.WorkDoneProgressOptions={})),function(o){o.method="initialize",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.InitializeRequest||(e.InitializeRequest={})),function(o){o.unknownProtocolVersion=1}(e.InitializeErrorCodes||(e.InitializeErrorCodes={})),function(o){o.method="initialized",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)}(e.InitializedNotification||(e.InitializedNotification={})),function(o){o.method="shutdown",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType0(o.method)}(e.ShutdownRequest||(e.ShutdownRequest={})),function(o){o.method="exit",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType0(o.method)}(e.ExitNotification||(e.ExitNotification={})),function(o){o.method="workspace/didChangeConfiguration",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)}(e.DidChangeConfigurationNotification||(e.DidChangeConfigurationNotification={})),function(o){o.Error=1,o.Warning=2,o.Info=3,o.Log=4}(e.MessageType||(e.MessageType={})),function(o){o.method="window/showMessage",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolNotificationType(o.method)}(e.ShowMessageNotification||(e.ShowMessageNotification={})),function(o){o.method="window/showMessageRequest",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolRequestType(o.method)}(e.ShowMessageRequest||(e.ShowMessageRequest={})),function(o){o.method="window/logMessage",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolNotificationType(o.method)}(e.LogMessageNotification||(e.LogMessageNotification={})),function(o){o.method="telemetry/event",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolNotificationType(o.method)}(e.TelemetryEventNotification||(e.TelemetryEventNotification={})),function(o){o.None=0,o.Full=1,o.Incremental=2}(e.TextDocumentSyncKind||(e.TextDocumentSyncKind={})),function(o){o.method="textDocument/didOpen",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)}(e.DidOpenTextDocumentNotification||(e.DidOpenTextDocumentNotification={})),function(o){function v(C){let H=C;return H!=null&&typeof H.text=="string"&&H.range!==void 0&&(H.rangeLength===void 0||typeof H.rangeLength=="number")}o.isIncremental=v;function k(C){let H=C;return H!=null&&typeof H.text=="string"&&H.range===void 0&&H.rangeLength===void 0}o.isFull=k}(e.TextDocumentContentChangeEvent||(e.TextDocumentContentChangeEvent={})),function(o){o.method="textDocument/didChange",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)}(e.DidChangeTextDocumentNotification||(e.DidChangeTextDocumentNotification={})),function(o){o.method="textDocument/didClose",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)}(e.DidCloseTextDocumentNotification||(e.DidCloseTextDocumentNotification={})),function(o){o.method="textDocument/didSave",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)}(e.DidSaveTextDocumentNotification||(e.DidSaveTextDocumentNotification={})),function(o){o.Manual=1,o.AfterDelay=2,o.FocusOut=3}(e.TextDocumentSaveReason||(e.TextDocumentSaveReason={})),function(o){o.method="textDocument/willSave",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)}(e.WillSaveTextDocumentNotification||(e.WillSaveTextDocumentNotification={})),function(o){o.method="textDocument/willSaveWaitUntil",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.WillSaveTextDocumentWaitUntilRequest||(e.WillSaveTextDocumentWaitUntilRequest={})),function(o){o.method="workspace/didChangeWatchedFiles",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolNotificationType(o.method)}(e.DidChangeWatchedFilesNotification||(e.DidChangeWatchedFilesNotification={})),function(o){o.Created=1,o.Changed=2,o.Deleted=3}(e.FileChangeType||(e.FileChangeType={})),function(o){function v(k){const C=k;return r.objectLiteral(C)&&(n.URI.is(C.baseUri)||n.WorkspaceFolder.is(C.baseUri))&&r.string(C.pattern)}o.is=v}(e.RelativePattern||(e.RelativePattern={})),function(o){o.Create=1,o.Change=2,o.Delete=4}(e.WatchKind||(e.WatchKind={})),function(o){o.method="textDocument/publishDiagnostics",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolNotificationType(o.method)}(e.PublishDiagnosticsNotification||(e.PublishDiagnosticsNotification={})),function(o){o.Invoked=1,o.TriggerCharacter=2,o.TriggerForIncompleteCompletions=3}(e.CompletionTriggerKind||(e.CompletionTriggerKind={})),function(o){o.method="textDocument/completion",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.CompletionRequest||(e.CompletionRequest={})),function(o){o.method="completionItem/resolve",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.CompletionResolveRequest||(e.CompletionResolveRequest={})),function(o){o.method="textDocument/hover",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.HoverRequest||(e.HoverRequest={})),function(o){o.Invoked=1,o.TriggerCharacter=2,o.ContentChange=3}(e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={})),function(o){o.method="textDocument/signatureHelp",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.SignatureHelpRequest||(e.SignatureHelpRequest={})),function(o){o.method="textDocument/definition",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.DefinitionRequest||(e.DefinitionRequest={})),function(o){o.method="textDocument/references",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.ReferencesRequest||(e.ReferencesRequest={})),function(o){o.method="textDocument/documentHighlight",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.DocumentHighlightRequest||(e.DocumentHighlightRequest={})),function(o){o.method="textDocument/documentSymbol",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.DocumentSymbolRequest||(e.DocumentSymbolRequest={})),function(o){o.method="textDocument/codeAction",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.CodeActionRequest||(e.CodeActionRequest={})),function(o){o.method="codeAction/resolve",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.CodeActionResolveRequest||(e.CodeActionResolveRequest={})),function(o){o.method="workspace/symbol",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.WorkspaceSymbolRequest||(e.WorkspaceSymbolRequest={})),function(o){o.method="workspaceSymbol/resolve",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.WorkspaceSymbolResolveRequest||(e.WorkspaceSymbolResolveRequest={})),function(o){o.method="textDocument/codeLens",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.CodeLensRequest||(e.CodeLensRequest={})),function(o){o.method="codeLens/resolve",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.CodeLensResolveRequest||(e.CodeLensResolveRequest={})),function(o){o.method="workspace/codeLens/refresh",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolRequestType0(o.method)}(e.CodeLensRefreshRequest||(e.CodeLensRefreshRequest={})),function(o){o.method="textDocument/documentLink",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.DocumentLinkRequest||(e.DocumentLinkRequest={})),function(o){o.method="documentLink/resolve",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.DocumentLinkResolveRequest||(e.DocumentLinkResolveRequest={})),function(o){o.method="textDocument/formatting",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.DocumentFormattingRequest||(e.DocumentFormattingRequest={})),function(o){o.method="textDocument/rangeFormatting",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.DocumentRangeFormattingRequest||(e.DocumentRangeFormattingRequest={})),function(o){o.method="textDocument/onTypeFormatting",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.DocumentOnTypeFormattingRequest||(e.DocumentOnTypeFormattingRequest={})),function(o){o.Identifier=1}(e.PrepareSupportDefaultBehavior||(e.PrepareSupportDefaultBehavior={})),function(o){o.method="textDocument/rename",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.RenameRequest||(e.RenameRequest={})),function(o){o.method="textDocument/prepareRename",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.PrepareRenameRequest||(e.PrepareRenameRequest={})),function(o){o.method="workspace/executeCommand",o.messageDirection=t.MessageDirection.clientToServer,o.type=new t.ProtocolRequestType(o.method)}(e.ExecuteCommandRequest||(e.ExecuteCommandRequest={})),function(o){o.method="workspace/applyEdit",o.messageDirection=t.MessageDirection.serverToClient,o.type=new t.ProtocolRequestType("workspace/applyEdit")}(e.ApplyWorkspaceEditRequest||(e.ApplyWorkspaceEditRequest={}))}(zr);var Zt={};Object.defineProperty(Zt,"__esModule",{value:!0}),Zt.createProtocolConnection=void 0;const di=Be;function yo(e,t,n,r){return di.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,di.createMessageConnection)(e,t,n,r)}Zt.createProtocolConnection=yo,function(e){var t=te&&te.__createBinding||(Object.create?function(i,a,s,c){c===void 0&&(c=s);var u=Object.getOwnPropertyDescriptor(a,s);(!u||("get"in u?!a.__esModule:u.writable||u.configurable))&&(u={enumerable:!0,get:function(){return a[s]}}),Object.defineProperty(i,c,u)}:function(i,a,s,c){c===void 0&&(c=s),i[c]=a[s]}),n=te&&te.__exportStar||function(i,a){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(a,s)&&t(a,i,s)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(Be,e),n(br,e),n(Q,e),n(zr,e);var r=Zt;Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}}),function(i){i.lspReservedErrorRangeStart=-32899,i.RequestFailed=-32803,i.ServerCancelled=-32802,i.ContentModified=-32801,i.RequestCancelled=-32800,i.lspReservedErrorRangeEnd=-32800}(e.LSPErrorCodes||(e.LSPErrorCodes={}))}(Hr),function(e){var t=te&&te.__createBinding||(Object.create?function(a,s,c,u){u===void 0&&(u=c);var d=Object.getOwnPropertyDescriptor(s,c);(!d||("get"in d?!s.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return s[c]}}),Object.defineProperty(a,u,d)}:function(a,s,c,u){u===void 0&&(u=c),a[u]=s[c]}),n=te&&te.__exportStar||function(a,s){for(var c in a)c!=="default"&&!Object.prototype.hasOwnProperty.call(s,c)&&t(s,a,c)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=Ir;n(Ir,e),n(Hr,e);function i(a,s,c,u){return(0,r.createMessageConnection)(a,s,c,u)}e.createProtocolConnection=i}(re),Object.defineProperty(Se,"__esModule",{value:!0}),Se.SemanticTokensBuilder=Se.SemanticTokensDiff=Se.SemanticTokensFeature=void 0;const Kt=re,_o=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Kt.SemanticTokensRefreshRequest.type),on:t=>{const n=Kt.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{const n=Kt.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{const n=Kt.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Se.SemanticTokensFeature=_o;class fi{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){const t=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let i=t-1,a=n-1;for(;i>=r&&a>=r&&this.originalSequence[i]===this.modifiedSequence[a];)i--,a--;(i<r||a<r)&&(i++,a++);const s=i-r+1,c=this.modifiedSequence.slice(r,a+1);return c.length===1&&c[0]===this.originalSequence[i]?[{start:r,deleteCount:s-1}]:[{start:r,deleteCount:s,data:c}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}}Se.SemanticTokensDiff=fi;class bo{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,a){let s=t,c=n;this._dataLen>0&&(s-=this._prevLine,s===0&&(c-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=c,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=a,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new fi(this._prevData,this._data).computeDiff()}:this.build()}}Se.SemanticTokensBuilder=bo;var qt={};Object.defineProperty(qt,"__esModule",{value:!0}),qt.TextDocuments=void 0;const Je=re;class po{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new Je.Emitter,this._onDidOpen=new Je.Emitter,this._onDidClose=new Je.Emitter,this._onDidSave=new Je.Emitter,this._onWillSave=new Je.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Je.TextDocumentSyncKind.Incremental;const n=[];return n.push(t.onDidOpenTextDocument(r=>{const i=r.textDocument,a=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,a);const s=Object.freeze({document:a});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),n.push(t.onDidChangeTextDocument(r=>{const i=r.textDocument,a=r.contentChanges;if(a.length===0)return;const{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let c=this._syncedDocuments.get(i.uri);c!==void 0&&(c=this._configuration.update(c,a,s),this._syncedDocuments.set(i.uri,c),this._onDidChangeContent.fire(Object.freeze({document:c})))})),n.push(t.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(t.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{let a=this._syncedDocuments.get(r.textDocument.uri);return a!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:a,reason:r.reason}),i):[]})),n.push(t.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Je.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}qt.TextDocuments=po;var Qe={};Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.NotebookDocuments=Qe.NotebookSyncFeature=void 0;const _e=re,gi=qt,vo=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(_e.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(_e.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(_e.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(_e.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};Qe.NotebookSyncFeature=vo;class ot{onDidOpenTextDocument(t){return this.openHandler=t,_e.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,_e.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,_e.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return ot.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return ot.NULL_DISPOSE}onDidSaveTextDocument(){return ot.NULL_DISPOSE}}ot.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class wo{constructor(t){t instanceof gi.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new gi.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new _e.Emitter,this._onDidChange=new _e.Emitter,this._onDidSave=new _e.Emitter,this._onDidClose=new _e.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){const n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){const n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){const n=new ot,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const a of i.cellTextDocuments)n.openTextDocument({textDocument:a});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const a=this.notebookDocuments.get(i.notebookDocument.uri);if(a===void 0)return;a.version=i.notebookDocument.version;const s=a.metadata;let c=!1;const u=i.change;u.metadata!==void 0&&(c=!0,a.metadata=u.metadata);const d=[],h=[],p=[],_=[];if(u.cells!==void 0){const j=u.cells;if(j.structure!==void 0){const $=j.structure.array;if(a.cells.splice($.start,$.deleteCount,...$.cells!==void 0?$.cells:[]),j.structure.didOpen!==void 0)for(const z of j.structure.didOpen)n.openTextDocument({textDocument:z}),d.push(z.uri);if(j.structure.didClose)for(const z of j.structure.didClose)n.closeTextDocument({textDocument:z}),h.push(z.uri)}if(j.data!==void 0){const $=new Map(j.data.map(z=>[z.document,z]));for(let z=0;z<=a.cells.length;z++){const ce=$.get(a.cells[z].document);if(ce!==void 0){const he=a.cells.splice(z,1,ce);if(p.push({old:he[0],new:ce}),$.delete(ce.document),$.size===0)break}}}if(j.textContent!==void 0)for(const $ of j.textContent)n.changeTextDocument({textDocument:$.document,contentChanges:$.changes}),_.push($.document.uri)}this.updateCellMap(a);const m={notebookDocument:a};c&&(m.metadata={old:s,new:a.metadata});const P=[];for(const j of d)P.push(this.getNotebookCell(j));const W=[];for(const j of h)W.push(this.getNotebookCell(j));const U=[];for(const j of _)U.push(this.getNotebookCell(j));(P.length>0||W.length>0||p.length>0||U.length>0)&&(m.cells={added:P,removed:W,changed:{data:p,textContent:U}}),(m.metadata!==void 0||m.cells!==void 0)&&this._onDidChange.fire(m)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const a=this.notebookDocuments.get(i.notebookDocument.uri);a!==void 0&&this._onDidSave.fire(a)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const a=this.notebookDocuments.get(i.notebookDocument.uri);if(a!==void 0){this._onDidClose.fire(a);for(const s of i.cellTextDocuments)n.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(const s of a.cells)this.notebookCellMap.delete(s.document)}})),_e.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(t){for(const n of t.cells)this.notebookCellMap.set(n.document,[n,t])}}Qe.NotebookDocuments=wo;var hi={},x={};Object.defineProperty(x,"__esModule",{value:!0}),x.thenable=x.typedArray=x.stringArray=x.array=x.func=x.error=x.number=x.string=x.boolean=void 0;function Ro(e){return e===!0||e===!1}x.boolean=Ro;function mi(e){return typeof e=="string"||e instanceof String}x.string=mi;function Do(e){return typeof e=="number"||e instanceof Number}x.number=Do;function To(e){return e instanceof Error}x.error=To;function yi(e){return typeof e=="function"}x.func=yi;function _i(e){return Array.isArray(e)}x.array=_i;function ko(e){return _i(e)&&e.every(t=>mi(t))}x.stringArray=ko;function Po(e,t){return Array.isArray(e)&&e.every(t)}x.typedArray=Po;function So(e){return e&&yi(e.then)}x.thenable=So;var ge={};Object.defineProperty(ge,"__esModule",{value:!0}),ge.generateUuid=ge.parse=ge.isUUID=ge.v4=ge.empty=void 0;class pr{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}}class F extends pr{constructor(){super([F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),"-",F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),"-","4",F._randomHex(),F._randomHex(),F._randomHex(),"-",F._oneOf(F._timeHighBits),F._randomHex(),F._randomHex(),F._randomHex(),"-",F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex(),F._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return F._oneOf(F._chars)}}F._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],F._timeHighBits=["8","9","a","b"],ge.empty=new pr("00000000-0000-0000-0000-000000000000");function bi(){return new F}ge.v4=bi;const Co=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function pi(e){return Co.test(e)}ge.isUUID=pi;function qo(e){if(!pi(e))throw new Error("invalid uuid");return new pr(e)}ge.parse=qo;function No(){return bi().asHex()}ge.generateUuid=No;var je={};Object.defineProperty(je,"__esModule",{value:!0}),je.attachPartialResult=je.ProgressFeature=je.attachWorkDone=void 0;const Le=re,Mo=ge;class Fe{constructor(t,n){this._connection=t,this._token=n,Fe.Instances.set(this._token,this)}begin(t,n,r,i){let a={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress(Le.WorkDoneProgress.type,this._token,a)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress(Le.WorkDoneProgress.type,this._token,r)}done(){Fe.Instances.delete(this._token),this._connection.sendProgress(Le.WorkDoneProgress.type,this._token,{kind:"end"})}}Fe.Instances=new Map;class vi extends Fe{constructor(t,n){super(t,n),this._source=new Le.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class vr{constructor(){}begin(){}report(){}done(){}}class wi extends vr{constructor(){super(),this._source=new Le.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function Eo(e,t){if(t===void 0||t.workDoneToken===void 0)return new vr;const n=t.workDoneToken;return delete t.workDoneToken,new Fe(e,n)}je.attachWorkDone=Eo;const Oo=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Le.WorkDoneProgressCancelNotification.type,n=>{let r=Fe.Instances.get(n.token);(r instanceof vi||r instanceof wi)&&r.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new vr:new Fe(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){const t=(0,Mo.generateUuid)();return this.connection.sendRequest(Le.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new vi(this.connection,t))}else return Promise.resolve(new wi)}};je.ProgressFeature=Oo;var wr;(function(e){e.type=new Le.ProgressType})(wr||(wr={}));class jo{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(wr.type,this._token,t)}}function Lo(e,t){if(t===void 0||t.partialResultToken===void 0)return;const n=t.partialResultToken;return delete t.partialResultToken,new jo(e,n)}je.attachPartialResult=Lo;var xt={};Object.defineProperty(xt,"__esModule",{value:!0}),xt.ConfigurationFeature=void 0;const Fo=re,Ao=x,Wo=e=>class extends e{getConfiguration(t){return t?Ao.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Fo.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};xt.ConfigurationFeature=Wo;var en={};Object.defineProperty(en,"__esModule",{value:!0}),en.WorkspaceFoldersFeature=void 0;const tn=re,Io=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new tn.Emitter,this.connection.onNotification(tn.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);const n=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(tn.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(tn.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};en.WorkspaceFoldersFeature=Io;var nn={};Object.defineProperty(nn,"__esModule",{value:!0}),nn.CallHierarchyFeature=void 0;const Rr=re,Ho=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(Rr.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{const n=Rr.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{const n=Rr.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};nn.CallHierarchyFeature=Ho;var rn={};Object.defineProperty(rn,"__esModule",{value:!0}),rn.ShowDocumentFeature=void 0;const $o=re,zo=e=>class extends e{showDocument(t){return this.connection.sendRequest($o.ShowDocumentRequest.type,t)}};rn.ShowDocumentFeature=zo;var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.FileOperationsFeature=void 0;const at=re,Bo=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(at.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(at.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(at.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(at.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(at.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(at.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};on.FileOperationsFeature=Bo;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.LinkedEditingRangeFeature=void 0;const Uo=re,Vo=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(Uo.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};an.LinkedEditingRangeFeature=Vo;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.TypeHierarchyFeature=void 0;const Dr=re,Jo=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(Dr.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{const n=Dr.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{const n=Dr.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};sn.TypeHierarchyFeature=Jo;var cn={};Object.defineProperty(cn,"__esModule",{value:!0}),cn.InlineValueFeature=void 0;const Ri=re,Qo=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(Ri.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(Ri.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};cn.InlineValueFeature=Qo;var un={};Object.defineProperty(un,"__esModule",{value:!0}),un.InlayHintFeature=void 0;const Tr=re,Xo=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Tr.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(Tr.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(Tr.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};un.InlayHintFeature=Xo;var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.DiagnosticFeature=void 0;const Nt=re,Go=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Nt.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Nt.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Nt.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(Nt.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Nt.WorkspaceDiagnosticRequest.partialResult,n)))}}};ln.DiagnosticFeature=Go;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.MonikerFeature=void 0;const Yo=re,Zo=e=>class extends e{get moniker(){return{on:t=>{const n=Yo.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};dn.MonikerFeature=Zo,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=e.combineFeatures=e.combineNotebooksFeatures=e.combineLanguagesFeatures=e.combineWorkspaceFeatures=e.combineWindowFeatures=e.combineClientFeatures=e.combineTracerFeatures=e.combineTelemetryFeatures=e.combineConsoleFeatures=e._NotebooksImpl=e._LanguagesImpl=e.BulkUnregistration=e.BulkRegistration=e.ErrorMessageTracker=void 0;const t=re,n=x,r=ge,i=je,a=xt,s=en,c=nn,u=Se,d=rn,h=on,p=an,_=sn,m=cn,P=un,W=ln,U=Qe,j=dn;function $(O){if(O!==null)return O}class z{constructor(){this._messages=Object.create(null)}add(g){let b=this._messages[g];b||(b=0),b++,this._messages[g]=b}sendErrors(g){Object.keys(this._messages).forEach(b=>{g.window.showErrorMessage(b)})}}e.ErrorMessageTracker=z;class ce{constructor(){}rawAttach(g){this._rawConnection=g}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(g){}initialize(g){}error(g){this.send(t.MessageType.Error,g)}warn(g){this.send(t.MessageType.Warning,g)}info(g){this.send(t.MessageType.Info,g)}log(g){this.send(t.MessageType.Log,g)}send(g,b){this._rawConnection&&this._rawConnection.sendNotification(t.LogMessageNotification.type,{type:g,message:b}).catch(()=>{(0,t.RAL)().console.error("Sending log message failed")})}}class he{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}showErrorMessage(g,...b){let E={type:t.MessageType.Error,message:g,actions:b};return this.connection.sendRequest(t.ShowMessageRequest.type,E).then($)}showWarningMessage(g,...b){let E={type:t.MessageType.Warning,message:g,actions:b};return this.connection.sendRequest(t.ShowMessageRequest.type,E).then($)}showInformationMessage(g,...b){let E={type:t.MessageType.Info,message:g,actions:b};return this.connection.sendRequest(t.ShowMessageRequest.type,E).then($)}}const fe=(0,d.ShowDocumentFeature)((0,i.ProgressFeature)(he));(function(O){function g(){return new ie}O.create=g})(e.BulkRegistration||(e.BulkRegistration={}));class ie{constructor(){this._registrations=[],this._registered=new Set}add(g,b){const E=n.string(g)?g:g.method;if(this._registered.has(E))throw new Error(`${E} is already added to this registration`);const y=r.generateUuid();this._registrations.push({id:y,method:E,registerOptions:b||{}}),this._registered.add(E)}asRegistrationParams(){return{registrations:this._registrations}}}(function(O){function g(){return new be(void 0,[])}O.create=g})(e.BulkUnregistration||(e.BulkUnregistration={}));class be{constructor(g,b){this._connection=g,this._unregistrations=new Map,b.forEach(E=>{this._unregistrations.set(E.method,E)})}get isAttached(){return!!this._connection}attach(g){this._connection=g}add(g){this._unregistrations.set(g.method,g)}dispose(){let g=[];for(let E of this._unregistrations.values())g.push(E);let b={unregisterations:g};this._connection.sendRequest(t.UnregistrationRequest.type,b).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(g){const b=n.string(g)?g:g.method,E=this._unregistrations.get(b);if(!E)return!1;let y={unregisterations:[E]};return this._connection.sendRequest(t.UnregistrationRequest.type,y).then(()=>{this._unregistrations.delete(b)},X=>{this._connection.console.info(`Un-registering request handler for ${E.id} failed.`)}),!0}}class oe{attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}register(g,b,E){return g instanceof ie?this.registerMany(g):g instanceof be?this.registerSingle1(g,b,E):this.registerSingle2(g,b)}registerSingle1(g,b,E){const y=n.string(b)?b:b.method,X=r.generateUuid();let me={registrations:[{id:X,method:y,registerOptions:E||{}}]};return g.isAttached||g.attach(this.connection),this.connection.sendRequest(t.RegistrationRequest.type,me).then($e=>(g.add({id:X,method:y}),g),$e=>(this.connection.console.info(`Registering request handler for ${y} failed.`),Promise.reject($e)))}registerSingle2(g,b){const E=n.string(g)?g:g.method,y=r.generateUuid();let X={registrations:[{id:y,method:E,registerOptions:b||{}}]};return this.connection.sendRequest(t.RegistrationRequest.type,X).then(me=>t.Disposable.create(()=>{this.unregisterSingle(y,E).catch(()=>{this.connection.console.info(`Un-registering capability with id ${y} failed.`)})}),me=>(this.connection.console.info(`Registering request handler for ${E} failed.`),Promise.reject(me)))}unregisterSingle(g,b){let E={unregisterations:[{id:g,method:b}]};return this.connection.sendRequest(t.UnregistrationRequest.type,E).catch(()=>{this.connection.console.info(`Un-registering request handler for ${g} failed.`)})}registerMany(g){let b=g.asRegistrationParams();return this.connection.sendRequest(t.RegistrationRequest.type,b).then(()=>new be(this._connection,b.registrations.map(E=>({id:E.id,method:E.method}))),E=>(this.connection.console.info("Bulk registration failed."),Promise.reject(E)))}}class Ae{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}applyEdit(g){function b(y){return y&&!!y.edit}let E=b(g)?g:{edit:g};return this.connection.sendRequest(t.ApplyWorkspaceEditRequest.type,E)}}const T=(0,h.FileOperationsFeature)((0,s.WorkspaceFoldersFeature)((0,a.ConfigurationFeature)(Ae)));class o{constructor(){this._trace=t.Trace.Off}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}set trace(g){this._trace=g}log(g,b){this._trace!==t.Trace.Off&&this.connection.sendNotification(t.LogTraceNotification.type,{message:g,verbose:this._trace===t.Trace.Verbose?b:void 0}).catch(()=>{})}}class v{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}logEvent(g){this.connection.sendNotification(t.TelemetryEventNotification.type,g).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class k{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}attachWorkDoneProgress(g){return(0,i.attachWorkDone)(this.connection,g)}attachPartialResultProgress(g,b){return(0,i.attachPartialResult)(this.connection,b)}}e._LanguagesImpl=k;const C=(0,j.MonikerFeature)((0,W.DiagnosticFeature)((0,P.InlayHintFeature)((0,m.InlineValueFeature)((0,_.TypeHierarchyFeature)((0,p.LinkedEditingRangeFeature)((0,u.SemanticTokensFeature)((0,c.CallHierarchyFeature)(k))))))));class H{constructor(){}attach(g){this._connection=g}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(g){}fillServerCapabilities(g){}attachWorkDoneProgress(g){return(0,i.attachWorkDone)(this.connection,g)}attachPartialResultProgress(g,b){return(0,i.attachPartialResult)(this.connection,b)}}e._NotebooksImpl=H;const ae=(0,U.NotebookSyncFeature)(H);function fn(O,g){return function(b){return g(O(b))}}e.combineConsoleFeatures=fn;function We(O,g){return function(b){return g(O(b))}}e.combineTelemetryFeatures=We;function Ie(O,g){return function(b){return g(O(b))}}e.combineTracerFeatures=Ie;function Xe(O,g){return function(b){return g(O(b))}}e.combineClientFeatures=Xe;function He(O,g){return function(b){return g(O(b))}}e.combineWindowFeatures=He;function Ge(O,g){return function(b){return g(O(b))}}e.combineWorkspaceFeatures=Ge;function Ye(O,g){return function(b){return g(O(b))}}e.combineLanguagesFeatures=Ye;function st(O,g){return function(b){return g(O(b))}}e.combineNotebooksFeatures=st;function Ne(O,g){function b(y,X,me){return y&&X?me(y,X):y||X}return{__brand:"features",console:b(O.console,g.console,fn),tracer:b(O.tracer,g.tracer,Ie),telemetry:b(O.telemetry,g.telemetry,We),client:b(O.client,g.client,Xe),window:b(O.window,g.window,He),workspace:b(O.workspace,g.workspace,Ge),languages:b(O.languages,g.languages,Ye),notebooks:b(O.notebooks,g.notebooks,st)}}e.combineFeatures=Ne;function Me(O,g,b){const E=b&&b.console?new(b.console(ce)):new ce,y=O(E);E.rawAttach(y);const X=b&&b.tracer?new(b.tracer(o)):new o,me=b&&b.telemetry?new(b.telemetry(v)):new v,$e=b&&b.client?new(b.client(oe)):new oe,Mt=b&&b.window?new(b.window(fe)):new fe,Et=b&&b.workspace?new(b.workspace(T)):new T,Ot=b&&b.languages?new(b.languages(C)):new C,we=b&&b.notebooks?new(b.notebooks(ae)):new ae,Ze=[E,X,me,$e,Mt,Et,Ot,we];function Pr(w){return w instanceof Promise?w:n.thenable(w)?new Promise((R,q)=>{w.then(Re=>R(Re),Re=>q(Re))}):Promise.resolve(w)}let ct,ut,lt,Ee={listen:()=>y.listen(),sendRequest:(w,...R)=>y.sendRequest(n.string(w)?w:w.method,...R),onRequest:(w,R)=>y.onRequest(w,R),sendNotification:(w,R)=>{const q=n.string(w)?w:w.method;return arguments.length===1?y.sendNotification(q):y.sendNotification(q,R)},onNotification:(w,R)=>y.onNotification(w,R),onProgress:y.onProgress,sendProgress:y.sendProgress,onInitialize:w=>(ut=w,{dispose:()=>{ut=void 0}}),onInitialized:w=>y.onNotification(t.InitializedNotification.type,w),onShutdown:w=>(ct=w,{dispose:()=>{ct=void 0}}),onExit:w=>(lt=w,{dispose:()=>{lt=void 0}}),get console(){return E},get telemetry(){return me},get tracer(){return X},get client(){return $e},get window(){return Mt},get workspace(){return Et},get languages(){return Ot},get notebooks(){return we},onDidChangeConfiguration:w=>y.onNotification(t.DidChangeConfigurationNotification.type,w),onDidChangeWatchedFiles:w=>y.onNotification(t.DidChangeWatchedFilesNotification.type,w),__textDocumentSync:void 0,onDidOpenTextDocument:w=>y.onNotification(t.DidOpenTextDocumentNotification.type,w),onDidChangeTextDocument:w=>y.onNotification(t.DidChangeTextDocumentNotification.type,w),onDidCloseTextDocument:w=>y.onNotification(t.DidCloseTextDocumentNotification.type,w),onWillSaveTextDocument:w=>y.onNotification(t.WillSaveTextDocumentNotification.type,w),onWillSaveTextDocumentWaitUntil:w=>y.onRequest(t.WillSaveTextDocumentWaitUntilRequest.type,w),onDidSaveTextDocument:w=>y.onNotification(t.DidSaveTextDocumentNotification.type,w),sendDiagnostics:w=>y.sendNotification(t.PublishDiagnosticsNotification.type,w),onHover:w=>y.onRequest(t.HoverRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),void 0)),onCompletion:w=>y.onRequest(t.CompletionRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onCompletionResolve:w=>y.onRequest(t.CompletionResolveRequest.type,w),onSignatureHelp:w=>y.onRequest(t.SignatureHelpRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),void 0)),onDeclaration:w=>y.onRequest(t.DeclarationRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onDefinition:w=>y.onRequest(t.DefinitionRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onTypeDefinition:w=>y.onRequest(t.TypeDefinitionRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onImplementation:w=>y.onRequest(t.ImplementationRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onReferences:w=>y.onRequest(t.ReferencesRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onDocumentHighlight:w=>y.onRequest(t.DocumentHighlightRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onDocumentSymbol:w=>y.onRequest(t.DocumentSymbolRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onWorkspaceSymbol:w=>y.onRequest(t.WorkspaceSymbolRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onWorkspaceSymbolResolve:w=>y.onRequest(t.WorkspaceSymbolResolveRequest.type,w),onCodeAction:w=>y.onRequest(t.CodeActionRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onCodeActionResolve:w=>y.onRequest(t.CodeActionResolveRequest.type,(R,q)=>w(R,q)),onCodeLens:w=>y.onRequest(t.CodeLensRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onCodeLensResolve:w=>y.onRequest(t.CodeLensResolveRequest.type,(R,q)=>w(R,q)),onDocumentFormatting:w=>y.onRequest(t.DocumentFormattingRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),void 0)),onDocumentRangeFormatting:w=>y.onRequest(t.DocumentRangeFormattingRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),void 0)),onDocumentOnTypeFormatting:w=>y.onRequest(t.DocumentOnTypeFormattingRequest.type,(R,q)=>w(R,q)),onRenameRequest:w=>y.onRequest(t.RenameRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),void 0)),onPrepareRename:w=>y.onRequest(t.PrepareRenameRequest.type,(R,q)=>w(R,q)),onDocumentLinks:w=>y.onRequest(t.DocumentLinkRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onDocumentLinkResolve:w=>y.onRequest(t.DocumentLinkResolveRequest.type,(R,q)=>w(R,q)),onDocumentColor:w=>y.onRequest(t.DocumentColorRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onColorPresentation:w=>y.onRequest(t.ColorPresentationRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onFoldingRanges:w=>y.onRequest(t.FoldingRangeRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onSelectionRanges:w=>y.onRequest(t.SelectionRangeRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),(0,i.attachPartialResult)(y,R))),onExecuteCommand:w=>y.onRequest(t.ExecuteCommandRequest.type,(R,q)=>w(R,q,(0,i.attachWorkDone)(y,R),void 0)),dispose:()=>y.dispose()};for(let w of Ze)w.attach(Ee);return y.onRequest(t.InitializeRequest.type,w=>{g.initialize(w),n.string(w.trace)&&(X.trace=t.Trace.fromString(w.trace));for(let R of Ze)R.initialize(w.capabilities);if(ut){let R=ut(w,new t.CancellationTokenSource().token,(0,i.attachWorkDone)(y,w),void 0);return Pr(R).then(q=>{if(q instanceof t.ResponseError)return q;let Re=q;Re||(Re={capabilities:{}});let pe=Re.capabilities;pe||(pe={},Re.capabilities=pe),pe.textDocumentSync===void 0||pe.textDocumentSync===null?pe.textDocumentSync=n.number(Ee.__textDocumentSync)?Ee.__textDocumentSync:t.TextDocumentSyncKind.None:!n.number(pe.textDocumentSync)&&!n.number(pe.textDocumentSync.change)&&(pe.textDocumentSync.change=n.number(Ee.__textDocumentSync)?Ee.__textDocumentSync:t.TextDocumentSyncKind.None);for(let gn of Ze)gn.fillServerCapabilities(pe);return Re})}else{let R={capabilities:{textDocumentSync:t.TextDocumentSyncKind.None}};for(let q of Ze)q.fillServerCapabilities(R.capabilities);return R}}),y.onRequest(t.ShutdownRequest.type,()=>{if(g.shutdownReceived=!0,ct)return ct(new t.CancellationTokenSource().token)}),y.onNotification(t.ExitNotification.type,()=>{try{lt&&lt()}finally{g.shutdownReceived?g.exit(0):g.exit(1)}}),y.onNotification(t.SetTraceNotification.type,w=>{X.trace=t.Trace.fromString(w.value)}),Ee}e.createConnection=Me}(hi),function(e){var t=te&&te.__createBinding||(Object.create?function(s,c,u,d){d===void 0&&(d=u);var h=Object.getOwnPropertyDescriptor(c,u);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[u]}}),Object.defineProperty(s,d,h)}:function(s,c,u,d){d===void 0&&(d=u),s[d]=c[u]}),n=te&&te.__exportStar||function(s,c){for(var u in s)u!=="default"&&!Object.prototype.hasOwnProperty.call(c,u)&&t(c,s,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=Se;Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}}),n(re,e);const i=qt;Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return i.TextDocuments}});const a=Qe;Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return a.NotebookDocuments}}),n(hi,e),function(s){s.all={__brand:"features"}}(e.ProposedFeatures||(e.ProposedFeatures={}))}(_n);var Ko=re;(function(e){var t=te&&te.__createBinding||(Object.create?function(c,u,d,h){h===void 0&&(h=d);var p=Object.getOwnPropertyDescriptor(u,d);(!p||("get"in p?!u.__esModule:p.writable||p.configurable))&&(p={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(c,h,p)}:function(c,u,d,h){h===void 0&&(h=d),c[h]=u[d]}),n=te&&te.__exportStar||function(c,u){for(var d in c)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&t(u,c,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const r=_n;n(Ko,e),n(_n,e);let i=!1;const a={initialize:c=>{},get shutdownReceived(){return i},set shutdownReceived(c){i=c},exit:c=>{}};function s(c,u,d,h){let p,_,m,P;c!==void 0&&c.__brand==="features"&&(p=c,c=u,u=d,d=h),r.ConnectionStrategy.is(c)||r.ConnectionOptions.is(c)?P=c:(_=c,m=u,P=d);const W=U=>(0,r.createProtocolConnection)(_,m,U,P);return(0,r.createConnection)(W,a,p)}e.createConnection=s})(Mr);var kr=Mr;const xo=new Promise(e=>{self.onmessage=t=>{const n=t.ports?.[0];n!==null&&e(n)}});Nr().then(()=>xo).then(e=>{const t=new kr.BrowserMessageReader(self),n=new kr.BrowserMessageWriter(self);let r;const i=kr.createConnection(t,n);function a(d,h){return i.sendNotification(d,h),!0}async function s(d,h){return await i.sendRequest(d,h)}async function c(d){return await i.sendRequest("slint/load_file",d)}function u(d,h){e.postMessage({command:"highlight",data:{path:d,offset:h}})}i.onInitialize(d=>{r=ji(d,a,s,c,u);const h=r.server_initialize_result(d.capabilities);return h.capabilities.codeLensProvider=null,h}),i.onRequest(async(d,h,p)=>await r.handle_request(p,d,h)),i.onDidChangeTextDocument(async d=>{await r.reload_document(d.contentChanges[d.contentChanges.length-1].text,d.textDocument.uri,d.textDocument.version)}),i.onDidOpenTextDocument(async d=>{await r.reload_document(d.textDocument.text,d.textDocument.uri,d.textDocument.version)}),i.listen(),self.postMessage("OK")})})();
