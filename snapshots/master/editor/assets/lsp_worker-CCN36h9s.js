(function(){"use strict";let S;const Oe=new Array(128).fill(void 0);Oe.push(void 0,null,!0,!1);function c(e){return Oe[e]}let wt=Oe.length;function Wi(e){e<132||(Oe[e]=wt,wt=e)}function ue(e){const t=c(e);return Wi(e),t}const Ar=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Ar.decode();let yt=null;function zt(){return(yt===null||yt.byteLength===0)&&(yt=new Uint8Array(S.memory.buffer)),yt}function H(e,t){return e=e>>>0,Ar.decode(zt().subarray(e,e+t))}function h(e){wt===Oe.length&&Oe.push(Oe.length+1);const t=wt;return wt=Oe[t],Oe[t]=e,t}let Y=0;const Bt=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},Hi=typeof Bt.encodeInto=="function"?function(e,t){return Bt.encodeInto(e,t)}:function(e,t){const n=Bt.encode(e);return t.set(n),{read:e.length,written:n.length}};function G(e,t,n){if(n===void 0){const u=Bt.encode(e),d=t(u.length,1)>>>0;return zt().subarray(d,d+u.length).set(u),Y=u.length,d}let r=e.length,i=t(r,1)>>>0;const o=zt();let a=0;for(;a<r;a++){const u=e.charCodeAt(a);if(u>127)break;o[i+a]=u}if(a!==r){a!==0&&(e=e.slice(a)),i=n(i,r,r=a+e.length*3,1)>>>0;const u=zt().subarray(i+a,i+r),d=Hi(e,u);a+=d.written,i=n(i,r,a,1)>>>0}return Y=a,i}function W(e){return e==null}let pt=null;function N(){return(pt===null||pt.byteLength===0)&&(pt=new Int32Array(S.memory.buffer)),pt}let vt=null;function $i(){return(vt===null||vt.byteLength===0)&&(vt=new Float64Array(S.memory.buffer)),vt}let Rt=null;function zi(){return(Rt===null||Rt.byteLength===0)&&(Rt=new BigInt64Array(S.memory.buffer)),Rt}function Rn(e){const t=typeof e;if(t=="number"||t=="boolean"||e==null)return`${e}`;if(t=="string")return`"${e}"`;if(t=="symbol"){const i=e.description;return i==null?"Symbol":`Symbol(${i})`}if(t=="function"){const i=e.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(e)){const i=e.length;let o="[";i>0&&(o+=Rn(e[0]));for(let a=1;a<i;a++)o+=", "+Rn(e[a]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(n.length>1)r=n[1];else return toString.call(e);if(r=="Object")try{return"Object("+JSON.stringify(e)+")"}catch{return"Object"}return e instanceof Error?`${e.name}: ${e.message}
${e.stack}`:r}const Ut=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>{S.__wbindgen_export_2.get(e.dtor)(e.a,e.b)});function Dt(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...a)=>{i.cnt++;try{return r(i.a,i.b,...a)}finally{--i.cnt===0&&(S.__wbindgen_export_2.get(i.dtor)(i.a,i.b),i.a=0,Ut.unregister(i))}};return o.original=i,Ut.register(o,i,i),o}function Tt(e,t,n){S._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h1517f80f07fff412(e,t,h(n))}function Pe(e,t,n,r){const i={a:e,b:t,cnt:1,dtor:n},o=(...a)=>{i.cnt++;const u=i.a;i.a=0;try{return r(u,i.b,...a)}finally{--i.cnt===0?(S.__wbindgen_export_2.get(i.dtor)(u,i.b),Ut.unregister(i)):i.a=u}};return o.original=i,Ut.register(o,i,i),o}function Ir(e,t){S._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__ha16c9ac95bce6330(e,t)}function We(e,t,n){S._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h3796b47d9c8e0e36(e,t,h(n))}function Wr(e,t,n,r){S._dyn_core__ops__function__FnMut__A_B___Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h474cad43e6cc2421(e,t,h(n),h(r))}function F(e,t){try{return e.apply(this,t)}catch(n){S.__wbindgen_exn_store(h(n))}}function Bi(e,t,n,r){try{const u=S.__wbindgen_add_to_stack_pointer(-16);S.create(u,h(e),h(t),h(n),h(r));var i=N()[u/4+0],o=N()[u/4+1],a=N()[u/4+2];if(a)throw ue(o);return Tn.__wrap(i)}finally{S.__wbindgen_add_to_stack_pointer(16)}}let kt=null;function Ui(){return(kt===null||kt.byteLength===0)&&(kt=new Float32Array(S.memory.buffer)),kt}function Vt(e,t){return e=e>>>0,Ui().subarray(e/4,e/4+t)}const Hr=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>S.__wbg_previewconnector_free(e>>>0));class Dn{static __wrap(t){t=t>>>0;const n=Object.create(Dn.prototype);return n.__wbg_ptr=t,Hr.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,Hr.unregister(this),t}free(){const t=this.__destroy_into_raw();S.__wbg_previewconnector_free(t)}static create(t,n,r,i){try{const d=S.__wbindgen_add_to_stack_pointer(-16),l=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),b=Y;S.previewconnector_create(d,h(t),h(n),l,b,i);var o=N()[d/4+0],a=N()[d/4+1],u=N()[d/4+2];if(u)throw ue(a);return ue(o)}finally{S.__wbindgen_add_to_stack_pointer(16)}}current_style(){const t=S.previewconnector_current_style(this.__wbg_ptr);return ue(t)}show_ui(){try{const i=S.__wbindgen_add_to_stack_pointer(-16);S.previewconnector_show_ui(i,this.__wbg_ptr);var t=N()[i/4+0],n=N()[i/4+1],r=N()[i/4+2];if(r)throw ue(n);return ue(t)}finally{S.__wbindgen_add_to_stack_pointer(16)}}process_lsp_to_preview_message(t){try{const i=S.__wbindgen_add_to_stack_pointer(-16);S.previewconnector_process_lsp_to_preview_message(i,this.__wbg_ptr,h(t));var n=N()[i/4+0],r=N()[i/4+1];if(r)throw ue(n)}finally{S.__wbindgen_add_to_stack_pointer(16)}}}const $r=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(e=>S.__wbg_slintserver_free(e>>>0));class Tn{static __wrap(t){t=t>>>0;const n=Object.create(Tn.prototype);return n.__wbg_ptr=t,$r.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,$r.unregister(this),t}free(){const t=this.__destroy_into_raw();S.__wbg_slintserver_free(t)}process_preview_to_lsp_message(t){const n=S.slintserver_process_preview_to_lsp_message(this.__wbg_ptr,h(t));return ue(n)}server_initialize_result(t){try{const o=S.__wbindgen_add_to_stack_pointer(-16);S.slintserver_server_initialize_result(o,this.__wbg_ptr,h(t));var n=N()[o/4+0],r=N()[o/4+1],i=N()[o/4+2];if(i)throw ue(r);return ue(n)}finally{S.__wbindgen_add_to_stack_pointer(16)}}reload_document(t,n,r){const i=G(t,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y,a=S.slintserver_reload_document(this.__wbg_ptr,i,o,h(n),r);return ue(a)}handle_request(t,n,r){const i=G(n,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y,a=S.slintserver_handle_request(this.__wbg_ptr,h(t),i,o,h(r));return ue(a)}reload_config(){const t=S.slintserver_reload_config(this.__wbg_ptr);return ue(t)}}async function Vi(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}else{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}function Ji(){const e={};return e.wbg={},e.wbg.__wbg_new_abda76e883ba8a5f=function(){const t=new Error;return h(t)},e.wbg.__wbg_stack_658279fe44541cf6=function(t,n){const r=c(n).stack,i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_error_f851667af71bcfc6=function(t,n){let r,i;try{r=t,i=n,console.error(H(t,n))}finally{S.__wbindgen_free(r,i,1)}},e.wbg.__wbindgen_object_drop_ref=function(t){ue(t)},e.wbg.__wbg_width_59e0563d9c871704=function(t){return c(t).width},e.wbg.__wbg_height_1a892edafac94d49=function(t){return c(t).height},e.wbg.__wbg_createTexture_c13c31b2b132c17f=function(t){const n=c(t).createTexture();return W(n)?0:h(n)},e.wbg.__wbg_createTexture_18b4a88c14cb086e=function(t){const n=c(t).createTexture();return W(n)?0:h(n)},e.wbg.__wbg_createProgram_9affbfa62b7b2608=function(t){const n=c(t).createProgram();return W(n)?0:h(n)},e.wbg.__wbg_createProgram_7759fb2effb5d9b3=function(t){const n=c(t).createProgram();return W(n)?0:h(n)},e.wbg.__wbg_attachShader_6397dc4fd87343d3=function(t,n,r){c(t).attachShader(c(n),c(r))},e.wbg.__wbg_attachShader_2112634b3ffa9e9f=function(t,n,r){c(t).attachShader(c(n),c(r))},e.wbg.__wbg_bindAttribLocation_7ab87f5815dce9f0=function(t,n,r,i,o){c(t).bindAttribLocation(c(n),r>>>0,H(i,o))},e.wbg.__wbg_bindAttribLocation_e05596ff4f5413c3=function(t,n,r,i,o){c(t).bindAttribLocation(c(n),r>>>0,H(i,o))},e.wbg.__wbg_linkProgram_af5fed9dc3f1cdf9=function(t,n){c(t).linkProgram(c(n))},e.wbg.__wbg_linkProgram_eabc664217816e72=function(t,n){c(t).linkProgram(c(n))},e.wbg.__wbg_getProgramParameter_10c8a43809fb8c2e=function(t,n,r){const i=c(t).getProgramParameter(c(n),r>>>0);return h(i)},e.wbg.__wbg_getProgramParameter_7b04ca71a79d9047=function(t,n,r){const i=c(t).getProgramParameter(c(n),r>>>0);return h(i)},e.wbg.__wbindgen_boolean_get=function(t){const n=c(t);return typeof n=="boolean"?n?1:0:2},e.wbg.__wbg_detachShader_2be0011a543a788a=function(t,n,r){c(t).detachShader(c(n),c(r))},e.wbg.__wbg_detachShader_6cdc9c293ddee02e=function(t,n,r){c(t).detachShader(c(n),c(r))},e.wbg.__wbg_getProgramInfoLog_bf1fba8fa90667c7=function(t,n,r){const i=c(n).getProgramInfoLog(c(r));var o=W(i)?0:G(i,S.__wbindgen_malloc,S.__wbindgen_realloc),a=Y;N()[t/4+1]=a,N()[t/4+0]=o},e.wbg.__wbg_getProgramInfoLog_4d189135f8d5a2de=function(t,n,r){const i=c(n).getProgramInfoLog(c(r));var o=W(i)?0:G(i,S.__wbindgen_malloc,S.__wbindgen_realloc),a=Y;N()[t/4+1]=a,N()[t/4+0]=o},e.wbg.__wbg_createShader_55ca04b44164bd41=function(t,n){const r=c(t).createShader(n>>>0);return W(r)?0:h(r)},e.wbg.__wbg_createShader_b474ef421ec0f80b=function(t,n){const r=c(t).createShader(n>>>0);return W(r)?0:h(r)},e.wbg.__wbg_shaderSource_7891a1fcb69a0023=function(t,n,r,i){c(t).shaderSource(c(n),H(r,i))},e.wbg.__wbg_shaderSource_7943d06f24862a3b=function(t,n,r,i){c(t).shaderSource(c(n),H(r,i))},e.wbg.__wbg_compileShader_3af4719dfdb508e3=function(t,n){c(t).compileShader(c(n))},e.wbg.__wbg_compileShader_f40e0c51a7a836fd=function(t,n){c(t).compileShader(c(n))},e.wbg.__wbg_getShaderParameter_60b69083e8d662ce=function(t,n,r){const i=c(t).getShaderParameter(c(n),r>>>0);return h(i)},e.wbg.__wbg_getShaderParameter_4ddb51279bb1500b=function(t,n,r){const i=c(t).getShaderParameter(c(n),r>>>0);return h(i)},e.wbg.__wbg_getShaderInfoLog_0262cb299092ce92=function(t,n,r){const i=c(n).getShaderInfoLog(c(r));var o=W(i)?0:G(i,S.__wbindgen_malloc,S.__wbindgen_realloc),a=Y;N()[t/4+1]=a,N()[t/4+0]=o},e.wbg.__wbg_getShaderInfoLog_d5de3e4eab06fc46=function(t,n,r){const i=c(n).getShaderInfoLog(c(r));var o=W(i)?0:G(i,S.__wbindgen_malloc,S.__wbindgen_realloc),a=Y;N()[t/4+1]=a,N()[t/4+0]=o},e.wbg.__wbg_uniform2fv_dcb8b73e2637092a=function(t,n,r,i){c(t).uniform2fv(c(n),Vt(r,i))},e.wbg.__wbg_uniform2fv_4bd352337ccc4530=function(t,n,r,i){c(t).uniform2fv(c(n),Vt(r,i))},e.wbg.__wbg_deleteFramebuffer_da681ed1dfa6d543=function(t,n){c(t).deleteFramebuffer(c(n))},e.wbg.__wbg_deleteFramebuffer_417b62b6156d4894=function(t,n){c(t).deleteFramebuffer(c(n))},e.wbg.__wbg_deleteRenderbuffer_5dcdde247a392125=function(t,n){c(t).deleteRenderbuffer(c(n))},e.wbg.__wbg_deleteRenderbuffer_d3aedb394b1ea546=function(t,n){c(t).deleteRenderbuffer(c(n))},e.wbg.__wbg_new_72fb9a18b5ae2624=function(){const t=new Object;return h(t)},e.wbg.__wbindgen_string_new=function(t,n){const r=H(t,n);return h(r)},e.wbg.__wbg_getContext_fec464290556673c=function(){return F(function(t,n,r,i){const o=c(t).getContext(H(n,r),c(i));return W(o)?0:h(o)},arguments)},e.wbg.__wbg_instanceof_WebGl2RenderingContext_6b8f92d566ced9e1=function(t){let n;try{n=c(t)instanceof WebGL2RenderingContext}catch{n=!1}return n},e.wbg.__wbg_getSupportedExtensions_7a174085f9e1983a=function(t){const n=c(t).getSupportedExtensions();return W(n)?0:h(n)},e.wbg.__wbg_length_cd7af8117672b8b8=function(t){return c(t).length},e.wbg.__wbg_get_bd8e338fbd5f5cc8=function(t,n){const r=c(t)[n>>>0];return h(r)},e.wbg.__wbindgen_string_get=function(t,n){const r=c(n),i=typeof r=="string"?r:void 0;var o=W(i)?0:G(i,S.__wbindgen_malloc,S.__wbindgen_realloc),a=Y;N()[t/4+1]=a,N()[t/4+0]=o},e.wbg.__wbg_getParameter_aa9af66884d2b210=function(){return F(function(t,n){const r=c(t).getParameter(n>>>0);return h(r)},arguments)},e.wbg.__wbg_createVertexArrayOES_886be8a08db32ce6=function(t){const n=c(t).createVertexArrayOES();return W(n)?0:h(n)},e.wbg.__wbg_createVertexArray_4f450ed4d4a69acf=function(t){const n=c(t).createVertexArray();return W(n)?0:h(n)},e.wbg.__wbg_createBuffer_34e01f5c10929b41=function(t){const n=c(t).createBuffer();return W(n)?0:h(n)},e.wbg.__wbg_createBuffer_7f57647465d111f0=function(t){const n=c(t).createBuffer();return W(n)?0:h(n)},e.wbg.__wbg_getError_fd1f7b2b2ba5a860=function(t){return c(t).getError()},e.wbg.__wbg_getError_d02c89917f45dd5e=function(t){return c(t).getError()},e.wbg.__wbg_createFramebuffer_49ca64e9e1c6f5eb=function(t){const n=c(t).createFramebuffer();return W(n)?0:h(n)},e.wbg.__wbg_createFramebuffer_8ebfde8c77472024=function(t){const n=c(t).createFramebuffer();return W(n)?0:h(n)},e.wbg.__wbg_framebufferTexture2D_66e1968fd5b7b3e3=function(t,n,r,i,o,a){c(t).framebufferTexture2D(n>>>0,r>>>0,i>>>0,c(o),a)},e.wbg.__wbg_framebufferTexture2D_a6ad7148f7983ae6=function(t,n,r,i,o,a){c(t).framebufferTexture2D(n>>>0,r>>>0,i>>>0,c(o),a)},e.wbg.__wbg_createRenderbuffer_375d7f4004bc49bd=function(t){const n=c(t).createRenderbuffer();return W(n)?0:h(n)},e.wbg.__wbg_createRenderbuffer_340b1c428d564bfd=function(t){const n=c(t).createRenderbuffer();return W(n)?0:h(n)},e.wbg.__wbg_renderbufferStorage_f41b3c99f6a8f25e=function(t,n,r,i,o){c(t).renderbufferStorage(n>>>0,r>>>0,i,o)},e.wbg.__wbg_renderbufferStorage_ff5740fb95ecf231=function(t,n,r,i,o){c(t).renderbufferStorage(n>>>0,r>>>0,i,o)},e.wbg.__wbg_framebufferRenderbuffer_e1c9c64aea848b39=function(t,n,r,i,o){c(t).framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,c(o))},e.wbg.__wbg_framebufferRenderbuffer_0144c6e35e2edb19=function(t,n,r,i,o){c(t).framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,c(o))},e.wbg.__wbg_checkFramebufferStatus_2380be4caf464ead=function(t,n){return c(t).checkFramebufferStatus(n>>>0)},e.wbg.__wbg_checkFramebufferStatus_faf497a8869b5585=function(t,n){return c(t).checkFramebufferStatus(n>>>0)},e.wbg.__wbg_scissor_75ba2245d4db0eaf=function(t,n,r,i,o){c(t).scissor(n,r,i,o)},e.wbg.__wbg_scissor_726eea865bbd6809=function(t,n,r,i,o){c(t).scissor(n,r,i,o)},e.wbg.__wbg_clearColor_42707553c40e0e0f=function(t,n,r,i,o){c(t).clearColor(n,r,i,o)},e.wbg.__wbg_clearColor_480962bfac4e1cbd=function(t,n,r,i,o){c(t).clearColor(n,r,i,o)},e.wbg.__wbg_clear_f9731a47df2e70d8=function(t,n){c(t).clear(n>>>0)},e.wbg.__wbg_clear_8e2508724944df18=function(t,n){c(t).clear(n>>>0)},e.wbg.__wbg_uniform4fv_980ce05d950ee599=function(t,n,r,i){c(t).uniform4fv(c(n),Vt(r,i))},e.wbg.__wbg_uniform4fv_39cdcce4b1acc767=function(t,n,r,i){c(t).uniform4fv(c(n),Vt(r,i))},e.wbg.__wbg_deleteTexture_eae7abcfa3015f09=function(t,n){c(t).deleteTexture(c(n))},e.wbg.__wbg_deleteTexture_f89d8e417b156960=function(t,n){c(t).deleteTexture(c(n))},e.wbg.__wbg_deleteShader_138a810cc0ca9986=function(t,n){c(t).deleteShader(c(n))},e.wbg.__wbg_deleteShader_e5c778f25b722e68=function(t,n){c(t).deleteShader(c(n))},e.wbg.__wbg_deleteProgram_a06d69620332cc70=function(t,n){c(t).deleteProgram(c(n))},e.wbg.__wbg_deleteProgram_641402f7551587d8=function(t,n){c(t).deleteProgram(c(n))},e.wbg.__wbg_useProgram_757fab437af29c20=function(t,n){c(t).useProgram(c(n))},e.wbg.__wbg_useProgram_c637e43f9cd4c07a=function(t,n){c(t).useProgram(c(n))},e.wbg.__wbg_bindBuffer_90d4fb91538001d5=function(t,n,r){c(t).bindBuffer(n>>>0,c(r))},e.wbg.__wbg_bindBuffer_1e5043751efddd4f=function(t,n,r){c(t).bindBuffer(n>>>0,c(r))},e.wbg.__wbg_bindFramebuffer_4f950b884dc4be83=function(t,n,r){c(t).bindFramebuffer(n>>>0,c(r))},e.wbg.__wbg_bindFramebuffer_c301d73a2c2842bb=function(t,n,r){c(t).bindFramebuffer(n>>>0,c(r))},e.wbg.__wbg_bindRenderbuffer_1e0b14f526ed7a9d=function(t,n,r){c(t).bindRenderbuffer(n>>>0,c(r))},e.wbg.__wbg_bindRenderbuffer_8ec7d02bd60bdfb2=function(t,n,r){c(t).bindRenderbuffer(n>>>0,c(r))},e.wbg.__wbg_bindVertexArray_239574d42dbbd203=function(t,n){c(t).bindVertexArray(c(n))},e.wbg.__wbg_bindVertexArrayOES_abe2fd389c6a2f56=function(t,n){c(t).bindVertexArrayOES(c(n))},e.wbg.__wbg_pixelStorei_054e50b5fdc17824=function(t,n,r){c(t).pixelStorei(n>>>0,r)},e.wbg.__wbg_pixelStorei_162a23ba7872b886=function(t,n,r){c(t).pixelStorei(n>>>0,r)},e.wbg.__wbg_disable_5dd8c3842de93e92=function(t,n){c(t).disable(n>>>0)},e.wbg.__wbg_disable_f0ef6e9a7ac6ddd7=function(t,n){c(t).disable(n>>>0)},e.wbg.__wbg_disableVertexAttribArray_12bc9adefa738796=function(t,n){c(t).disableVertexAttribArray(n>>>0)},e.wbg.__wbg_disableVertexAttribArray_e4f458e34e54fe78=function(t,n){c(t).disableVertexAttribArray(n>>>0)},e.wbg.__wbg_drawArrays_f619a26a53ab5ab3=function(t,n,r,i){c(t).drawArrays(n>>>0,r,i)},e.wbg.__wbg_drawArrays_5bf0d92947e472af=function(t,n,r,i){c(t).drawArrays(n>>>0,r,i)},e.wbg.__wbg_enable_7abe812a71c76206=function(t,n){c(t).enable(n>>>0)},e.wbg.__wbg_enable_8b3019da8846ce76=function(t,n){c(t).enable(n>>>0)},e.wbg.__wbg_enableVertexAttribArray_6d44444aa994f42a=function(t,n){c(t).enableVertexAttribArray(n>>>0)},e.wbg.__wbg_enableVertexAttribArray_9d7b7e199f86e09b=function(t,n){c(t).enableVertexAttribArray(n>>>0)},e.wbg.__wbg_getUniformLocation_6eedfb513ccce732=function(t,n,r,i){const o=c(t).getUniformLocation(c(n),H(r,i));return W(o)?0:h(o)},e.wbg.__wbg_getUniformLocation_51ec30e3755e574d=function(t,n,r,i){const o=c(t).getUniformLocation(c(n),H(r,i));return W(o)?0:h(o)},e.wbg.__wbg_generateMipmap_cd6c5ba2828aac7e=function(t,n){c(t).generateMipmap(n>>>0)},e.wbg.__wbg_generateMipmap_806e608c7c4d9b60=function(t,n){c(t).generateMipmap(n>>>0)},e.wbg.__wbg_texImage2D_a14a3c7863e25c89=function(){return F(function(t,n,r,i,o,a,u,d,l,b){c(t).texImage2D(n>>>0,r,i,o,a,u,d>>>0,l>>>0,c(b))},arguments)},e.wbg.__wbg_texImage2D_2558a70047650d54=function(){return F(function(t,n,r,i,o,a,u,d,l,b){c(t).texImage2D(n>>>0,r,i,o,a,u,d>>>0,l>>>0,c(b))},arguments)},e.wbg.__wbg_uniform1i_badd5ff70c0d30bf=function(t,n,r){c(t).uniform1i(c(n),r)},e.wbg.__wbg_uniform1i_bdcd75be097285e6=function(t,n,r){c(t).uniform1i(c(n),r)},e.wbg.__wbg_colorMask_03aa359acc86fd70=function(t,n,r,i,o){c(t).colorMask(n!==0,r!==0,i!==0,o!==0)},e.wbg.__wbg_colorMask_21a93d0180bcbffa=function(t,n,r,i,o){c(t).colorMask(n!==0,r!==0,i!==0,o!==0)},e.wbg.__wbg_bindTexture_75a698c47a923814=function(t,n,r){c(t).bindTexture(n>>>0,c(r))},e.wbg.__wbg_bindTexture_772f5eb022019d87=function(t,n,r){c(t).bindTexture(n>>>0,c(r))},e.wbg.__wbg_activeTexture_5f084e1b3f14853e=function(t,n){c(t).activeTexture(n>>>0)},e.wbg.__wbg_activeTexture_d42cec3a26e47a5b=function(t,n){c(t).activeTexture(n>>>0)},e.wbg.__wbg_texParameteri_d1035ed45d6c5655=function(t,n,r,i){c(t).texParameteri(n>>>0,r>>>0,i)},e.wbg.__wbg_texParameteri_8f70dffce11d7da1=function(t,n,r,i){c(t).texParameteri(n>>>0,r>>>0,i)},e.wbg.__wbg_texSubImage2D_55a407e48f3a5cb4=function(){return F(function(t,n,r,i,o,a,u,d,l,b){c(t).texSubImage2D(n>>>0,r,i,o,a,u,d>>>0,l>>>0,c(b))},arguments)},e.wbg.__wbg_texSubImage2D_b4ac5eac47418cc5=function(){return F(function(t,n,r,i,o,a,u,d,l,b){c(t).texSubImage2D(n>>>0,r,i,o,a,u,d>>>0,l>>>0,c(b))},arguments)},e.wbg.__wbg_texSubImage2D_b962ba533b866161=function(){return F(function(t,n,r,i,o,a,u,d,l,b){c(t).texSubImage2D(n>>>0,r,i,o,a,u,d>>>0,l>>>0,b)},arguments)},e.wbg.__wbg_vertexAttribPointer_c25e4c5ed17f8a1d=function(t,n,r,i,o,a,u){c(t).vertexAttribPointer(n>>>0,r,i>>>0,o!==0,a,u)},e.wbg.__wbg_vertexAttribPointer_4416f0325c02aa13=function(t,n,r,i,o,a,u){c(t).vertexAttribPointer(n>>>0,r,i>>>0,o!==0,a,u)},e.wbg.__wbg_viewport_221ade2aef6032c8=function(t,n,r,i,o){c(t).viewport(n,r,i,o)},e.wbg.__wbg_viewport_7414e7e2a83afc72=function(t,n,r,i,o){c(t).viewport(n,r,i,o)},e.wbg.__wbg_stencilFunc_9980bd97f7a51bcc=function(t,n,r,i){c(t).stencilFunc(n>>>0,r,i>>>0)},e.wbg.__wbg_stencilFunc_da7d66ef7f45669d=function(t,n,r,i){c(t).stencilFunc(n>>>0,r,i>>>0)},e.wbg.__wbg_stencilMask_c5ad44ea27c5f169=function(t,n){c(t).stencilMask(n>>>0)},e.wbg.__wbg_stencilMask_9abfc669d9c2a893=function(t,n){c(t).stencilMask(n>>>0)},e.wbg.__wbg_stencilOp_f851ac834ef05b40=function(t,n,r,i){c(t).stencilOp(n>>>0,r>>>0,i>>>0)},e.wbg.__wbg_stencilOp_a085ec75f6ad3ff8=function(t,n,r,i){c(t).stencilOp(n>>>0,r>>>0,i>>>0)},e.wbg.__wbg_stencilOpSeparate_321604240216c55c=function(t,n,r,i,o){c(t).stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_stencilOpSeparate_2f2cc25254360270=function(t,n,r,i,o){c(t).stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_devicePixelRatio_efc553b59506f64c=function(t){return c(t).devicePixelRatio},e.wbg.__wbg_document_5100775d18896c16=function(t){const n=c(t).document;return W(n)?0:h(n)},e.wbg.__wbg_getElementById_c369ff43f0db99cf=function(t,n,r){const i=c(t).getElementById(H(n,r));return W(i)?0:h(i)},e.wbg.__wbg_instanceof_HtmlCanvasElement_46bdbf323b0b18d1=function(t){let n;try{n=c(t)instanceof HTMLCanvasElement}catch{n=!1}return n},e.wbg.__wbg_setwidth_080107476e633963=function(t,n){c(t).width=n>>>0},e.wbg.__wbg_setheight_dc240617639f1f51=function(t,n){c(t).height=n>>>0},e.wbg.__wbg_clientWidth_7ea3915573b64350=function(t){return c(t).clientWidth},e.wbg.__wbg_clientHeight_d24efa25aa66e844=function(t){return c(t).clientHeight},e.wbg.__wbg_dataset_2dc9c005573ba3b5=function(t){const n=c(t).dataset;return h(n)},e.wbg.__wbg_get_2a1a5424f4996392=function(t,n,r,i){const o=c(n)[H(r,i)];var a=W(o)?0:G(o,S.__wbindgen_malloc,S.__wbindgen_realloc),u=Y;N()[t/4+1]=u,N()[t/4+0]=a},e.wbg.__wbg_instanceof_HtmlInputElement_307512fe1252c849=function(t){let n;try{n=c(t)instanceof HTMLInputElement}catch{n=!1}return n},e.wbg.__wbg_style_c3fc3dd146182a2d=function(t){const n=c(t).style;return h(n)},e.wbg.__wbg_setProperty_ea7d15a2b591aa97=function(){return F(function(t,n,r,i,o){c(t).setProperty(H(n,r),H(i,o))},arguments)},e.wbg.__wbg_offsetLeft_f8785f97dde57216=function(t){return c(t).offsetLeft},e.wbg.__wbg_offsetTop_d164bbc281f71e80=function(t){return c(t).offsetTop},e.wbg.__wbg_offsetWidth_f7da5da36bd7ebc2=function(t){return c(t).offsetWidth},e.wbg.__wbg_offsetHeight_6a4b02ccf09957d7=function(t){return c(t).offsetHeight},e.wbg.__wbg_setAttribute_3c9f6c303b696daa=function(){return F(function(t,n,r,i,o){c(t).setAttribute(H(n,r),H(i,o))},arguments)},e.wbg.__wbg_before_210596e44d88649f=function(){return F(function(t,n){c(t).before(c(n))},arguments)},e.wbg.__wbindgen_object_clone_ref=function(t){const n=c(t);return h(n)},e.wbg.__wbg_addEventListener_53b787075bd5e003=function(){return F(function(t,n,r,i){c(t).addEventListener(H(n,r),c(i))},arguments)},e.wbg.__wbg_focus_39d4b8ba8ff9df14=function(){return F(function(t){c(t).focus()},arguments)},e.wbg.__wbg_setvalue_78cb4f1fef58ae98=function(t,n,r){c(t).value=H(n,r)},e.wbg.__wbg_data_f6efcce74d694398=function(t,n){const r=c(n).data;var i=W(r)?0:G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_isComposing_71872de364b1e1b7=function(t){return c(t).isComposing},e.wbg.__wbg_inputType_f005456592ece694=function(t,n){const r=c(n).inputType,i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_preventDefault_b1a4aafc79409429=function(t){c(t).preventDefault()},e.wbg.__wbg_isComposing_a0b97b7ba6491ed6=function(t){return c(t).isComposing},e.wbg.__wbg_key_dccf9e8aa1315a8e=function(t,n){const r=c(n).key,i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_shiftKey_5911baf439ab232b=function(t){return c(t).shiftKey},e.wbg.__wbg_ctrlKey_bb5b6fef87339703=function(t){return c(t).ctrlKey},e.wbg.__wbg_altKey_2e6c34c37088d8b1=function(t){return c(t).altKey},e.wbg.__wbg_getModifierState_081302a3ea0063ad=function(t,n,r){return c(t).getModifierState(H(n,r))},e.wbg.__wbg_repeat_f64b916c6eed0685=function(t){return c(t).repeat},e.wbg.__wbg_clipboardData_0427b2003659865a=function(t){const n=c(t).clipboardData;return W(n)?0:h(n)},e.wbg.__wbg_setData_dfe68ac4309307b3=function(){return F(function(t,n,r,i,o){c(t).setData(H(n,r),H(i,o))},arguments)},e.wbg.__wbg_getData_35c5974f5cd7e02c=function(){return F(function(t,n,r,i){const o=c(n).getData(H(r,i)),a=G(o,S.__wbindgen_malloc,S.__wbindgen_realloc),u=Y;N()[t/4+1]=u,N()[t/4+0]=a},arguments)},e.wbg.__wbg_instanceof_CanvasRenderingContext2d_20bf99ccc051643b=function(t){let n;try{n=c(t)instanceof CanvasRenderingContext2D}catch{n=!1}return n},e.wbg.__wbg_setfont_a4d031cf2c94b4db=function(t,n,r){c(t).font=H(n,r)},e.wbg.__wbg_setfillStyle_4de94b275f5761f2=function(t,n){c(t).fillStyle=c(n)},e.wbg.__wbg_id_e0c4392b9418f9b0=function(t,n){const r=c(n).id,i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_src_4486cdef354bb1c6=function(t,n){const r=c(n).src,i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_new_e6ce9457ca710f38=function(){return F(function(){const t=new Image;return h(t)},arguments)},e.wbg.__wbg_setcrossOrigin_38f9141049af3dbf=function(t,n,r){c(t).crossOrigin=n===0?void 0:H(n,r)},e.wbg.__wbg_setonload_4b2d1fd60416c2dd=function(t,n){c(t).onload=c(n)},e.wbg.__wbg_setsrc_681ceacdf6845f60=function(t,n,r){c(t).src=H(n,r)},e.wbg.__wbg_log_46352d3b4a6699e7=function(t,n){console.log(H(t,n))},e.wbg.__wbg_new0_7d84e5b2cd9fdc73=function(){return h(new Date)},e.wbg.__wbg_getTime_2bc4375165f02d15=function(t){return c(t).getTime()},e.wbg.__wbindgen_number_new=function(t){return h(t)},e.wbg.__wbg_new_cf3ec55744a78578=function(t){const n=new Date(c(t));return h(n)},e.wbg.__wbg_getTimezoneOffset_38257122e236c190=function(t){return c(t).getTimezoneOffset()},e.wbg.__wbg_naturalWidth_71b3dd9a08fc5b67=function(t){return c(t).naturalWidth},e.wbg.__wbg_naturalHeight_28222166431eb854=function(t){return c(t).naturalHeight},e.wbg.__wbg_currentSrc_4c7fe1289340059b=function(t,n){const r=c(n).currentSrc,i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbindgen_cb_drop=function(t){const n=ue(t).original;return n.cnt--==1?(n.a=0,!0):!1},e.wbg.__wbg_cullFace_af37bb1c2d22ab73=function(t,n){c(t).cullFace(n>>>0)},e.wbg.__wbg_cullFace_fe427cdf8d0ea4e2=function(t,n){c(t).cullFace(n>>>0)},e.wbg.__wbg_frontFace_bb8a1ded6f52865e=function(t,n){c(t).frontFace(n>>>0)},e.wbg.__wbg_frontFace_41ab8e7ce3e48cae=function(t,n){c(t).frontFace(n>>>0)},e.wbg.__wbg_bufferData_5d1e6b8eaa7d23c8=function(t,n,r,i){c(t).bufferData(n>>>0,c(r),i>>>0)},e.wbg.__wbg_bufferData_c787516945ba48c2=function(t,n,r,i){c(t).bufferData(n>>>0,c(r),i>>>0)},e.wbg.__wbg_blendFuncSeparate_abe2ad4272c8365e=function(t,n,r,i,o){c(t).blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_blendFuncSeparate_3c342f57887c2900=function(t,n,r,i,o){c(t).blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},e.wbg.__wbg_setwidth_ddbe40b21941e3fa=function(t,n){c(t).width=n>>>0},e.wbg.__wbg_setheight_8a4aaecbc98412f2=function(t,n){c(t).height=n>>>0},e.wbg.__wbg_deleteVertexArray_67635c7fe59aa660=function(t,n){c(t).deleteVertexArray(c(n))},e.wbg.__wbg_deleteVertexArrayOES_153f352862874f30=function(t,n){c(t).deleteVertexArrayOES(c(n))},e.wbg.__wbg_deleteBuffer_fca5d765302c9a4e=function(t,n){c(t).deleteBuffer(c(n))},e.wbg.__wbg_deleteBuffer_96df38349e3487d2=function(t,n){c(t).deleteBuffer(c(n))},e.wbg.__wbg_readPixels_551d0505625c865b=function(){return F(function(t,n,r,i,o,a,u,d){c(t).readPixels(n,r,i,o,a>>>0,u>>>0,c(d))},arguments)},e.wbg.__wbg_readPixels_40ba392d7aaf6ac0=function(){return F(function(t,n,r,i,o,a,u,d){c(t).readPixels(n,r,i,o,a>>>0,u>>>0,c(d))},arguments)},e.wbg.__wbg_texSubImage2D_9d81b120742e204f=function(){return F(function(t,n,r,i,o,a,u,d){c(t).texSubImage2D(n>>>0,r,i,o,a>>>0,u>>>0,c(d))},arguments)},e.wbg.__wbg_texSubImage2D_96b5fd7a6e3f8db9=function(){return F(function(t,n,r,i,o,a,u,d){c(t).texSubImage2D(n>>>0,r,i,o,a>>>0,u>>>0,c(d))},arguments)},e.wbg.__wbg_next_196c84450b364254=function(){return F(function(t){const n=c(t).next();return h(n)},arguments)},e.wbg.__wbg_done_298b57d23c0fc80c=function(t){return c(t).done},e.wbg.__wbg_value_d93c65011f51a456=function(t){const n=c(t).value;return h(n)},e.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return h(Symbol.iterator)},e.wbg.__wbg_get_e3c254076557e348=function(){return F(function(t,n){const r=Reflect.get(c(t),c(n));return h(r)},arguments)},e.wbg.__wbindgen_is_function=function(t){return typeof c(t)=="function"},e.wbg.__wbindgen_is_object=function(t){const n=c(t);return typeof n=="object"&&n!==null},e.wbg.__wbg_next_40fc327bfc8770e6=function(t){const n=c(t).next;return h(n)},e.wbg.__wbg_call_27c0f87801dedf93=function(){return F(function(t,n){const r=c(t).call(c(n));return h(r)},arguments)},e.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return F(function(){const t=self.self;return h(t)},arguments)},e.wbg.__wbg_window_c6fb939a7f436783=function(){return F(function(){const t=window.window;return h(t)},arguments)},e.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return F(function(){const t=globalThis.globalThis;return h(t)},arguments)},e.wbg.__wbg_global_207b558942527489=function(){return F(function(){const t=global.global;return h(t)},arguments)},e.wbg.__wbindgen_is_undefined=function(t){return c(t)===void 0},e.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(t,n){const r=new Function(H(t,n));return h(r)},e.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return F(function(t,n,r){const i=c(t).call(c(n),c(r));return h(i)},arguments)},e.wbg.__wbg_call_8e7cb608789c2528=function(){return F(function(t,n,r,i){const o=c(t).call(c(n),c(r),c(i));return h(o)},arguments)},e.wbg.__wbindgen_memory=function(){const t=S.memory;return h(t)},e.wbg.__wbg_buffer_12d079cc21e14bdb=function(t){const n=c(t).buffer;return h(n)},e.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(t,n,r){const i=new Uint8Array(c(t),n>>>0,r>>>0);return h(i)},e.wbg.__wbg_length_c20a40f15020d68a=function(t){return c(t).length},e.wbg.__wbg_new_63b92bc8671ed464=function(t){const n=new Uint8Array(c(t));return h(n)},e.wbg.__wbg_set_a47bac70306a19a7=function(t,n,r){c(t).set(c(n),r>>>0)},e.wbg.__wbg_set_1f9b04f170055d33=function(){return F(function(t,n,r){return Reflect.set(c(t),c(n),c(r))},arguments)},e.wbg.__wbindgen_error_new=function(t,n){const r=new Error(H(t,n));return h(r)},e.wbg.__wbindgen_jsval_loose_eq=function(t,n){return c(t)==c(n)},e.wbg.__wbindgen_number_get=function(t,n){const r=c(n),i=typeof r=="number"?r:void 0;$i()[t/8+1]=W(i)?0:i,N()[t/4+0]=!W(i)},e.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(t){let n;try{n=c(t)instanceof Uint8Array}catch{n=!1}return n},e.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(t){let n;try{n=c(t)instanceof ArrayBuffer}catch{n=!1}return n},e.wbg.__wbg_entries_95cc2c823b285a09=function(t){const n=Object.entries(c(t));return h(n)},e.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(t){return Number.isSafeInteger(c(t))},e.wbg.__wbindgen_as_number=function(t){return+c(t)},e.wbg.__wbg_String_b9412f8799faab3e=function(t,n){const r=String(c(n)),i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbindgen_bigint_from_i64=function(t){return h(t)},e.wbg.__wbindgen_bigint_from_u64=function(t){const n=BigInt.asUintN(64,t);return h(n)},e.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(t){return Array.isArray(c(t))},e.wbg.__wbg_new_16b304a2cfa7ff4a=function(){const t=new Array;return h(t)},e.wbg.__wbg_set_d4638f722068f043=function(t,n,r){c(t)[n>>>0]=ue(r)},e.wbg.__wbg_set_f975102236d3c502=function(t,n,r){c(t)[ue(n)]=ue(r)},e.wbg.__wbg_new_d9bc3a0147634640=function(){return h(new Map)},e.wbg.__wbg_set_8417257aaedc936b=function(t,n,r){const i=c(t).set(c(n),c(r));return h(i)},e.wbg.__wbindgen_is_string=function(t){return typeof c(t)=="string"},e.wbg.__wbg_new_81740750da40724f=function(t,n){try{var r={a:t,b:n},i=(a,u)=>{const d=r.a;r.a=0;try{return Wr(d,r.b,a,u)}finally{r.a=d}};const o=new Promise(i);return h(o)}finally{r.a=r.b=0}},e.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(t,n){const r=c(t)[c(n)];return h(r)},e.wbg.__wbindgen_in=function(t,n){return c(t)in c(n)},e.wbg.__wbg_previewconnector_new=function(t){const n=Dn.__wrap(t);return h(n)},e.wbg.__wbindgen_is_bigint=function(t){return typeof c(t)=="bigint"},e.wbg.__wbindgen_bigint_get_as_i64=function(t,n){const r=c(n),i=typeof r=="bigint"?r:void 0;zi()[t/8+1]=W(i)?BigInt(0):i,N()[t/4+0]=!W(i)},e.wbg.__wbindgen_jsval_eq=function(t,n){return c(t)===c(n)},e.wbg.__wbg_instanceof_Map_87917e0a7aaf4012=function(t){let n;try{n=c(t)instanceof Map}catch{n=!1}return n},e.wbg.__wbindgen_debug_string=function(t,n){const r=Rn(c(n)),i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbindgen_throw=function(t,n){throw new Error(H(t,n))},e.wbg.__wbg_then_0c86a60e8fcfe9f6=function(t,n){const r=c(t).then(c(n));return h(r)},e.wbg.__wbg_queueMicrotask_481971b0d87f3dd4=function(t){queueMicrotask(c(t))},e.wbg.__wbg_then_a73caa9a87991566=function(t,n,r){const i=c(t).then(c(n),c(r));return h(i)},e.wbg.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(t){const n=c(t).queueMicrotask;return h(n)},e.wbg.__wbg_resolve_b0083a7967828ec8=function(t){const n=Promise.resolve(c(t));return h(n)},e.wbg.__wbg_getExtension_bef4112494c87f34=function(){return F(function(t,n,r){const i=c(t).getExtension(H(n,r));return W(i)?0:h(i)},arguments)},e.wbg.__wbg_matchMedia_66bb21e3ef19270c=function(){return F(function(t,n,r){const i=c(t).matchMedia(H(n,r));return W(i)?0:h(i)},arguments)},e.wbg.__wbg_setTimeout_d2b9a986d10a6182=function(){return F(function(t,n){return c(t).setTimeout(c(n))},arguments)},e.wbg.__wbg_createElement_8bae7856a4bb7411=function(){return F(function(t,n,r){const i=c(t).createElement(H(n,r));return h(i)},arguments)},e.wbg.__wbg_matches_fb52713cfe1d20c6=function(){return F(function(t,n,r){return c(t).matches(H(n,r))},arguments)},e.wbg.__wbg_fillText_6dfde0e3b04c85db=function(){return F(function(t,n,r,i,o){c(t).fillText(H(n,r),i,o)},arguments)},e.wbg.__wbg_new_0d76b0581eca6298=function(){return F(function(){const t=new AbortController;return h(t)},arguments)},e.wbg.__wbg_new_34615e164dc78975=function(){return F(function(){const t=new MessageChannel;return h(t)},arguments)},e.wbg.__wbg_data_1d8005e6d66d881b=function(t,n){const r=c(n).data;var i=W(r)?0:G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_instanceof_Window_f401953a2cf86220=function(t){let n;try{n=c(t)instanceof Window}catch{n=!1}return n},e.wbg.__wbg_getContext_df50fa48a8876636=function(){return F(function(t,n,r){const i=c(t).getContext(H(n,r));return W(i)?0:h(i)},arguments)},e.wbg.__wbg_now_abd80e969af37148=function(t){return c(t).now()},e.wbg.__wbg_performance_a1b8bde2ee512264=function(t){const n=c(t).performance;return h(n)},e.wbg.__wbg_movementX_b800a0cacd14d9bf=function(t){return c(t).movementX},e.wbg.__wbg_movementY_7907e03eb8c0ea1e=function(t){return c(t).movementY},e.wbg.__wbg_scheduler_79865e6c49c77c4e=function(t){const n=c(t).scheduler;return h(n)},e.wbg.__wbg_signal_a61f78a3478fd9bc=function(t){const n=c(t).signal;return h(n)},e.wbg.__wbg_postTask_e5c6a5cf5650584a=function(t,n,r){const i=c(t).postTask(c(n),c(r));return h(i)},e.wbg.__wbg_catch_0260e338d10f79ae=function(t,n){const r=c(t).catch(c(n));return h(r)},e.wbg.__wbg_port1_d51a1bd2c33125d0=function(t){const n=c(t).port1;return h(n)},e.wbg.__wbg_setonmessage_93bdba94dcd46c04=function(t,n){c(t).onmessage=c(n)},e.wbg.__wbg_start_5a293222bc398f51=function(t){c(t).start()},e.wbg.__wbg_port2_f522a81e92362e7e=function(t){const n=c(t).port2;return h(n)},e.wbg.__wbg_requestIdleCallback_cee8e1d6bdcfae9e=function(){return F(function(t,n){return c(t).requestIdleCallback(c(n))},arguments)},e.wbg.__wbg_setTimeout_c172d5704ef82276=function(){return F(function(t,n,r){return c(t).setTimeout(c(n),r)},arguments)},e.wbg.__wbg_new_d1187ae36d662ef9=function(){return F(function(t,n){const r=new Worker(H(t,n));return h(r)},arguments)},e.wbg.__wbg_of_647f9238b4d5407a=function(t,n){const r=Array.of(c(t),c(n));return h(r)},e.wbg.__wbg_of_4a2b313a453ec059=function(t){const n=Array.of(c(t));return h(n)},e.wbg.__wbg_postMessage_d8e032ebcfacd008=function(){return F(function(t,n,r){c(t).postMessage(c(n),c(r))},arguments)},e.wbg.__wbg_cancelAnimationFrame_111532f326e480af=function(){return F(function(t,n){c(t).cancelAnimationFrame(n)},arguments)},e.wbg.__wbg_pointerType_0f2f0383406aa7fa=function(t,n){const r=c(n).pointerType,i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_pointerId_e030fa156647fedd=function(t){return c(t).pointerId},e.wbg.__wbg_pressure_99cd07399f942a7c=function(t){return c(t).pressure},e.wbg.__wbg_postMessage_fbddfe9314af804e=function(){return F(function(t,n){c(t).postMessage(c(n))},arguments)},e.wbg.__wbg_isIntersecting_082397a1d66e2e35=function(t){return c(t).isIntersecting},e.wbg.__wbg_contentRect_bce644376332c7a5=function(t){const n=c(t).contentRect;return h(n)},e.wbg.__wbg_width_1e8430024cb82aba=function(t){return c(t).width},e.wbg.__wbg_height_0c1394f089d7bb71=function(t){return c(t).height},e.wbg.__wbg_devicePixelContentBoxSize_d5bcdcd5e96671f3=function(t){const n=c(t).devicePixelContentBoxSize;return h(n)},e.wbg.__wbg_inlineSize_ff0e40258cefeba2=function(t){return c(t).inlineSize},e.wbg.__wbg_blockSize_73f4e5608c08713d=function(t){return c(t).blockSize},e.wbg.__wbg_persisted_cbb7e3c657029516=function(t){return c(t).persisted},e.wbg.__wbg_matches_e14ed9ff8291cf24=function(t){return c(t).matches},e.wbg.__wbg_buttons_d004fa75ac704227=function(t){return c(t).buttons},e.wbg.__wbg_setPointerCapture_0fdaad7a916c8486=function(){return F(function(t,n){c(t).setPointerCapture(n)},arguments)},e.wbg.__wbg_revokeObjectURL_16a2051ee9d99da9=function(){return F(function(t,n){URL.revokeObjectURL(H(t,n))},arguments)},e.wbg.__wbg_newwithstrsequenceandoptions_ce1f1ca2d522b8aa=function(){return F(function(t,n){const r=new Blob(c(t),c(n));return h(r)},arguments)},e.wbg.__wbg_createObjectURL_ad8244759309f204=function(){return F(function(t,n){const r=URL.createObjectURL(c(n)),i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},arguments)},e.wbg.__wbg_abort_2aa7521d5690750e=function(t){c(t).abort()},e.wbg.__wbg_cancelIdleCallback_3a36cf77475b492b=function(t,n){c(t).cancelIdleCallback(n>>>0)},e.wbg.__wbg_clearTimeout_ba63ae54a36e111e=function(t,n){c(t).clearTimeout(n)},e.wbg.__wbg_close_a5883ed21dc3d115=function(t){c(t).close()},e.wbg.__wbg_button_367cdc7303e3cf9b=function(t){return c(t).button},e.wbg.__wbg_offsetX_330ca4c8cbc54048=function(t){return c(t).offsetX},e.wbg.__wbg_offsetY_a0b23e21784b6ad9=function(t){return c(t).offsetY},e.wbg.__wbg_deltaX_206576827ededbe5=function(t){return c(t).deltaX},e.wbg.__wbg_deltaY_032e327e216f2b2b=function(t){return c(t).deltaY},e.wbg.__wbg_deltaMode_294b2eaf54047265=function(t){return c(t).deltaMode},e.wbg.__wbg_code_3b0c3912a2351163=function(t,n){const r=c(n).code,i=G(r,S.__wbindgen_malloc,S.__wbindgen_realloc),o=Y;N()[t/4+1]=o,N()[t/4+0]=i},e.wbg.__wbg_location_f7b033ddfc516739=function(t){return c(t).location},e.wbg.__wbg_metaKey_6bf4ae4e83a11278=function(t){return c(t).metaKey},e.wbg.__wbg_shiftKey_1e76dbfcdd36a4b4=function(t){return c(t).shiftKey},e.wbg.__wbg_ctrlKey_008695ce60a588f5=function(t){return c(t).ctrlKey},e.wbg.__wbg_altKey_07da841b54bd3ed6=function(t){return c(t).altKey},e.wbg.__wbg_metaKey_86bfd3b0d3a8083f=function(t){return c(t).metaKey},e.wbg.__wbg_getCoalescedEvents_14b443b6f75837a2=function(t){const n=c(t).getCoalescedEvents();return h(n)},e.wbg.__wbg_prototype_3f3c8531a59c76b9=function(){const t=ResizeObserverEntry.prototype;return h(t)},e.wbg.__wbg_getOwnPropertyDescriptor_fcb32c9a1f90b136=function(t,n){const r=Object.getOwnPropertyDescriptor(c(t),c(n));return h(r)},e.wbg.__wbg_Window_81f99d7634b21efb=function(t){const n=c(t).Window;return h(n)},e.wbg.__wbg_removeEventListener_92cb9b3943463338=function(){return F(function(t,n,r,i){c(t).removeEventListener(H(n,r),c(i))},arguments)},e.wbg.__wbg_error_6e987ee48d9fdf45=function(t,n){console.error(c(t),c(n))},e.wbg.__wbg_getCoalescedEvents_df74193de7df83de=function(t){const n=c(t).getCoalescedEvents;return h(n)},e.wbg.__wbg_scheduler_068646d5f43d0da9=function(t){const n=c(t).scheduler;return h(n)},e.wbg.__wbg_requestFullscreen_f599f05c1f6380c4=function(t){const n=c(t).requestFullscreen;return h(n)},e.wbg.__wbg_requestIdleCallback_03106a50c7a07832=function(t){const n=c(t).requestIdleCallback;return h(n)},e.wbg.__wbg_onpointerrawupdate_a626082267fa8ce8=function(t){const n=c(t).onpointerrawupdate;return h(n)},e.wbg.__wbg_queueMicrotask_483d6081302d296f=function(t){queueMicrotask(ue(t))},e.wbg.__wbg_disconnect_e694940ce6d0ef91=function(t){c(t).disconnect()},e.wbg.__wbg_disconnect_6675f32e2ae8deb7=function(t){c(t).disconnect()},e.wbg.__wbg_cancel_304c79c7ae583b6c=function(t){c(t).cancel()},e.wbg.__wbg_animate_abadb610206d6d6b=function(t,n,r){const i=c(t).animate(c(n),c(r));return h(i)},e.wbg.__wbg_play_dd1433725b29a7fd=function(t){c(t).play()},e.wbg.__wbg_removeListener_46f3ee00c5b95320=function(){return F(function(t,n){c(t).removeListener(c(n))},arguments)},e.wbg.__wbg_contains_fdfd1dc667f36695=function(t,n){return c(t).contains(c(n))},e.wbg.__wbg_unobserve_55c93518cad6ac06=function(t,n){c(t).unobserve(c(n))},e.wbg.__wbg_observe_a79646ce7bb08cb8=function(t,n){c(t).observe(c(n))},e.wbg.__wbg_addListener_143ad0a501fabc3a=function(){return F(function(t,n){c(t).addListener(c(n))},arguments)},e.wbg.__wbg_webkitRequestFullscreen_8042b26e11dc4049=function(t){c(t).webkitRequestFullscreen()},e.wbg.__wbg_requestFullscreen_76abf8cabaaf5fbe=function(t){const n=c(t).requestFullscreen();return h(n)},e.wbg.__wbg_webkitFullscreenElement_776094b1d02038f0=function(t){const n=c(t).webkitFullscreenElement;return W(n)?0:h(n)},e.wbg.__wbg_fullscreenElement_1bef71098bd8dfde=function(t){const n=c(t).fullscreenElement;return W(n)?0:h(n)},e.wbg.__wbg_is_010fdc0f4ab96916=function(t,n){return Object.is(c(t),c(n))},e.wbg.__wbg_body_edb1908d3ceff3a1=function(t){const n=c(t).body;return W(n)?0:h(n)},e.wbg.__wbg_appendChild_580ccb11a660db68=function(){return F(function(t,n){const r=c(t).appendChild(c(n));return h(r)},arguments)},e.wbg.__wbg_getComputedStyle_078292ffe423aded=function(){return F(function(t,n){const r=c(t).getComputedStyle(c(n));return W(r)?0:h(r)},arguments)},e.wbg.__wbg_activeElement_fa7feca08f5028c0=function(t){const n=c(t).activeElement;return W(n)?0:h(n)},e.wbg.__wbg_new_61d4f20a1c08a45c=function(){return F(function(t){const n=new ResizeObserver(c(t));return h(n)},arguments)},e.wbg.__wbg_observe_dc0ebcd59ee7cd17=function(t,n,r){c(t).observe(c(n),c(r))},e.wbg.__wbg_new_4e95a9abecc83cd4=function(){return F(function(t){const n=new IntersectionObserver(c(t));return h(n)},arguments)},e.wbg.__wbg_observe_538a6d1df0deb993=function(t,n){c(t).observe(c(n))},e.wbg.__wbg_getPropertyValue_fa32ee1811f224cb=function(){return F(function(t,n,r,i){const o=c(n).getPropertyValue(H(r,i)),a=G(o,S.__wbindgen_malloc,S.__wbindgen_realloc),u=Y;N()[t/4+1]=u,N()[t/4+0]=a},arguments)},e.wbg.__wbg_removeProperty_fa6d48e2923dcfac=function(){return F(function(t,n,r,i){const o=c(n).removeProperty(H(r,i)),a=G(o,S.__wbindgen_malloc,S.__wbindgen_realloc),u=Y;N()[t/4+1]=u,N()[t/4+0]=a},arguments)},e.wbg.__wbg_requestAnimationFrame_549258cfa66011f0=function(){return F(function(t,n){return c(t).requestAnimationFrame(c(n))},arguments)},e.wbg.__wbg_getBoundingClientRect_91e6d57c4e65f745=function(t){const n=c(t).getBoundingClientRect();return h(n)},e.wbg.__wbg_x_c0e76d143979338a=function(t){return c(t).x},e.wbg.__wbg_y_047a9fda606ab8ef=function(t){return c(t).y},e.wbg.__wbg_webkitExitFullscreen_f5d67375bee0babc=function(t){c(t).webkitExitFullscreen()},e.wbg.__wbg_exitFullscreen_5679ad2b002921bd=function(t){c(t).exitFullscreen()},e.wbg.__wbg_visibilityState_990071edf70b1c55=function(t){const n=c(t).visibilityState;return h(n)},e.wbg.__wbindgen_closure_wrapper3197=function(t,n,r){const i=Dt(t,n,1199,Tt);return h(i)},e.wbg.__wbindgen_closure_wrapper3198=function(t,n,r){const i=Dt(t,n,1199,Tt);return h(i)},e.wbg.__wbindgen_closure_wrapper3199=function(t,n,r){const i=Dt(t,n,1199,Tt);return h(i)},e.wbg.__wbindgen_closure_wrapper3200=function(t,n,r){const i=Dt(t,n,1199,Tt);return h(i)},e.wbg.__wbindgen_closure_wrapper3201=function(t,n,r){const i=Dt(t,n,1199,Tt);return h(i)},e.wbg.__wbindgen_closure_wrapper5455=function(t,n,r){const i=Pe(t,n,1199,Ir);return h(i)},e.wbg.__wbindgen_closure_wrapper10796=function(t,n,r){const i=Pe(t,n,1199,We);return h(i)},e.wbg.__wbindgen_closure_wrapper11910=function(t,n,r){const i=Pe(t,n,1199,Ir);return h(i)},e.wbg.__wbindgen_closure_wrapper11943=function(t,n,r){const i=Pe(t,n,1199,We);return h(i)},e.wbg.__wbindgen_closure_wrapper11953=function(t,n,r){const i=Pe(t,n,1199,We);return h(i)},e.wbg.__wbindgen_closure_wrapper11959=function(t,n,r){const i=Pe(t,n,1199,We);return h(i)},e.wbg.__wbindgen_closure_wrapper11967=function(t,n,r){const i=Pe(t,n,1199,We);return h(i)},e.wbg.__wbindgen_closure_wrapper11972=function(t,n,r){const i=Pe(t,n,1199,We);return h(i)},e.wbg.__wbindgen_closure_wrapper11978=function(t,n,r){const i=Pe(t,n,1199,Wr);return h(i)},e.wbg.__wbindgen_closure_wrapper11988=function(t,n,r){const i=Pe(t,n,1199,We);return h(i)},e.wbg.__wbindgen_closure_wrapper12011=function(t,n,r){const i=Pe(t,n,1199,We);return h(i)},e}function Xi(e,t){return S=e.exports,zr.__wbindgen_wasm_module=t,Rt=null,kt=null,vt=null,pt=null,yt=null,S}async function zr(e){if(S!==void 0)return S;typeof e>"u"&&(e=new URL(""+new URL("slint_lsp_wasm_bg-BZskXjV3.wasm",self.location.href).href,self.location.href));const t=Ji();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:n,module:r}=await Vi(await e,t);return Xi(n,r)}var ae=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qi(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Br={},kn={},Ne={},de={},Ye={},Pn={},Jt={},Sn={},se={};Object.defineProperty(se,"__esModule",{value:!0}),se.stringArray=se.array=se.func=se.error=se.number=se.string=se.boolean=void 0;function Yi(e){return e===!0||e===!1}se.boolean=Yi;function Ur(e){return typeof e=="string"||e instanceof String}se.string=Ur;function Ki(e){return typeof e=="number"||e instanceof Number}se.number=Ki;function Gi(e){return e instanceof Error}se.error=Gi;function Zi(e){return typeof e=="function"}se.func=Zi;function Vr(e){return Array.isArray(e)}se.array=Vr;function xi(e){return Vr(e)&&e.every(t=>Ur(t))}se.stringArray=xi,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Message=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType=e.RequestType0=e.AbstractMessageSignature=e.ParameterStructures=e.ResponseError=e.ErrorCodes=void 0;const t=se;var n;(function(s){s.ParseError=-32700,s.InvalidRequest=-32600,s.MethodNotFound=-32601,s.InvalidParams=-32602,s.InternalError=-32603,s.jsonrpcReservedErrorRangeStart=-32099,s.serverErrorStart=-32099,s.MessageWriteError=-32099,s.MessageReadError=-32098,s.PendingResponseRejected=-32097,s.ConnectionInactive=-32096,s.ServerNotInitialized=-32002,s.UnknownErrorCode=-32001,s.jsonrpcReservedErrorRangeEnd=-32e3,s.serverErrorEnd=-32e3})(n=e.ErrorCodes||(e.ErrorCodes={}));class r extends Error{constructor(v,C,E){super(C),this.code=t.number(v)?v:n.UnknownErrorCode,this.data=E,Object.setPrototypeOf(this,r.prototype)}toJson(){const v={code:this.code,message:this.message};return this.data!==void 0&&(v.data=this.data),v}}e.ResponseError=r;class i{constructor(v){this.kind=v}static is(v){return v===i.auto||v===i.byName||v===i.byPosition}toString(){return this.kind}}e.ParameterStructures=i,i.auto=new i("auto"),i.byPosition=new i("byPosition"),i.byName=new i("byName");class o{constructor(v,C){this.method=v,this.numberOfParams=C}get parameterStructures(){return i.auto}}e.AbstractMessageSignature=o;class a extends o{constructor(v){super(v,0)}}e.RequestType0=a;class u extends o{constructor(v,C=i.auto){super(v,1),this._parameterStructures=C}get parameterStructures(){return this._parameterStructures}}e.RequestType=u;class d extends o{constructor(v,C=i.auto){super(v,1),this._parameterStructures=C}get parameterStructures(){return this._parameterStructures}}e.RequestType1=d;class l extends o{constructor(v){super(v,2)}}e.RequestType2=l;class b extends o{constructor(v){super(v,3)}}e.RequestType3=b;class R extends o{constructor(v){super(v,4)}}e.RequestType4=R;class y extends o{constructor(v){super(v,5)}}e.RequestType5=y;class m extends o{constructor(v){super(v,6)}}e.RequestType6=m;class q extends o{constructor(v){super(v,7)}}e.RequestType7=q;class z extends o{constructor(v){super(v,8)}}e.RequestType8=z;class Q extends o{constructor(v){super(v,9)}}e.RequestType9=Q;class I extends o{constructor(v,C=i.auto){super(v,1),this._parameterStructures=C}get parameterStructures(){return this._parameterStructures}}e.NotificationType=I;class V extends o{constructor(v){super(v,0)}}e.NotificationType0=V;class J extends o{constructor(v,C=i.auto){super(v,1),this._parameterStructures=C}get parameterStructures(){return this._parameterStructures}}e.NotificationType1=J;class be extends o{constructor(v){super(v,2)}}e.NotificationType2=be;class pe extends o{constructor(v){super(v,3)}}e.NotificationType3=pe;class we extends o{constructor(v){super(v,4)}}e.NotificationType4=we;class fe extends o{constructor(v){super(v,5)}}e.NotificationType5=fe;class Te extends o{constructor(v){super(v,6)}}e.NotificationType6=Te;class le extends o{constructor(v){super(v,7)}}e.NotificationType7=le;class Be extends o{constructor(v){super(v,8)}}e.NotificationType8=Be;class P extends o{constructor(v){super(v,9)}}e.NotificationType9=P,function(s){function v(U){const ge=U;return ge&&t.string(ge.method)&&(t.string(ge.id)||t.number(ge.id))}s.isRequest=v;function C(U){const ge=U;return ge&&t.string(ge.method)&&U.id===void 0}s.isNotification=C;function E(U){const ge=U;return ge&&(ge.result!==void 0||!!ge.error)&&(t.string(ge.id)||t.number(ge.id)||ge.id===null)}s.isResponse=E}(e.Message||(e.Message={}))}(Sn);var Cn={};(function(e){var t;Object.defineProperty(e,"__esModule",{value:!0}),e.LRUCache=e.LinkedMap=e.Touch=void 0;var n;(function(o){o.None=0,o.First=1,o.AsOld=o.First,o.Last=2,o.AsNew=o.Last})(n=e.Touch||(e.Touch={}));class r{constructor(){this[t]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(a){return this._map.has(a)}get(a,u=n.None){const d=this._map.get(a);if(d)return u!==n.None&&this.touch(d,u),d.value}set(a,u,d=n.None){let l=this._map.get(a);if(l)l.value=u,d!==n.None&&this.touch(l,d);else{switch(l={key:a,value:u,next:void 0,previous:void 0},d){case n.None:this.addItemLast(l);break;case n.First:this.addItemFirst(l);break;case n.Last:this.addItemLast(l);break;default:this.addItemLast(l);break}this._map.set(a,l),this._size++}return this}delete(a){return!!this.remove(a)}remove(a){const u=this._map.get(a);if(u)return this._map.delete(a),this.removeItem(u),this._size--,u.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const a=this._head;return this._map.delete(a.key),this.removeItem(a),this._size--,a.value}forEach(a,u){const d=this._state;let l=this._head;for(;l;){if(u?a.bind(u)(l.value,l.key,this):a(l.value,l.key,this),this._state!==d)throw new Error("LinkedMap got modified during iteration.");l=l.next}}keys(){const a=this._state;let u=this._head;const d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==a)throw new Error("LinkedMap got modified during iteration.");if(u){const l={value:u.key,done:!1};return u=u.next,l}else return{value:void 0,done:!0}}};return d}values(){const a=this._state;let u=this._head;const d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==a)throw new Error("LinkedMap got modified during iteration.");if(u){const l={value:u.value,done:!1};return u=u.next,l}else return{value:void 0,done:!0}}};return d}entries(){const a=this._state;let u=this._head;const d={[Symbol.iterator]:()=>d,next:()=>{if(this._state!==a)throw new Error("LinkedMap got modified during iteration.");if(u){const l={value:[u.key,u.value],done:!1};return u=u.next,l}else return{value:void 0,done:!0}}};return d}[(t=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(a){if(a>=this.size)return;if(a===0){this.clear();return}let u=this._head,d=this.size;for(;u&&d>a;)this._map.delete(u.key),u=u.next,d--;this._head=u,this._size=d,u&&(u.previous=void 0),this._state++}addItemFirst(a){if(!this._head&&!this._tail)this._tail=a;else if(this._head)a.next=this._head,this._head.previous=a;else throw new Error("Invalid list");this._head=a,this._state++}addItemLast(a){if(!this._head&&!this._tail)this._head=a;else if(this._tail)a.previous=this._tail,this._tail.next=a;else throw new Error("Invalid list");this._tail=a,this._state++}removeItem(a){if(a===this._head&&a===this._tail)this._head=void 0,this._tail=void 0;else if(a===this._head){if(!a.next)throw new Error("Invalid list");a.next.previous=void 0,this._head=a.next}else if(a===this._tail){if(!a.previous)throw new Error("Invalid list");a.previous.next=void 0,this._tail=a.previous}else{const u=a.next,d=a.previous;if(!u||!d)throw new Error("Invalid list");u.previous=d,d.next=u}a.next=void 0,a.previous=void 0,this._state++}touch(a,u){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(u!==n.First&&u!==n.Last)){if(u===n.First){if(a===this._head)return;const d=a.next,l=a.previous;a===this._tail?(l.next=void 0,this._tail=l):(d.previous=l,l.next=d),a.previous=void 0,a.next=this._head,this._head.previous=a,this._head=a,this._state++}else if(u===n.Last){if(a===this._tail)return;const d=a.next,l=a.previous;a===this._head?(d.previous=void 0,this._head=d):(d.previous=l,l.next=d),a.next=void 0,a.previous=this._tail,this._tail.next=a,this._tail=a,this._state++}}}toJSON(){const a=[];return this.forEach((u,d)=>{a.push([d,u])}),a}fromJSON(a){this.clear();for(const[u,d]of a)this.set(u,d)}}e.LinkedMap=r;class i extends r{constructor(a,u=1){super(),this._limit=a,this._ratio=Math.min(Math.max(0,u),1)}get limit(){return this._limit}set limit(a){this._limit=a,this.checkTrim()}get ratio(){return this._ratio}set ratio(a){this._ratio=Math.min(Math.max(0,a),1),this.checkTrim()}get(a,u=n.AsNew){return super.get(a,u)}peek(a){return super.get(a,n.None)}set(a,u){return super.set(a,u,n.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}e.LRUCache=i})(Cn);var Jr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Disposable=void 0,function(t){function n(r){return{dispose:r}}t.create=n}(e.Disposable||(e.Disposable={}))})(Jr);var it={},je={};Object.defineProperty(je,"__esModule",{value:!0});let qn;function Mn(){if(qn===void 0)throw new Error("No runtime abstraction layer installed");return qn}(function(e){function t(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");qn=n}e.install=t})(Mn||(Mn={})),je.default=Mn,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Emitter=e.Event=void 0;const t=je;(function(i){const o={dispose(){}};i.None=function(){return o}})(e.Event||(e.Event={}));class n{add(o,a=null,u){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(o),this._contexts.push(a),Array.isArray(u)&&u.push({dispose:()=>this.remove(o,a)})}remove(o,a=null){if(!this._callbacks)return;let u=!1;for(let d=0,l=this._callbacks.length;d<l;d++)if(this._callbacks[d]===o)if(this._contexts[d]===a){this._callbacks.splice(d,1),this._contexts.splice(d,1);return}else u=!0;if(u)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...o){if(!this._callbacks)return[];const a=[],u=this._callbacks.slice(0),d=this._contexts.slice(0);for(let l=0,b=u.length;l<b;l++)try{a.push(u[l].apply(d[l],o))}catch(R){(0,t.default)().console.error(R)}return a}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class r{constructor(o){this._options=o}get event(){return this._event||(this._event=(o,a,u)=>{this._callbacks||(this._callbacks=new n),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(o,a);const d={dispose:()=>{this._callbacks&&(this._callbacks.remove(o,a),d.dispose=r._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(u)&&u.push(d),d}),this._event}fire(o){this._callbacks&&this._callbacks.invoke.call(this._callbacks,o)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}e.Emitter=r,r._noop=function(){}}(it);var Xt={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0;const t=je,n=se,r=it;var i;(function(d){d.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:r.Event.None}),d.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:r.Event.None});function l(b){const R=b;return R&&(R===d.None||R===d.Cancelled||n.boolean(R.isCancellationRequested)&&!!R.onCancellationRequested)}d.is=l})(i=e.CancellationToken||(e.CancellationToken={}));const o=Object.freeze(function(d,l){const b=(0,t.default)().timer.setTimeout(d.bind(l),0);return{dispose(){b.dispose()}}});class a{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?o:(this._emitter||(this._emitter=new r.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class u{get token(){return this._token||(this._token=new a),this._token}cancel(){this._token?this._token.cancel():this._token=i.Cancelled}dispose(){this._token?this._token instanceof a&&this._token.dispose():this._token=i.None}}e.CancellationTokenSource=u})(Xt);var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.SharedArrayReceiverStrategy=ot.SharedArraySenderStrategy=void 0;const eo=Xt;var Pt;(function(e){e.Continue=0,e.Cancelled=1})(Pt||(Pt={}));class to{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;const n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=Pt.Continue,this.buffers.set(t.id,n),t.$cancellationData=n}async sendCancellation(t,n){const r=this.buffers.get(n);if(r===void 0)return;const i=new Int32Array(r,0,1);Atomics.store(i,0,Pt.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}}ot.SharedArraySenderStrategy=to;class no{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Pt.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class ro{constructor(t){this.token=new no(t)}cancel(){}dispose(){}}class io{constructor(){this.kind="request"}createCancellationTokenSource(t){const n=t.$cancellationData;return n===void 0?new eo.CancellationTokenSource:new ro(n)}}ot.SharedArrayReceiverStrategy=io;var Xr={},St={};Object.defineProperty(St,"__esModule",{value:!0}),St.Semaphore=void 0;const oo=je;class co{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((n,r)=>{this._waiting.push({thunk:t,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,oo.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const n=t.thunk();n instanceof Promise?n.then(r=>{this._active--,t.resolve(r),this.runNext()},r=>{this._active--,t.reject(r),this.runNext()}):(this._active--,t.resolve(n),this.runNext())}catch(n){this._active--,t.reject(n),this.runNext()}}}St.Semaphore=co,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=void 0;const t=je,n=se,r=it,i=St;(function(d){function l(b){let R=b;return R&&n.func(R.listen)&&n.func(R.dispose)&&n.func(R.onError)&&n.func(R.onClose)&&n.func(R.onPartialMessage)}d.is=l})(e.MessageReader||(e.MessageReader={}));class o{constructor(){this.errorEmitter=new r.Emitter,this.closeEmitter=new r.Emitter,this.partialMessageEmitter=new r.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(l){this.errorEmitter.fire(this.asError(l))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(l){this.partialMessageEmitter.fire(l)}asError(l){return l instanceof Error?l:new Error(`Reader received error. Reason: ${n.string(l.message)?l.message:"unknown"}`)}}e.AbstractMessageReader=o;var a;(function(d){function l(b){let R,y;const m=new Map;let q;const z=new Map;if(b===void 0||typeof b=="string")R=b??"utf-8";else{if(R=b.charset??"utf-8",b.contentDecoder!==void 0&&(y=b.contentDecoder,m.set(y.name,y)),b.contentDecoders!==void 0)for(const Q of b.contentDecoders)m.set(Q.name,Q);if(b.contentTypeDecoder!==void 0&&(q=b.contentTypeDecoder,z.set(q.name,q)),b.contentTypeDecoders!==void 0)for(const Q of b.contentTypeDecoders)z.set(Q.name,Q)}return q===void 0&&(q=(0,t.default)().applicationJson.decoder,z.set(q.name,q)),{charset:R,contentDecoder:y,contentDecoders:m,contentTypeDecoder:q,contentTypeDecoders:z}}d.fromOptions=l})(a||(a={}));class u extends o{constructor(l,b){super(),this.readable=l,this.options=a.fromOptions(b),this.buffer=(0,t.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new i.Semaphore(1)}set partialMessageTimeout(l){this._partialMessageTimeout=l}get partialMessageTimeout(){return this._partialMessageTimeout}listen(l){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=l;const b=this.readable.onData(R=>{this.onData(R)});return this.readable.onError(R=>this.fireError(R)),this.readable.onClose(()=>this.fireClose()),b}onData(l){for(this.buffer.append(l);;){if(this.nextMessageLength===-1){const R=this.buffer.tryReadHeaders(!0);if(!R)return;const y=R.get("content-length");if(!y){this.fireError(new Error("Header must provide a Content-Length property."));return}const m=parseInt(y);if(isNaN(m)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=m}const b=this.buffer.tryReadBody(this.nextMessageLength);if(b===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const R=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(b):b,y=await this.options.contentTypeDecoder.decode(R,this.options);this.callback(y)}).catch(R=>{this.fireError(R)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,t.default)().timer.setTimeout((l,b)=>{this.partialMessageTimer=void 0,l===this.messageToken&&(this.firePartialMessage({messageToken:l,waitingTime:b}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}e.ReadableStreamMessageReader=u}(Xr);var Qr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=void 0;const t=je,n=se,r=St,i=it,o="Content-Length: ",a=`\r
`;(function(b){function R(y){let m=y;return m&&n.func(m.dispose)&&n.func(m.onClose)&&n.func(m.onError)&&n.func(m.write)}b.is=R})(e.MessageWriter||(e.MessageWriter={}));class u{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(R,y,m){this.errorEmitter.fire([this.asError(R),y,m])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(R){return R instanceof Error?R:new Error(`Writer received error. Reason: ${n.string(R.message)?R.message:"unknown"}`)}}e.AbstractMessageWriter=u;var d;(function(b){function R(y){return y===void 0||typeof y=="string"?{charset:y??"utf-8",contentTypeEncoder:(0,t.default)().applicationJson.encoder}:{charset:y.charset??"utf-8",contentEncoder:y.contentEncoder,contentTypeEncoder:y.contentTypeEncoder??(0,t.default)().applicationJson.encoder}}b.fromOptions=R})(d||(d={}));class l extends u{constructor(R,y){super(),this.writable=R,this.options=d.fromOptions(y),this.errorCount=0,this.writeSemaphore=new r.Semaphore(1),this.writable.onError(m=>this.fireError(m)),this.writable.onClose(()=>this.fireClose())}async write(R){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(R,this.options).then(m=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(m):m).then(m=>{const q=[];return q.push(o,m.byteLength.toString(),a),q.push(a),this.doWrite(R,q,m)},m=>{throw this.fireError(m),m}))}async doWrite(R,y,m){try{return await this.writable.write(y.join(""),"ascii"),this.writable.write(m)}catch(q){return this.handleError(q,R),Promise.reject(q)}}handleError(R,y){this.errorCount++,this.fireError(R,y,this.errorCount)}end(){this.writable.end()}}e.WriteableStreamMessageWriter=l})(Qr);var Qt={};Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.AbstractMessageBuffer=void 0;const ao=13,so=10,uo=`\r
`;class fo{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){const n=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){const l=this._chunks[r];for(i=0;i<l.length;){switch(l[i]){case ao:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case so:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=l.byteLength,r++}if(n!==4)return;const a=this._read(o+i),u=new Map,d=this.toString(a,"ascii").split(uo);if(d.length<2)return u;for(let l=0;l<d.length-2;l++){const b=d[l],R=b.indexOf(":");if(R===-1)throw new Error("Message header must separate key and value using :");const y=b.substr(0,R),m=b.substr(R+1).trim();u.set(t?y.toLowerCase():y,m)}return u}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){const o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){const o=this._chunks[0],a=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,a}const n=this.allocNative(t);let r=0,i=0;for(;t>0;){const o=this._chunks[i];if(o.byteLength>t){const a=o.slice(0,t);n.set(a,r),r+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return n}}Qt.AbstractMessageBuffer=fo;var Yr={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.ConnectionOptions=e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.RequestCancellationReceiverStrategy=e.IdCancellationReceiverStrategy=e.ConnectionStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=e.NullLogger=e.ProgressType=e.ProgressToken=void 0;const t=je,n=se,r=Sn,i=Cn,o=it,a=Xt;var u;(function(P){P.type=new r.NotificationType("$/cancelRequest")})(u||(u={}));var d;(function(P){function s(v){return typeof v=="string"||typeof v=="number"}P.is=s})(d=e.ProgressToken||(e.ProgressToken={}));var l;(function(P){P.type=new r.NotificationType("$/progress")})(l||(l={}));class b{constructor(){}}e.ProgressType=b;var R;(function(P){function s(v){return n.func(v)}P.is=s})(R||(R={})),e.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var y;(function(P){P[P.Off=0]="Off",P[P.Messages=1]="Messages",P[P.Compact=2]="Compact",P[P.Verbose=3]="Verbose"})(y=e.Trace||(e.Trace={})),function(P){P.Off="off",P.Messages="messages",P.Compact="compact",P.Verbose="verbose"}(e.TraceValues||(e.TraceValues={})),function(P){function s(C){if(!n.string(C))return P.Off;switch(C=C.toLowerCase(),C){case"off":return P.Off;case"messages":return P.Messages;case"compact":return P.Compact;case"verbose":return P.Verbose;default:return P.Off}}P.fromString=s;function v(C){switch(C){case P.Off:return"off";case P.Messages:return"messages";case P.Compact:return"compact";case P.Verbose:return"verbose";default:return"off"}}P.toString=v}(y=e.Trace||(e.Trace={}));var m;(function(P){P.Text="text",P.JSON="json"})(m=e.TraceFormat||(e.TraceFormat={})),function(P){function s(v){return n.string(v)?(v=v.toLowerCase(),v==="json"?P.JSON:P.Text):P.Text}P.fromString=s}(m=e.TraceFormat||(e.TraceFormat={}));var q;(function(P){P.type=new r.NotificationType("$/setTrace")})(q=e.SetTraceNotification||(e.SetTraceNotification={}));var z;(function(P){P.type=new r.NotificationType("$/logTrace")})(z=e.LogTraceNotification||(e.LogTraceNotification={}));var Q;(function(P){P[P.Closed=1]="Closed",P[P.Disposed=2]="Disposed",P[P.AlreadyListening=3]="AlreadyListening"})(Q=e.ConnectionErrors||(e.ConnectionErrors={}));class I extends Error{constructor(s,v){super(v),this.code=s,Object.setPrototypeOf(this,I.prototype)}}e.ConnectionError=I;var V;(function(P){function s(v){const C=v;return C&&n.func(C.cancelUndispatched)}P.is=s})(V=e.ConnectionStrategy||(e.ConnectionStrategy={}));var J;(function(P){function s(v){const C=v;return C&&(C.kind===void 0||C.kind==="id")&&n.func(C.createCancellationTokenSource)&&(C.dispose===void 0||n.func(C.dispose))}P.is=s})(J=e.IdCancellationReceiverStrategy||(e.IdCancellationReceiverStrategy={}));var be;(function(P){function s(v){const C=v;return C&&C.kind==="request"&&n.func(C.createCancellationTokenSource)&&(C.dispose===void 0||n.func(C.dispose))}P.is=s})(be=e.RequestCancellationReceiverStrategy||(e.RequestCancellationReceiverStrategy={}));var pe;(function(P){P.Message=Object.freeze({createCancellationTokenSource(v){return new a.CancellationTokenSource}});function s(v){return J.is(v)||be.is(v)}P.is=s})(pe=e.CancellationReceiverStrategy||(e.CancellationReceiverStrategy={}));var we;(function(P){P.Message=Object.freeze({sendCancellation(v,C){return v.sendNotification(u.type,{id:C})},cleanup(v){}});function s(v){const C=v;return C&&n.func(C.sendCancellation)&&n.func(C.cleanup)}P.is=s})(we=e.CancellationSenderStrategy||(e.CancellationSenderStrategy={}));var fe;(function(P){P.Message=Object.freeze({receiver:pe.Message,sender:we.Message});function s(v){const C=v;return C&&pe.is(C.receiver)&&we.is(C.sender)}P.is=s})(fe=e.CancellationStrategy||(e.CancellationStrategy={}));var Te;(function(P){function s(v){const C=v;return C&&n.func(C.handleMessage)}P.is=s})(Te=e.MessageStrategy||(e.MessageStrategy={})),function(P){function s(v){const C=v;return C&&(fe.is(C.cancellationStrategy)||V.is(C.connectionStrategy)||Te.is(C.messageStrategy))}P.is=s}(e.ConnectionOptions||(e.ConnectionOptions={}));var le;(function(P){P[P.New=1]="New",P[P.Listening=2]="Listening",P[P.Closed=3]="Closed",P[P.Disposed=4]="Disposed"})(le||(le={}));function Be(P,s,v,C){const E=v!==void 0?v:e.NullLogger;let U=0,ge=0,yn=0;const Ue="2.0";let Ve;const et=new Map;let Je;const tt=new Map,nt=new Map;let lt,Le=new i.LinkedMap,Ae=new Map,A=new Set,_=new Map,p=y.Off,L=m.Text,w,ee=le.New;const ve=new o.Emitter,Xe=new o.Emitter,At=new o.Emitter,It=new o.Emitter,Wt=new o.Emitter,Se=C&&C.cancellationStrategy?C.cancellationStrategy:fe.Message;function rt(f){if(f===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+f.toString()}function jr(f){return f===null?"res-unknown-"+(++yn).toString():"res-"+f.toString()}function gt(){return"not-"+(++ge).toString()}function _t(f,k){r.Message.isRequest(k)?f.set(rt(k.id),k):r.Message.isResponse(k)?f.set(jr(k.id),k):f.set(gt(),k)}function bt(f){}function Ie(){return ee===le.Listening}function D(){return ee===le.Closed}function T(){return ee===le.Disposed}function O(){(ee===le.New||ee===le.Listening)&&(ee=le.Closed,Xe.fire(void 0))}function Ce(f){ve.fire([f,void 0,void 0])}function ke(f){ve.fire(f)}P.onClose(O),P.onError(Ce),s.onClose(O),s.onError(ke);function pn(){lt||Le.size===0||(lt=(0,t.default)().timer.setImmediate(()=>{lt=void 0,uc()}))}function Fi(f){r.Message.isRequest(f)?fc(f):r.Message.isNotification(f)?gc(f):r.Message.isResponse(f)?lc(f):_c(f)}function uc(){if(Le.size===0)return;const f=Le.shift();try{const k=C?.messageStrategy;Te.is(k)?k.handleMessage(f,Fi):Fi(f)}finally{pn()}}const dc=f=>{try{if(r.Message.isNotification(f)&&f.method===u.type.method){const k=f.params.id,M=rt(k),j=Le.get(M);if(r.Message.isRequest(j)){const K=C?.connectionStrategy,ie=K&&K.cancelUndispatched?K.cancelUndispatched(j,bt):void 0;if(ie&&(ie.error!==void 0||ie.result!==void 0)){Le.delete(M),_.delete(k),ie.id=j.id,vn(ie,f.method,Date.now()),s.write(ie).catch(()=>E.error("Sending response for canceled message failed."));return}}const Z=_.get(k);if(Z!==void 0){Z.cancel(),Fr(f);return}else A.add(k)}_t(Le,f)}finally{pn()}};function fc(f){if(T())return;function k(B,te,X){const _e={jsonrpc:Ue,id:f.id};B instanceof r.ResponseError?_e.error=B.toJson():_e.result=B===void 0?null:B,vn(_e,te,X),s.write(_e).catch(()=>E.error("Sending response failed."))}function M(B,te,X){const _e={jsonrpc:Ue,id:f.id,error:B.toJson()};vn(_e,te,X),s.write(_e).catch(()=>E.error("Sending response failed."))}function j(B,te,X){B===void 0&&(B=null);const _e={jsonrpc:Ue,id:f.id,result:B};vn(_e,te,X),s.write(_e).catch(()=>E.error("Sending response failed."))}mc(f);const Z=et.get(f.method);let K,ie;Z&&(K=Z.type,ie=Z.handler);const ce=Date.now();if(ie||Ve){const B=f.id??String(Date.now()),te=J.is(Se.receiver)?Se.receiver.createCancellationTokenSource(B):Se.receiver.createCancellationTokenSource(f);f.id!==null&&A.has(f.id)&&te.cancel(),f.id!==null&&_.set(B,te);try{let X;if(ie)if(f.params===void 0){if(K!==void 0&&K.numberOfParams!==0){M(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${f.method} defines ${K.numberOfParams} params but received none.`),f.method,ce);return}X=ie(te.token)}else if(Array.isArray(f.params)){if(K!==void 0&&K.parameterStructures===r.ParameterStructures.byName){M(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${f.method} defines parameters by name but received parameters by position`),f.method,ce);return}X=ie(...f.params,te.token)}else{if(K!==void 0&&K.parameterStructures===r.ParameterStructures.byPosition){M(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${f.method} defines parameters by position but received parameters by name`),f.method,ce);return}X=ie(f.params,te.token)}else Ve&&(X=Ve(f.method,f.params,te.token));const _e=X;X?_e.then?_e.then(me=>{_.delete(B),k(me,f.method,ce)},me=>{_.delete(B),me instanceof r.ResponseError?M(me,f.method,ce):me&&n.string(me.message)?M(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${f.method} failed with message: ${me.message}`),f.method,ce):M(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${f.method} failed unexpectedly without providing any details.`),f.method,ce)}):(_.delete(B),k(X,f.method,ce)):(_.delete(B),j(X,f.method,ce))}catch(X){_.delete(B),X instanceof r.ResponseError?k(X,f.method,ce):X&&n.string(X.message)?M(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${f.method} failed with message: ${X.message}`),f.method,ce):M(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${f.method} failed unexpectedly without providing any details.`),f.method,ce)}}else M(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${f.method}`),f.method,ce)}function lc(f){if(!T())if(f.id===null)f.error?E.error(`Received response message without id: Error is: 
${JSON.stringify(f.error,void 0,4)}`):E.error("Received response message without id. No further error information provided.");else{const k=f.id,M=Ae.get(k);if(wc(f,M),M!==void 0){Ae.delete(k);try{if(f.error){const j=f.error;M.reject(new r.ResponseError(j.code,j.message,j.data))}else if(f.result!==void 0)M.resolve(f.result);else throw new Error("Should never happen.")}catch(j){j.message?E.error(`Response handler '${M.method}' failed with message: ${j.message}`):E.error(`Response handler '${M.method}' failed unexpectedly.`)}}}}function gc(f){if(T())return;let k,M;if(f.method===u.type.method){const j=f.params.id;A.delete(j),Fr(f);return}else{const j=tt.get(f.method);j&&(M=j.handler,k=j.type)}if(M||Je)try{if(Fr(f),M)if(f.params===void 0)k!==void 0&&k.numberOfParams!==0&&k.parameterStructures!==r.ParameterStructures.byName&&E.error(`Notification ${f.method} defines ${k.numberOfParams} params but received none.`),M();else if(Array.isArray(f.params)){const j=f.params;f.method===l.type.method&&j.length===2&&d.is(j[0])?M({token:j[0],value:j[1]}):(k!==void 0&&(k.parameterStructures===r.ParameterStructures.byName&&E.error(`Notification ${f.method} defines parameters by name but received parameters by position`),k.numberOfParams!==f.params.length&&E.error(`Notification ${f.method} defines ${k.numberOfParams} params but received ${j.length} arguments`)),M(...j))}else k!==void 0&&k.parameterStructures===r.ParameterStructures.byPosition&&E.error(`Notification ${f.method} defines parameters by position but received parameters by name`),M(f.params);else Je&&Je(f.method,f.params)}catch(j){j.message?E.error(`Notification handler '${f.method}' failed with message: ${j.message}`):E.error(`Notification handler '${f.method}' failed unexpectedly.`)}else At.fire(f)}function _c(f){if(!f){E.error("Received empty message.");return}E.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(f,null,4)}`);const k=f;if(n.string(k.id)||n.number(k.id)){const M=k.id,j=Ae.get(M);j&&j.reject(new Error("The received response has neither a result nor an error property."))}}function Qe(f){if(f!=null)switch(p){case y.Verbose:return JSON.stringify(f,null,4);case y.Compact:return JSON.stringify(f);default:return}}function bc(f){if(!(p===y.Off||!w))if(L===m.Text){let k;(p===y.Verbose||p===y.Compact)&&f.params&&(k=`Params: ${Qe(f.params)}

`),w.log(`Sending request '${f.method} - (${f.id})'.`,k)}else ht("send-request",f)}function hc(f){if(!(p===y.Off||!w))if(L===m.Text){let k;(p===y.Verbose||p===y.Compact)&&(f.params?k=`Params: ${Qe(f.params)}

`:k=`No parameters provided.

`),w.log(`Sending notification '${f.method}'.`,k)}else ht("send-notification",f)}function vn(f,k,M){if(!(p===y.Off||!w))if(L===m.Text){let j;(p===y.Verbose||p===y.Compact)&&(f.error&&f.error.data?j=`Error data: ${Qe(f.error.data)}

`:f.result?j=`Result: ${Qe(f.result)}

`:f.error===void 0&&(j=`No result returned.

`)),w.log(`Sending response '${k} - (${f.id})'. Processing request took ${Date.now()-M}ms`,j)}else ht("send-response",f)}function mc(f){if(!(p===y.Off||!w))if(L===m.Text){let k;(p===y.Verbose||p===y.Compact)&&f.params&&(k=`Params: ${Qe(f.params)}

`),w.log(`Received request '${f.method} - (${f.id})'.`,k)}else ht("receive-request",f)}function Fr(f){if(!(p===y.Off||!w||f.method===z.type.method))if(L===m.Text){let k;(p===y.Verbose||p===y.Compact)&&(f.params?k=`Params: ${Qe(f.params)}

`:k=`No parameters provided.

`),w.log(`Received notification '${f.method}'.`,k)}else ht("receive-notification",f)}function wc(f,k){if(!(p===y.Off||!w))if(L===m.Text){let M;if((p===y.Verbose||p===y.Compact)&&(f.error&&f.error.data?M=`Error data: ${Qe(f.error.data)}

`:f.result?M=`Result: ${Qe(f.result)}

`:f.error===void 0&&(M=`No result returned.

`)),k){const j=f.error?` Request failed: ${f.error.message} (${f.error.code}).`:"";w.log(`Received response '${k.method} - (${f.id})' in ${Date.now()-k.timerStart}ms.${j}`,M)}else w.log(`Received response ${f.id} without active response promise.`,M)}else ht("receive-response",f)}function ht(f,k){if(!w||p===y.Off)return;const M={isLSPMessage:!0,type:f,message:k,timestamp:Date.now()};w.log(M)}function Ht(){if(D())throw new I(Q.Closed,"Connection is closed.");if(T())throw new I(Q.Disposed,"Connection is disposed.")}function yc(){if(Ie())throw new I(Q.AlreadyListening,"Connection is already listening")}function pc(){if(!Ie())throw new Error("Call listen() first.")}function $t(f){return f===void 0?null:f}function Li(f){if(f!==null)return f}function Ai(f){return f!=null&&!Array.isArray(f)&&typeof f=="object"}function Lr(f,k){switch(f){case r.ParameterStructures.auto:return Ai(k)?Li(k):[$t(k)];case r.ParameterStructures.byName:if(!Ai(k))throw new Error("Received parameters by name but param is not an object literal.");return Li(k);case r.ParameterStructures.byPosition:return[$t(k)];default:throw new Error(`Unknown parameter structure ${f.toString()}`)}}function Ii(f,k){let M;const j=f.numberOfParams;switch(j){case 0:M=void 0;break;case 1:M=Lr(f.parameterStructures,k[0]);break;default:M=[];for(let Z=0;Z<k.length&&Z<j;Z++)M.push($t(k[Z]));if(k.length<j)for(let Z=k.length;Z<j;Z++)M.push(null);break}return M}const mt={sendNotification:(f,...k)=>{Ht();let M,j;if(n.string(f)){M=f;const K=k[0];let ie=0,ce=r.ParameterStructures.auto;r.ParameterStructures.is(K)&&(ie=1,ce=K);let B=k.length;const te=B-ie;switch(te){case 0:j=void 0;break;case 1:j=Lr(ce,k[ie]);break;default:if(ce===r.ParameterStructures.byName)throw new Error(`Received ${te} parameters for 'by Name' notification parameter structure.`);j=k.slice(ie,B).map(X=>$t(X));break}}else{const K=k;M=f.method,j=Ii(f,K)}const Z={jsonrpc:Ue,method:M,params:j};return hc(Z),s.write(Z).catch(K=>{throw E.error("Sending notification failed."),K})},onNotification:(f,k)=>{Ht();let M;return n.func(f)?Je=f:k&&(n.string(f)?(M=f,tt.set(f,{type:void 0,handler:k})):(M=f.method,tt.set(f.method,{type:f,handler:k}))),{dispose:()=>{M!==void 0?tt.delete(M):Je=void 0}}},onProgress:(f,k,M)=>{if(nt.has(k))throw new Error(`Progress handler for token ${k} already registered`);return nt.set(k,M),{dispose:()=>{nt.delete(k)}}},sendProgress:(f,k,M)=>mt.sendNotification(l.type,{token:k,value:M}),onUnhandledProgress:It.event,sendRequest:(f,...k)=>{Ht(),pc();let M,j,Z;if(n.string(f)){M=f;const B=k[0],te=k[k.length-1];let X=0,_e=r.ParameterStructures.auto;r.ParameterStructures.is(B)&&(X=1,_e=B);let me=k.length;a.CancellationToken.is(te)&&(me=me-1,Z=te);const Ee=me-X;switch(Ee){case 0:j=void 0;break;case 1:j=Lr(_e,k[X]);break;default:if(_e===r.ParameterStructures.byName)throw new Error(`Received ${Ee} parameters for 'by Name' request parameter structure.`);j=k.slice(X,me).map(vc=>$t(vc));break}}else{const B=k;M=f.method,j=Ii(f,B);const te=f.numberOfParams;Z=a.CancellationToken.is(B[te])?B[te]:void 0}const K=U++;let ie;Z&&(ie=Z.onCancellationRequested(()=>{const B=Se.sender.sendCancellation(mt,K);return B===void 0?(E.log(`Received no promise from cancellation strategy when cancelling id ${K}`),Promise.resolve()):B.catch(()=>{E.log(`Sending cancellation messages for id ${K} failed`)})}));const ce={jsonrpc:Ue,id:K,method:M,params:j};return bc(ce),typeof Se.sender.enableCancellation=="function"&&Se.sender.enableCancellation(ce),new Promise(async(B,te)=>{const X=Ee=>{B(Ee),Se.sender.cleanup(K),ie?.dispose()},_e=Ee=>{te(Ee),Se.sender.cleanup(K),ie?.dispose()},me={method:M,timerStart:Date.now(),resolve:X,reject:_e};try{await s.write(ce),Ae.set(K,me)}catch(Ee){throw E.error("Sending request failed."),me.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Ee.message?Ee.message:"Unknown reason")),Ee}})},onRequest:(f,k)=>{Ht();let M=null;return R.is(f)?(M=void 0,Ve=f):n.string(f)?(M=null,k!==void 0&&(M=f,et.set(f,{handler:k,type:void 0}))):k!==void 0&&(M=f.method,et.set(f.method,{type:f,handler:k})),{dispose:()=>{M!==null&&(M!==void 0?et.delete(M):Ve=void 0)}}},hasPendingResponse:()=>Ae.size>0,trace:async(f,k,M)=>{let j=!1,Z=m.Text;M!==void 0&&(n.boolean(M)?j=M:(j=M.sendNotification||!1,Z=M.traceFormat||m.Text)),p=f,L=Z,p===y.Off?w=void 0:w=k,j&&!D()&&!T()&&await mt.sendNotification(q.type,{value:y.toString(f)})},onError:ve.event,onClose:Xe.event,onUnhandledNotification:At.event,onDispose:Wt.event,end:()=>{s.end()},dispose:()=>{if(T())return;ee=le.Disposed,Wt.fire(void 0);const f=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const k of Ae.values())k.reject(f);Ae=new Map,_=new Map,A=new Set,Le=new i.LinkedMap,n.func(s.dispose)&&s.dispose(),n.func(P.dispose)&&P.dispose()},listen:()=>{Ht(),yc(),ee=le.Listening,P.listen(dc)},inspect:()=>{(0,t.default)().console.log("inspect")}};return mt.onNotification(z.type,f=>{if(p===y.Off||!w)return;const k=p===y.Verbose||p===y.Compact;w.log(f.message,k?f.verbose:void 0)}),mt.onNotification(l.type,f=>{const k=nt.get(f.token);k?k(f.value):It.fire(f)}),mt}e.createMessageConnection=Be})(Yr),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressType=e.ProgressToken=e.createMessageConnection=e.NullLogger=e.ConnectionOptions=e.ConnectionStrategy=e.AbstractMessageBuffer=e.WriteableStreamMessageWriter=e.AbstractMessageWriter=e.MessageWriter=e.ReadableStreamMessageReader=e.AbstractMessageReader=e.MessageReader=e.SharedArrayReceiverStrategy=e.SharedArraySenderStrategy=e.CancellationToken=e.CancellationTokenSource=e.Emitter=e.Event=e.Disposable=e.LRUCache=e.Touch=e.LinkedMap=e.ParameterStructures=e.NotificationType9=e.NotificationType8=e.NotificationType7=e.NotificationType6=e.NotificationType5=e.NotificationType4=e.NotificationType3=e.NotificationType2=e.NotificationType1=e.NotificationType0=e.NotificationType=e.ErrorCodes=e.ResponseError=e.RequestType9=e.RequestType8=e.RequestType7=e.RequestType6=e.RequestType5=e.RequestType4=e.RequestType3=e.RequestType2=e.RequestType1=e.RequestType0=e.RequestType=e.Message=e.RAL=void 0,e.MessageStrategy=e.CancellationStrategy=e.CancellationSenderStrategy=e.CancellationReceiverStrategy=e.ConnectionError=e.ConnectionErrors=e.LogTraceNotification=e.SetTraceNotification=e.TraceFormat=e.TraceValues=e.Trace=void 0;const t=Sn;Object.defineProperty(e,"Message",{enumerable:!0,get:function(){return t.Message}}),Object.defineProperty(e,"RequestType",{enumerable:!0,get:function(){return t.RequestType}}),Object.defineProperty(e,"RequestType0",{enumerable:!0,get:function(){return t.RequestType0}}),Object.defineProperty(e,"RequestType1",{enumerable:!0,get:function(){return t.RequestType1}}),Object.defineProperty(e,"RequestType2",{enumerable:!0,get:function(){return t.RequestType2}}),Object.defineProperty(e,"RequestType3",{enumerable:!0,get:function(){return t.RequestType3}}),Object.defineProperty(e,"RequestType4",{enumerable:!0,get:function(){return t.RequestType4}}),Object.defineProperty(e,"RequestType5",{enumerable:!0,get:function(){return t.RequestType5}}),Object.defineProperty(e,"RequestType6",{enumerable:!0,get:function(){return t.RequestType6}}),Object.defineProperty(e,"RequestType7",{enumerable:!0,get:function(){return t.RequestType7}}),Object.defineProperty(e,"RequestType8",{enumerable:!0,get:function(){return t.RequestType8}}),Object.defineProperty(e,"RequestType9",{enumerable:!0,get:function(){return t.RequestType9}}),Object.defineProperty(e,"ResponseError",{enumerable:!0,get:function(){return t.ResponseError}}),Object.defineProperty(e,"ErrorCodes",{enumerable:!0,get:function(){return t.ErrorCodes}}),Object.defineProperty(e,"NotificationType",{enumerable:!0,get:function(){return t.NotificationType}}),Object.defineProperty(e,"NotificationType0",{enumerable:!0,get:function(){return t.NotificationType0}}),Object.defineProperty(e,"NotificationType1",{enumerable:!0,get:function(){return t.NotificationType1}}),Object.defineProperty(e,"NotificationType2",{enumerable:!0,get:function(){return t.NotificationType2}}),Object.defineProperty(e,"NotificationType3",{enumerable:!0,get:function(){return t.NotificationType3}}),Object.defineProperty(e,"NotificationType4",{enumerable:!0,get:function(){return t.NotificationType4}}),Object.defineProperty(e,"NotificationType5",{enumerable:!0,get:function(){return t.NotificationType5}}),Object.defineProperty(e,"NotificationType6",{enumerable:!0,get:function(){return t.NotificationType6}}),Object.defineProperty(e,"NotificationType7",{enumerable:!0,get:function(){return t.NotificationType7}}),Object.defineProperty(e,"NotificationType8",{enumerable:!0,get:function(){return t.NotificationType8}}),Object.defineProperty(e,"NotificationType9",{enumerable:!0,get:function(){return t.NotificationType9}}),Object.defineProperty(e,"ParameterStructures",{enumerable:!0,get:function(){return t.ParameterStructures}});const n=Cn;Object.defineProperty(e,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(e,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(e,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=Jr;Object.defineProperty(e,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=it;Object.defineProperty(e,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(e,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=Xt;Object.defineProperty(e,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const a=ot;Object.defineProperty(e,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return a.SharedArraySenderStrategy}}),Object.defineProperty(e,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return a.SharedArrayReceiverStrategy}});const u=Xr;Object.defineProperty(e,"MessageReader",{enumerable:!0,get:function(){return u.MessageReader}}),Object.defineProperty(e,"AbstractMessageReader",{enumerable:!0,get:function(){return u.AbstractMessageReader}}),Object.defineProperty(e,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return u.ReadableStreamMessageReader}});const d=Qr;Object.defineProperty(e,"MessageWriter",{enumerable:!0,get:function(){return d.MessageWriter}}),Object.defineProperty(e,"AbstractMessageWriter",{enumerable:!0,get:function(){return d.AbstractMessageWriter}}),Object.defineProperty(e,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return d.WriteableStreamMessageWriter}});const l=Qt;Object.defineProperty(e,"AbstractMessageBuffer",{enumerable:!0,get:function(){return l.AbstractMessageBuffer}});const b=Yr;Object.defineProperty(e,"ConnectionStrategy",{enumerable:!0,get:function(){return b.ConnectionStrategy}}),Object.defineProperty(e,"ConnectionOptions",{enumerable:!0,get:function(){return b.ConnectionOptions}}),Object.defineProperty(e,"NullLogger",{enumerable:!0,get:function(){return b.NullLogger}}),Object.defineProperty(e,"createMessageConnection",{enumerable:!0,get:function(){return b.createMessageConnection}}),Object.defineProperty(e,"ProgressToken",{enumerable:!0,get:function(){return b.ProgressToken}}),Object.defineProperty(e,"ProgressType",{enumerable:!0,get:function(){return b.ProgressType}}),Object.defineProperty(e,"Trace",{enumerable:!0,get:function(){return b.Trace}}),Object.defineProperty(e,"TraceValues",{enumerable:!0,get:function(){return b.TraceValues}}),Object.defineProperty(e,"TraceFormat",{enumerable:!0,get:function(){return b.TraceFormat}}),Object.defineProperty(e,"SetTraceNotification",{enumerable:!0,get:function(){return b.SetTraceNotification}}),Object.defineProperty(e,"LogTraceNotification",{enumerable:!0,get:function(){return b.LogTraceNotification}}),Object.defineProperty(e,"ConnectionErrors",{enumerable:!0,get:function(){return b.ConnectionErrors}}),Object.defineProperty(e,"ConnectionError",{enumerable:!0,get:function(){return b.ConnectionError}}),Object.defineProperty(e,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return b.CancellationReceiverStrategy}}),Object.defineProperty(e,"CancellationSenderStrategy",{enumerable:!0,get:function(){return b.CancellationSenderStrategy}}),Object.defineProperty(e,"CancellationStrategy",{enumerable:!0,get:function(){return b.CancellationStrategy}}),Object.defineProperty(e,"MessageStrategy",{enumerable:!0,get:function(){return b.MessageStrategy}});const R=je;e.RAL=R.default}(Jt),Object.defineProperty(Pn,"__esModule",{value:!0});const qe=Jt;class Yt extends qe.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return Yt.emptyBuffer}fromString(t,n){return new TextEncoder().encode(t)}toString(t,n){return n==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(n).decode(t)}asNative(t,n){return n===void 0?t:t.slice(0,n)}allocNative(t){return new Uint8Array(t)}}Yt.emptyBuffer=new Uint8Array(0);class lo{constructor(t){this.socket=t,this._onData=new qe.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,qe.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),qe.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),qe.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),qe.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}}class go{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),qe.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),qe.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),qe.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,n){if(typeof t=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}}const _o=new TextEncoder,Kr=Object.freeze({messageBuffer:Object.freeze({create:e=>new Yt(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(_o.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new lo(e),asWritableStream:e=>new go(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function En(){return Kr}(function(e){function t(){qe.RAL.install(Kr)}e.install=t})(En||(En={})),Pn.default=En,function(e){var t=ae&&ae.__createBinding||(Object.create?function(d,l,b,R){R===void 0&&(R=b);var y=Object.getOwnPropertyDescriptor(l,b);(!y||("get"in y?!l.__esModule:y.writable||y.configurable))&&(y={enumerable:!0,get:function(){return l[b]}}),Object.defineProperty(d,R,y)}:function(d,l,b,R){R===void 0&&(R=b),d[R]=l[b]}),n=ae&&ae.__exportStar||function(d,l){for(var b in d)b!=="default"&&!Object.prototype.hasOwnProperty.call(l,b)&&t(l,d,b)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessageConnection=e.BrowserMessageWriter=e.BrowserMessageReader=void 0,Pn.default.install();const i=Jt;n(Jt,e);class o extends i.AbstractMessageReader{constructor(l){super(),this._onData=new i.Emitter,this._messageListener=b=>{this._onData.fire(b.data)},l.addEventListener("error",b=>this.fireError(b)),l.onmessage=this._messageListener}listen(l){return this._onData.event(l)}}e.BrowserMessageReader=o;class a extends i.AbstractMessageWriter{constructor(l){super(),this.port=l,this.errorCount=0,l.addEventListener("error",b=>this.fireError(b))}write(l){try{return this.port.postMessage(l),Promise.resolve()}catch(b){return this.handleError(b,l),Promise.reject(b)}}handleError(l,b){this.errorCount++,this.fireError(l,b,this.errorCount)}end(){}}e.BrowserMessageWriter=a;function u(d,l,b,R){return b===void 0&&(b=i.NullLogger),i.ConnectionStrategy.is(R)&&(R={connectionStrategy:R}),(0,i.createMessageConnection)(d,l,b,R)}e.createMessageConnection=u}(Ye);var Gr=Ye,Zr={},On;(function(e){function t(n){return typeof n=="string"}e.is=t})(On||(On={}));var Kt;(function(e){function t(n){return typeof n=="string"}e.is=t})(Kt||(Kt={}));var Nn;(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Nn||(Nn={}));var Ct;(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(n){return typeof n=="number"&&e.MIN_VALUE<=n&&n<=e.MAX_VALUE}e.is=t})(Ct||(Ct={}));var Re;(function(e){function t(r,i){return r===Number.MAX_VALUE&&(r=Ct.MAX_VALUE),i===Number.MAX_VALUE&&(i=Ct.MAX_VALUE),{line:r,character:i}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.uinteger(i.line)&&g.uinteger(i.character)}e.is=n})(Re||(Re={}));var ne;(function(e){function t(r,i,o,a){if(g.uinteger(r)&&g.uinteger(i)&&g.uinteger(o)&&g.uinteger(a))return{start:Re.create(r,i),end:Re.create(o,a)};if(Re.is(r)&&Re.is(i))return{start:r,end:i};throw new Error("Range#create called with invalid arguments[".concat(r,", ").concat(i,", ").concat(o,", ").concat(a,"]"))}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&Re.is(i.start)&&Re.is(i.end)}e.is=n})(ne||(ne={}));var qt;(function(e){function t(r,i){return{uri:r,range:i}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&ne.is(i.range)&&(g.string(i.uri)||g.undefined(i.uri))}e.is=n})(qt||(qt={}));var jn;(function(e){function t(r,i,o,a){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:a}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&ne.is(i.targetRange)&&g.string(i.targetUri)&&ne.is(i.targetSelectionRange)&&(ne.is(i.originSelectionRange)||g.undefined(i.originSelectionRange))}e.is=n})(jn||(jn={}));var Gt;(function(e){function t(r,i,o,a){return{red:r,green:i,blue:o,alpha:a}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.numberRange(i.red,0,1)&&g.numberRange(i.green,0,1)&&g.numberRange(i.blue,0,1)&&g.numberRange(i.alpha,0,1)}e.is=n})(Gt||(Gt={}));var Fn;(function(e){function t(r,i){return{range:r,color:i}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&ne.is(i.range)&&Gt.is(i.color)}e.is=n})(Fn||(Fn={}));var Ln;(function(e){function t(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.string(i.label)&&(g.undefined(i.textEdit)||Me.is(i))&&(g.undefined(i.additionalTextEdits)||g.typedArray(i.additionalTextEdits,Me.is))}e.is=n})(Ln||(Ln={}));var An;(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(An||(An={}));var In;(function(e){function t(r,i,o,a,u,d){var l={startLine:r,endLine:i};return g.defined(o)&&(l.startCharacter=o),g.defined(a)&&(l.endCharacter=a),g.defined(u)&&(l.kind=u),g.defined(d)&&(l.collapsedText=d),l}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.uinteger(i.startLine)&&g.uinteger(i.startLine)&&(g.undefined(i.startCharacter)||g.uinteger(i.startCharacter))&&(g.undefined(i.endCharacter)||g.uinteger(i.endCharacter))&&(g.undefined(i.kind)||g.string(i.kind))}e.is=n})(In||(In={}));var Zt;(function(e){function t(r,i){return{location:r,message:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&qt.is(i.location)&&g.string(i.message)}e.is=n})(Zt||(Zt={}));var Wn;(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Wn||(Wn={}));var Hn;(function(e){e.Unnecessary=1,e.Deprecated=2})(Hn||(Hn={}));var $n;(function(e){function t(n){var r=n;return g.objectLiteral(r)&&g.string(r.href)}e.is=t})($n||($n={}));var Mt;(function(e){function t(r,i,o,a,u,d){var l={range:r,message:i};return g.defined(o)&&(l.severity=o),g.defined(a)&&(l.code=a),g.defined(u)&&(l.source=u),g.defined(d)&&(l.relatedInformation=d),l}e.create=t;function n(r){var i,o=r;return g.defined(o)&&ne.is(o.range)&&g.string(o.message)&&(g.number(o.severity)||g.undefined(o.severity))&&(g.integer(o.code)||g.string(o.code)||g.undefined(o.code))&&(g.undefined(o.codeDescription)||g.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(g.string(o.source)||g.undefined(o.source))&&(g.undefined(o.relatedInformation)||g.typedArray(o.relatedInformation,Zt.is))}e.is=n})(Mt||(Mt={}));var Ke;(function(e){function t(r,i){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];var u={title:r,command:i};return g.defined(o)&&o.length>0&&(u.arguments=o),u}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.title)&&g.string(i.command)}e.is=n})(Ke||(Ke={}));var Me;(function(e){function t(o,a){return{range:o,newText:a}}e.replace=t;function n(o,a){return{range:{start:o,end:o},newText:a}}e.insert=n;function r(o){return{range:o,newText:""}}e.del=r;function i(o){var a=o;return g.objectLiteral(a)&&g.string(a.newText)&&ne.is(a.range)}e.is=i})(Me||(Me={}));var Ge;(function(e){function t(r,i,o){var a={label:r};return i!==void 0&&(a.needsConfirmation=i),o!==void 0&&(a.description=o),a}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&g.string(i.label)&&(g.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(g.string(i.description)||i.description===void 0)}e.is=n})(Ge||(Ge={}));var he;(function(e){function t(n){var r=n;return g.string(r)}e.is=t})(he||(he={}));var Fe;(function(e){function t(o,a,u){return{range:o,newText:a,annotationId:u}}e.replace=t;function n(o,a,u){return{range:{start:o,end:o},newText:a,annotationId:u}}e.insert=n;function r(o,a){return{range:o,newText:"",annotationId:a}}e.del=r;function i(o){var a=o;return Me.is(a)&&(Ge.is(a.annotationId)||he.is(a.annotationId))}e.is=i})(Fe||(Fe={}));var Et;(function(e){function t(r,i){return{textDocument:r,edits:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&Ot.is(i.textDocument)&&Array.isArray(i.edits)}e.is=n})(Et||(Et={}));var ct;(function(e){function t(r,i,o){var a={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(r){var i=r;return i&&i.kind==="create"&&g.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||g.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||g.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}e.is=n})(ct||(ct={}));var at;(function(e){function t(r,i,o,a){var u={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(u.options=o),a!==void 0&&(u.annotationId=a),u}e.create=t;function n(r){var i=r;return i&&i.kind==="rename"&&g.string(i.oldUri)&&g.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||g.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||g.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}e.is=n})(at||(at={}));var st;(function(e){function t(r,i,o){var a={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(a.options=i),o!==void 0&&(a.annotationId=o),a}e.create=t;function n(r){var i=r;return i&&i.kind==="delete"&&g.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||g.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||g.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}e.is=n})(st||(st={}));var xt;(function(e){function t(n){var r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(function(i){return g.string(i.kind)?ct.is(i)||at.is(i)||st.is(i):Et.is(i)}))}e.is=t})(xt||(xt={}));var en=function(){function e(t,n){this.edits=t,this.changeAnnotations=n}return e.prototype.insert=function(t,n,r){var i,o;if(r===void 0?i=Me.insert(t,n):he.is(r)?(o=r,i=Fe.insert(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Fe.insert(t,n,o)),this.edits.push(i),o!==void 0)return o},e.prototype.replace=function(t,n,r){var i,o;if(r===void 0?i=Me.replace(t,n):he.is(r)?(o=r,i=Fe.replace(t,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Fe.replace(t,n,o)),this.edits.push(i),o!==void 0)return o},e.prototype.delete=function(t,n){var r,i;if(n===void 0?r=Me.del(t):he.is(n)?(i=n,r=Fe.del(t,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Fe.del(t,i)),this.edits.push(r),i!==void 0)return i},e.prototype.add=function(t){this.edits.push(t)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),xr=function(){function e(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(t,n){var r;if(he.is(t)?r=t:(r=this.nextId(),n=t),this._annotations[r]!==void 0)throw new Error("Id ".concat(r," is already in use."));if(n===void 0)throw new Error("No annotation provided for id ".concat(r));return this._annotations[r]=n,this._size++,r},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),bo=function(){function e(t){var n=this;this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new xr(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(function(r){if(Et.is(r)){var i=new en(r.edits,n._changeAnnotations);n._textEditChanges[r.textDocument.uri]=i}})):t.changes&&Object.keys(t.changes).forEach(function(r){var i=new en(t.changes[r]);n._textEditChanges[r]=i})):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(t){if(Ot.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var n={uri:t.uri,version:t.version},r=this._textEditChanges[n.uri];if(!r){var i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new en(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var r=this._textEditChanges[t];if(!r){var i=[];this._workspaceEdit.changes[t]=i,r=new en(i),this._textEditChanges[t]=r}return r}},e.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new xr,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ge.is(n)||he.is(n)?i=n:r=n;var o,a;if(i===void 0?o=ct.create(t,r):(a=he.is(i)?i:this._changeAnnotations.manage(i),o=ct.create(t,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e.prototype.renameFile=function(t,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var o;Ge.is(r)||he.is(r)?o=r:i=r;var a,u;if(o===void 0?a=at.create(t,n,i):(u=he.is(o)?o:this._changeAnnotations.manage(o),a=at.create(t,n,i,u)),this._workspaceEdit.documentChanges.push(a),u!==void 0)return u},e.prototype.deleteFile=function(t,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var i;Ge.is(n)||he.is(n)?i=n:r=n;var o,a;if(i===void 0?o=st.create(t,r):(a=he.is(i)?i:this._changeAnnotations.manage(i),o=st.create(t,r,a)),this._workspaceEdit.documentChanges.push(o),a!==void 0)return a},e}(),zn;(function(e){function t(r){return{uri:r}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.uri)}e.is=n})(zn||(zn={}));var Bn;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.uri)&&g.integer(i.version)}e.is=n})(Bn||(Bn={}));var Ot;(function(e){function t(r,i){return{uri:r,version:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.uri)&&(i.version===null||g.integer(i.version))}e.is=n})(Ot||(Ot={}));var Un;(function(e){function t(r,i,o,a){return{uri:r,languageId:i,version:o,text:a}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.string(i.uri)&&g.string(i.languageId)&&g.integer(i.version)&&g.string(i.text)}e.is=n})(Un||(Un={}));var tn;(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(n){var r=n;return r===e.PlainText||r===e.Markdown}e.is=t})(tn||(tn={}));var ut;(function(e){function t(n){var r=n;return g.objectLiteral(n)&&tn.is(r.kind)&&g.string(r.value)}e.is=t})(ut||(ut={}));var Vn;(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Vn||(Vn={}));var Jn;(function(e){e.PlainText=1,e.Snippet=2})(Jn||(Jn={}));var Xn;(function(e){e.Deprecated=1})(Xn||(Xn={}));var Qn;(function(e){function t(r,i,o){return{newText:r,insert:i,replace:o}}e.create=t;function n(r){var i=r;return i&&g.string(i.newText)&&ne.is(i.insert)&&ne.is(i.replace)}e.is=n})(Qn||(Qn={}));var Yn;(function(e){e.asIs=1,e.adjustIndentation=2})(Yn||(Yn={}));var Kn;(function(e){function t(n){var r=n;return r&&(g.string(r.detail)||r.detail===void 0)&&(g.string(r.description)||r.description===void 0)}e.is=t})(Kn||(Kn={}));var Gn;(function(e){function t(n){return{label:n}}e.create=t})(Gn||(Gn={}));var Zn;(function(e){function t(n,r){return{items:n||[],isIncomplete:!!r}}e.create=t})(Zn||(Zn={}));var Nt;(function(e){function t(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function n(r){var i=r;return g.string(i)||g.objectLiteral(i)&&g.string(i.language)&&g.string(i.value)}e.is=n})(Nt||(Nt={}));var xn;(function(e){function t(n){var r=n;return!!r&&g.objectLiteral(r)&&(ut.is(r.contents)||Nt.is(r.contents)||g.typedArray(r.contents,Nt.is))&&(n.range===void 0||ne.is(n.range))}e.is=t})(xn||(xn={}));var er;(function(e){function t(n,r){return r?{label:n,documentation:r}:{label:n}}e.create=t})(er||(er={}));var tr;(function(e){function t(n,r){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var a={label:n};return g.defined(r)&&(a.documentation=r),g.defined(i)?a.parameters=i:a.parameters=[],a}e.create=t})(tr||(tr={}));var nr;(function(e){e.Text=1,e.Read=2,e.Write=3})(nr||(nr={}));var rr;(function(e){function t(n,r){var i={range:n};return g.number(r)&&(i.kind=r),i}e.create=t})(rr||(rr={}));var ir;(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(ir||(ir={}));var or;(function(e){e.Deprecated=1})(or||(or={}));var cr;(function(e){function t(n,r,i,o,a){var u={name:n,kind:r,location:{uri:o,range:i}};return a&&(u.containerName=a),u}e.create=t})(cr||(cr={}));var ar;(function(e){function t(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}e.create=t})(ar||(ar={}));var sr;(function(e){function t(r,i,o,a,u,d){var l={name:r,detail:i,kind:o,range:a,selectionRange:u};return d!==void 0&&(l.children=d),l}e.create=t;function n(r){var i=r;return i&&g.string(i.name)&&g.number(i.kind)&&ne.is(i.range)&&ne.is(i.selectionRange)&&(i.detail===void 0||g.string(i.detail))&&(i.deprecated===void 0||g.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=n})(sr||(sr={}));var ur;(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(ur||(ur={}));var jt;(function(e){e.Invoked=1,e.Automatic=2})(jt||(jt={}));var dr;(function(e){function t(r,i,o){var a={diagnostics:r};return i!=null&&(a.only=i),o!=null&&(a.triggerKind=o),a}e.create=t;function n(r){var i=r;return g.defined(i)&&g.typedArray(i.diagnostics,Mt.is)&&(i.only===void 0||g.typedArray(i.only,g.string))&&(i.triggerKind===void 0||i.triggerKind===jt.Invoked||i.triggerKind===jt.Automatic)}e.is=n})(dr||(dr={}));var fr;(function(e){function t(r,i,o){var a={title:r},u=!0;return typeof i=="string"?(u=!1,a.kind=i):Ke.is(i)?a.command=i:a.edit=i,u&&o!==void 0&&(a.kind=o),a}e.create=t;function n(r){var i=r;return i&&g.string(i.title)&&(i.diagnostics===void 0||g.typedArray(i.diagnostics,Mt.is))&&(i.kind===void 0||g.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||Ke.is(i.command))&&(i.isPreferred===void 0||g.boolean(i.isPreferred))&&(i.edit===void 0||xt.is(i.edit))}e.is=n})(fr||(fr={}));var lr;(function(e){function t(r,i){var o={range:r};return g.defined(i)&&(o.data=i),o}e.create=t;function n(r){var i=r;return g.defined(i)&&ne.is(i.range)&&(g.undefined(i.command)||Ke.is(i.command))}e.is=n})(lr||(lr={}));var gr;(function(e){function t(r,i){return{tabSize:r,insertSpaces:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&g.uinteger(i.tabSize)&&g.boolean(i.insertSpaces)}e.is=n})(gr||(gr={}));var _r;(function(e){function t(r,i,o){return{range:r,target:i,data:o}}e.create=t;function n(r){var i=r;return g.defined(i)&&ne.is(i.range)&&(g.undefined(i.target)||g.string(i.target))}e.is=n})(_r||(_r={}));var br;(function(e){function t(r,i){return{range:r,parent:i}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&ne.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=n})(br||(br={}));var hr;(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(hr||(hr={}));var mr;(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(mr||(mr={}));var wr;(function(e){function t(n){var r=n;return g.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}e.is=t})(wr||(wr={}));var yr;(function(e){function t(r,i){return{range:r,text:i}}e.create=t;function n(r){var i=r;return i!=null&&ne.is(i.range)&&g.string(i.text)}e.is=n})(yr||(yr={}));var pr;(function(e){function t(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}e.create=t;function n(r){var i=r;return i!=null&&ne.is(i.range)&&g.boolean(i.caseSensitiveLookup)&&(g.string(i.variableName)||i.variableName===void 0)}e.is=n})(pr||(pr={}));var vr;(function(e){function t(r,i){return{range:r,expression:i}}e.create=t;function n(r){var i=r;return i!=null&&ne.is(i.range)&&(g.string(i.expression)||i.expression===void 0)}e.is=n})(vr||(vr={}));var Rr;(function(e){function t(r,i){return{frameId:r,stoppedLocation:i}}e.create=t;function n(r){var i=r;return g.defined(i)&&ne.is(r.stoppedLocation)}e.is=n})(Rr||(Rr={}));var nn;(function(e){e.Type=1,e.Parameter=2;function t(n){return n===1||n===2}e.is=t})(nn||(nn={}));var rn;(function(e){function t(r){return{value:r}}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&(i.tooltip===void 0||g.string(i.tooltip)||ut.is(i.tooltip))&&(i.location===void 0||qt.is(i.location))&&(i.command===void 0||Ke.is(i.command))}e.is=n})(rn||(rn={}));var Dr;(function(e){function t(r,i,o){var a={position:r,label:i};return o!==void 0&&(a.kind=o),a}e.create=t;function n(r){var i=r;return g.objectLiteral(i)&&Re.is(i.position)&&(g.string(i.label)||g.typedArray(i.label,rn.is))&&(i.kind===void 0||nn.is(i.kind))&&i.textEdits===void 0||g.typedArray(i.textEdits,Me.is)&&(i.tooltip===void 0||g.string(i.tooltip)||ut.is(i.tooltip))&&(i.paddingLeft===void 0||g.boolean(i.paddingLeft))&&(i.paddingRight===void 0||g.boolean(i.paddingRight))}e.is=n})(Dr||(Dr={}));var Tr;(function(e){function t(n){var r=n;return g.objectLiteral(r)&&Kt.is(r.uri)&&g.string(r.name)}e.is=t})(Tr||(Tr={}));var ho=[`
`,`\r
`,"\r"],kr;(function(e){function t(o,a,u,d){return new mo(o,a,u,d)}e.create=t;function n(o){var a=o;return!!(g.defined(a)&&g.string(a.uri)&&(g.undefined(a.languageId)||g.string(a.languageId))&&g.uinteger(a.lineCount)&&g.func(a.getText)&&g.func(a.positionAt)&&g.func(a.offsetAt))}e.is=n;function r(o,a){for(var u=o.getText(),d=i(a,function(q,z){var Q=q.range.start.line-z.range.start.line;return Q===0?q.range.start.character-z.range.start.character:Q}),l=u.length,b=d.length-1;b>=0;b--){var R=d[b],y=o.offsetAt(R.range.start),m=o.offsetAt(R.range.end);if(m<=l)u=u.substring(0,y)+R.newText+u.substring(m,u.length);else throw new Error("Overlapping edit");l=y}return u}e.applyEdits=r;function i(o,a){if(o.length<=1)return o;var u=o.length/2|0,d=o.slice(0,u),l=o.slice(u);i(d,a),i(l,a);for(var b=0,R=0,y=0;b<d.length&&R<l.length;){var m=a(d[b],l[R]);m<=0?o[y++]=d[b++]:o[y++]=l[R++]}for(;b<d.length;)o[y++]=d[b++];for(;R<l.length;)o[y++]=l[R++];return o}})(kr||(kr={}));var mo=function(){function e(t,n,r,i){this._uri=t,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(t){if(t){var n=this.offsetAt(t.start),r=this.offsetAt(t.end);return this._content.substring(n,r)}return this._content},e.prototype.update=function(t,n){this._content=t.text,this._version=n,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var t=[],n=this._content,r=!0,i=0;i<n.length;i++){r&&(t.push(i),r=!1);var o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&t.push(n.length),this._lineOffsets=t}return this._lineOffsets},e.prototype.positionAt=function(t){t=Math.max(Math.min(t,this._content.length),0);var n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return Re.create(0,t);for(;r<i;){var o=Math.floor((r+i)/2);n[o]>t?i=o:r=o+1}var a=r-1;return Re.create(a,t-n[a])},e.prototype.offsetAt=function(t){var n=this.getLineOffsets();if(t.line>=n.length)return this._content.length;if(t.line<0)return 0;var r=n[t.line],i=t.line+1<n.length?n[t.line+1]:this._content.length;return Math.max(Math.min(r+t.character,i),r)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}(),g;(function(e){var t=Object.prototype.toString;function n(m){return typeof m<"u"}e.defined=n;function r(m){return typeof m>"u"}e.undefined=r;function i(m){return m===!0||m===!1}e.boolean=i;function o(m){return t.call(m)==="[object String]"}e.string=o;function a(m){return t.call(m)==="[object Number]"}e.number=a;function u(m,q,z){return t.call(m)==="[object Number]"&&q<=m&&m<=z}e.numberRange=u;function d(m){return t.call(m)==="[object Number]"&&-2147483648<=m&&m<=2147483647}e.integer=d;function l(m){return t.call(m)==="[object Number]"&&0<=m&&m<=2147483647}e.uinteger=l;function b(m){return t.call(m)==="[object Function]"}e.func=b;function R(m){return m!==null&&typeof m=="object"}e.objectLiteral=R;function y(m,q){return Array.isArray(m)&&m.every(q)}e.typedArray=y})(g||(g={}));var wo=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return Fe},get ChangeAnnotation(){return Ge},get ChangeAnnotationIdentifier(){return he},get CodeAction(){return fr},get CodeActionContext(){return dr},get CodeActionKind(){return ur},get CodeActionTriggerKind(){return jt},get CodeDescription(){return $n},get CodeLens(){return lr},get Color(){return Gt},get ColorInformation(){return Fn},get ColorPresentation(){return Ln},get Command(){return Ke},get CompletionItem(){return Gn},get CompletionItemKind(){return Vn},get CompletionItemLabelDetails(){return Kn},get CompletionItemTag(){return Xn},get CompletionList(){return Zn},get CreateFile(){return ct},get DeleteFile(){return st},get Diagnostic(){return Mt},get DiagnosticRelatedInformation(){return Zt},get DiagnosticSeverity(){return Wn},get DiagnosticTag(){return Hn},get DocumentHighlight(){return rr},get DocumentHighlightKind(){return nr},get DocumentLink(){return _r},get DocumentSymbol(){return sr},get DocumentUri(){return On},EOL:ho,get FoldingRange(){return In},get FoldingRangeKind(){return An},get FormattingOptions(){return gr},get Hover(){return xn},get InlayHint(){return Dr},get InlayHintKind(){return nn},get InlayHintLabelPart(){return rn},get InlineValueContext(){return Rr},get InlineValueEvaluatableExpression(){return vr},get InlineValueText(){return yr},get InlineValueVariableLookup(){return pr},get InsertReplaceEdit(){return Qn},get InsertTextFormat(){return Jn},get InsertTextMode(){return Yn},get Location(){return qt},get LocationLink(){return jn},get MarkedString(){return Nt},get MarkupContent(){return ut},get MarkupKind(){return tn},get OptionalVersionedTextDocumentIdentifier(){return Ot},get ParameterInformation(){return er},get Position(){return Re},get Range(){return ne},get RenameFile(){return at},get SelectionRange(){return br},get SemanticTokenModifiers(){return mr},get SemanticTokenTypes(){return hr},get SemanticTokens(){return wr},get SignatureInformation(){return tr},get SymbolInformation(){return cr},get SymbolKind(){return ir},get SymbolTag(){return or},get TextDocument(){return kr},get TextDocumentEdit(){return Et},get TextDocumentIdentifier(){return zn},get TextDocumentItem(){return Un},get TextEdit(){return Me},get URI(){return Kt},get VersionedTextDocumentIdentifier(){return Bn},WorkspaceChange:bo,get WorkspaceEdit(){return xt},get WorkspaceFolder(){return Tr},get WorkspaceSymbol(){return ar},get integer(){return Nn},get uinteger(){return Ct}}),Pr=Qi(wo),x={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ProtocolNotificationType=e.ProtocolNotificationType0=e.ProtocolRequestType=e.ProtocolRequestType0=e.RegistrationType=e.MessageDirection=void 0;const t=Ye;(function(u){u.clientToServer="clientToServer",u.serverToClient="serverToClient",u.both="both"})(e.MessageDirection||(e.MessageDirection={}));class n{constructor(d){this.method=d}}e.RegistrationType=n;class r extends t.RequestType0{constructor(d){super(d)}}e.ProtocolRequestType0=r;class i extends t.RequestType{constructor(d){super(d,t.ParameterStructures.byName)}}e.ProtocolRequestType=i;class o extends t.NotificationType0{constructor(d){super(d)}}e.ProtocolNotificationType0=o;class a extends t.NotificationType{constructor(d){super(d,t.ParameterStructures.byName)}}e.ProtocolNotificationType=a})(x);var ei={},re={};Object.defineProperty(re,"__esModule",{value:!0}),re.objectLiteral=re.typedArray=re.stringArray=re.array=re.func=re.error=re.number=re.string=re.boolean=void 0;function yo(e){return e===!0||e===!1}re.boolean=yo;function ti(e){return typeof e=="string"||e instanceof String}re.string=ti;function po(e){return typeof e=="number"||e instanceof Number}re.number=po;function vo(e){return e instanceof Error}re.error=vo;function Ro(e){return typeof e=="function"}re.func=Ro;function ni(e){return Array.isArray(e)}re.array=ni;function Do(e){return ni(e)&&e.every(t=>ti(t))}re.stringArray=Do;function To(e,t){return Array.isArray(e)&&e.every(t)}re.typedArray=To;function ko(e){return e!==null&&typeof e=="object"}re.objectLiteral=ko;var ri={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ImplementationRequest=void 0;const t=x;(function(n){n.method="textDocument/implementation",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.ImplementationRequest||(e.ImplementationRequest={}))})(ri);var ii={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeDefinitionRequest=void 0;const t=x;(function(n){n.method="textDocument/typeDefinition",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.TypeDefinitionRequest||(e.TypeDefinitionRequest={}))})(ii);var oi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=void 0;const t=x;(function(n){n.method="workspace/workspaceFolders",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType0(n.method)})(e.WorkspaceFoldersRequest||(e.WorkspaceFoldersRequest={})),function(n){n.method="workspace/didChangeWorkspaceFolders",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidChangeWorkspaceFoldersNotification||(e.DidChangeWorkspaceFoldersNotification={}))})(oi);var ci={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationRequest=void 0;const t=x;(function(n){n.method="workspace/configuration",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(e.ConfigurationRequest||(e.ConfigurationRequest={}))})(ci);var ai={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPresentationRequest=e.DocumentColorRequest=void 0;const t=x;(function(n){n.method="textDocument/documentColor",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.DocumentColorRequest||(e.DocumentColorRequest={})),function(n){n.method="textDocument/colorPresentation",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.ColorPresentationRequest||(e.ColorPresentationRequest={}))})(ai);var si={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRangeRequest=void 0;const t=x;(function(n){n.method="textDocument/foldingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.FoldingRangeRequest||(e.FoldingRangeRequest={}))})(si);var ui={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DeclarationRequest=void 0;const t=x;(function(n){n.method="textDocument/declaration",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.DeclarationRequest||(e.DeclarationRequest={}))})(ui);var di={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionRangeRequest=void 0;const t=x;(function(n){n.method="textDocument/selectionRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.SelectionRangeRequest||(e.SelectionRangeRequest={}))})(di);var fi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=void 0;const t=Ye,n=x;(function(r){r.type=new t.ProgressType;function i(o){return o===r.type}r.is=i})(e.WorkDoneProgress||(e.WorkDoneProgress={})),function(r){r.method="window/workDoneProgress/create",r.messageDirection=n.MessageDirection.serverToClient,r.type=new n.ProtocolRequestType(r.method)}(e.WorkDoneProgressCreateRequest||(e.WorkDoneProgressCreateRequest={})),function(r){r.method="window/workDoneProgress/cancel",r.messageDirection=n.MessageDirection.clientToServer,r.type=new n.ProtocolNotificationType(r.method)}(e.WorkDoneProgressCancelNotification||(e.WorkDoneProgressCancelNotification={}))})(fi);var li={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.CallHierarchyPrepareRequest=void 0;const t=x;(function(n){n.method="textDocument/prepareCallHierarchy",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.CallHierarchyPrepareRequest||(e.CallHierarchyPrepareRequest={})),function(n){n.method="callHierarchy/incomingCalls",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.CallHierarchyIncomingCallsRequest||(e.CallHierarchyIncomingCallsRequest={})),function(n){n.method="callHierarchy/outgoingCalls",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.CallHierarchyOutgoingCallsRequest||(e.CallHierarchyOutgoingCallsRequest={}))})(li);var gi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.SemanticTokensRegistrationType=e.TokenFormat=void 0;const t=x;(function(r){r.Relative="relative"})(e.TokenFormat||(e.TokenFormat={}));var n;(function(r){r.method="textDocument/semanticTokens",r.type=new t.RegistrationType(r.method)})(n=e.SemanticTokensRegistrationType||(e.SemanticTokensRegistrationType={})),function(r){r.method="textDocument/semanticTokens/full",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensRequest||(e.SemanticTokensRequest={})),function(r){r.method="textDocument/semanticTokens/full/delta",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensDeltaRequest||(e.SemanticTokensDeltaRequest={})),function(r){r.method="textDocument/semanticTokens/range",r.messageDirection=t.MessageDirection.clientToServer,r.type=new t.ProtocolRequestType(r.method),r.registrationMethod=n.method}(e.SemanticTokensRangeRequest||(e.SemanticTokensRangeRequest={})),function(r){r.method="workspace/semanticTokens/refresh",r.messageDirection=t.MessageDirection.serverToClient,r.type=new t.ProtocolRequestType0(r.method)}(e.SemanticTokensRefreshRequest||(e.SemanticTokensRefreshRequest={}))})(gi);var _i={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ShowDocumentRequest=void 0;const t=x;(function(n){n.method="window/showDocument",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType(n.method)})(e.ShowDocumentRequest||(e.ShowDocumentRequest={}))})(_i);var bi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedEditingRangeRequest=void 0;const t=x;(function(n){n.method="textDocument/linkedEditingRange",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.LinkedEditingRangeRequest||(e.LinkedEditingRangeRequest={}))})(bi);var hi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.DidRenameFilesNotification=e.WillRenameFilesRequest=e.DidCreateFilesNotification=e.WillCreateFilesRequest=e.FileOperationPatternKind=void 0;const t=x;(function(n){n.file="file",n.folder="folder"})(e.FileOperationPatternKind||(e.FileOperationPatternKind={})),function(n){n.method="workspace/willCreateFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillCreateFilesRequest||(e.WillCreateFilesRequest={})),function(n){n.method="workspace/didCreateFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidCreateFilesNotification||(e.DidCreateFilesNotification={})),function(n){n.method="workspace/willRenameFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillRenameFilesRequest||(e.WillRenameFilesRequest={})),function(n){n.method="workspace/didRenameFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidRenameFilesNotification||(e.DidRenameFilesNotification={})),function(n){n.method="workspace/didDeleteFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolNotificationType(n.method)}(e.DidDeleteFilesNotification||(e.DidDeleteFilesNotification={})),function(n){n.method="workspace/willDeleteFiles",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.WillDeleteFilesRequest||(e.WillDeleteFilesRequest={}))})(hi);var mi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=void 0;const t=x;(function(n){n.document="document",n.project="project",n.group="group",n.scheme="scheme",n.global="global"})(e.UniquenessLevel||(e.UniquenessLevel={})),function(n){n.$import="import",n.$export="export",n.local="local"}(e.MonikerKind||(e.MonikerKind={})),function(n){n.method="textDocument/moniker",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.MonikerRequest||(e.MonikerRequest={}))})(mi);var wi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TypeHierarchySubtypesRequest=e.TypeHierarchySupertypesRequest=e.TypeHierarchyPrepareRequest=void 0;const t=x;(function(n){n.method="textDocument/prepareTypeHierarchy",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.TypeHierarchyPrepareRequest||(e.TypeHierarchyPrepareRequest={})),function(n){n.method="typeHierarchy/supertypes",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.TypeHierarchySupertypesRequest||(e.TypeHierarchySupertypesRequest={})),function(n){n.method="typeHierarchy/subtypes",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.TypeHierarchySubtypesRequest||(e.TypeHierarchySubtypesRequest={}))})(wi);var yi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InlineValueRefreshRequest=e.InlineValueRequest=void 0;const t=x;(function(n){n.method="textDocument/inlineValue",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.InlineValueRequest||(e.InlineValueRequest={})),function(n){n.method="workspace/inlineValue/refresh",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType0(n.method)}(e.InlineValueRefreshRequest||(e.InlineValueRefreshRequest={}))})(yi);var pi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=void 0;const t=x;(function(n){n.method="textDocument/inlayHint",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)})(e.InlayHintRequest||(e.InlayHintRequest={})),function(n){n.method="inlayHint/resolve",n.messageDirection=t.MessageDirection.clientToServer,n.type=new t.ProtocolRequestType(n.method)}(e.InlayHintResolveRequest||(e.InlayHintResolveRequest={})),function(n){n.method="workspace/inlayHint/refresh",n.messageDirection=t.MessageDirection.serverToClient,n.type=new t.ProtocolRequestType0(n.method)}(e.InlayHintRefreshRequest||(e.InlayHintRefreshRequest={}))})(pi);var vi={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=void 0;const t=Ye,n=re,r=x;(function(i){function o(a){const u=a;return u&&n.boolean(u.retriggerRequest)}i.is=o})(e.DiagnosticServerCancellationData||(e.DiagnosticServerCancellationData={})),function(i){i.Full="full",i.Unchanged="unchanged"}(e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={})),function(i){i.method="textDocument/diagnostic",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),i.partialResult=new t.ProgressType}(e.DocumentDiagnosticRequest||(e.DocumentDiagnosticRequest={})),function(i){i.method="workspace/diagnostic",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),i.partialResult=new t.ProgressType}(e.WorkspaceDiagnosticRequest||(e.WorkspaceDiagnosticRequest={})),function(i){i.method="workspace/diagnostic/refresh",i.messageDirection=r.MessageDirection.serverToClient,i.type=new r.ProtocolRequestType0(i.method)}(e.DiagnosticRefreshRequest||(e.DiagnosticRefreshRequest={}))})(vi);var Ri={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=void 0;const t=Pr,n=re,r=x;var i;(function(d){d.Markup=1,d.Code=2;function l(b){return b===1||b===2}d.is=l})(i=e.NotebookCellKind||(e.NotebookCellKind={}));var o;(function(d){function l(y,m){const q={executionOrder:y};return(m===!0||m===!1)&&(q.success=m),q}d.create=l;function b(y){const m=y;return n.objectLiteral(m)&&t.uinteger.is(m.executionOrder)&&(m.success===void 0||n.boolean(m.success))}d.is=b;function R(y,m){return y===m?!0:y==null||m===null||m===void 0?!1:y.executionOrder===m.executionOrder&&y.success===m.success}d.equals=R})(o=e.ExecutionSummary||(e.ExecutionSummary={}));var a;(function(d){function l(m,q){return{kind:m,document:q}}d.create=l;function b(m){const q=m;return n.objectLiteral(q)&&i.is(q.kind)&&t.DocumentUri.is(q.document)&&(q.metadata===void 0||n.objectLiteral(q.metadata))}d.is=b;function R(m,q){const z=new Set;return m.document!==q.document&&z.add("document"),m.kind!==q.kind&&z.add("kind"),m.executionSummary!==q.executionSummary&&z.add("executionSummary"),(m.metadata!==void 0||q.metadata!==void 0)&&!y(m.metadata,q.metadata)&&z.add("metadata"),(m.executionSummary!==void 0||q.executionSummary!==void 0)&&!o.equals(m.executionSummary,q.executionSummary)&&z.add("executionSummary"),z}d.diff=R;function y(m,q){if(m===q)return!0;if(m==null||q===null||q===void 0||typeof m!=typeof q||typeof m!="object")return!1;const z=Array.isArray(m),Q=Array.isArray(q);if(z!==Q)return!1;if(z&&Q){if(m.length!==q.length)return!1;for(let I=0;I<m.length;I++)if(!y(m[I],q[I]))return!1}if(n.objectLiteral(m)&&n.objectLiteral(q)){const I=Object.keys(m),V=Object.keys(q);if(I.length!==V.length||(I.sort(),V.sort(),!y(I,V)))return!1;for(let J=0;J<I.length;J++){const be=I[J];if(!y(m[be],q[be]))return!1}}return!0}})(a=e.NotebookCell||(e.NotebookCell={})),function(d){function l(R,y,m,q){return{uri:R,notebookType:y,version:m,cells:q}}d.create=l;function b(R){const y=R;return n.objectLiteral(y)&&n.string(y.uri)&&t.integer.is(y.version)&&n.typedArray(y.cells,a.is)}d.is=b}(e.NotebookDocument||(e.NotebookDocument={}));var u;(function(d){d.method="notebookDocument/sync",d.messageDirection=r.MessageDirection.clientToServer,d.type=new r.RegistrationType(d.method)})(u=e.NotebookDocumentSyncRegistrationType||(e.NotebookDocumentSyncRegistrationType={})),function(d){d.method="notebookDocument/didOpen",d.messageDirection=r.MessageDirection.clientToServer,d.type=new r.ProtocolNotificationType(d.method),d.registrationMethod=u.method}(e.DidOpenNotebookDocumentNotification||(e.DidOpenNotebookDocumentNotification={})),function(d){function l(R){const y=R;return n.objectLiteral(y)&&t.uinteger.is(y.start)&&t.uinteger.is(y.deleteCount)&&(y.cells===void 0||n.typedArray(y.cells,a.is))}d.is=l;function b(R,y,m){const q={start:R,deleteCount:y};return m!==void 0&&(q.cells=m),q}d.create=b}(e.NotebookCellArrayChange||(e.NotebookCellArrayChange={})),function(d){d.method="notebookDocument/didChange",d.messageDirection=r.MessageDirection.clientToServer,d.type=new r.ProtocolNotificationType(d.method),d.registrationMethod=u.method}(e.DidChangeNotebookDocumentNotification||(e.DidChangeNotebookDocumentNotification={})),function(d){d.method="notebookDocument/didSave",d.messageDirection=r.MessageDirection.clientToServer,d.type=new r.ProtocolNotificationType(d.method),d.registrationMethod=u.method}(e.DidSaveNotebookDocumentNotification||(e.DidSaveNotebookDocumentNotification={})),function(d){d.method="notebookDocument/didClose",d.messageDirection=r.MessageDirection.clientToServer,d.type=new r.ProtocolNotificationType(d.method),d.registrationMethod=u.method}(e.DidCloseNotebookDocumentNotification||(e.DidCloseNotebookDocumentNotification={}))})(Ri),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.WorkspaceSymbolRequest=e.CodeActionResolveRequest=e.CodeActionRequest=e.DocumentSymbolRequest=e.DocumentHighlightRequest=e.ReferencesRequest=e.DefinitionRequest=e.SignatureHelpRequest=e.SignatureHelpTriggerKind=e.HoverRequest=e.CompletionResolveRequest=e.CompletionRequest=e.CompletionTriggerKind=e.PublishDiagnosticsNotification=e.WatchKind=e.RelativePattern=e.FileChangeType=e.DidChangeWatchedFilesNotification=e.WillSaveTextDocumentWaitUntilRequest=e.WillSaveTextDocumentNotification=e.TextDocumentSaveReason=e.DidSaveTextDocumentNotification=e.DidCloseTextDocumentNotification=e.DidChangeTextDocumentNotification=e.TextDocumentContentChangeEvent=e.DidOpenTextDocumentNotification=e.TextDocumentSyncKind=e.TelemetryEventNotification=e.LogMessageNotification=e.ShowMessageRequest=e.ShowMessageNotification=e.MessageType=e.DidChangeConfigurationNotification=e.ExitNotification=e.ShutdownRequest=e.InitializedNotification=e.InitializeErrorCodes=e.InitializeRequest=e.WorkDoneProgressOptions=e.TextDocumentRegistrationOptions=e.StaticRegistrationOptions=e.PositionEncodingKind=e.FailureHandlingKind=e.ResourceOperationKind=e.UnregistrationRequest=e.RegistrationRequest=e.DocumentSelector=e.NotebookCellTextDocumentFilter=e.NotebookDocumentFilter=e.TextDocumentFilter=void 0,e.TypeHierarchySubtypesRequest=e.TypeHierarchyPrepareRequest=e.MonikerRequest=e.MonikerKind=e.UniquenessLevel=e.WillDeleteFilesRequest=e.DidDeleteFilesNotification=e.WillRenameFilesRequest=e.DidRenameFilesNotification=e.WillCreateFilesRequest=e.DidCreateFilesNotification=e.FileOperationPatternKind=e.LinkedEditingRangeRequest=e.ShowDocumentRequest=e.SemanticTokensRegistrationType=e.SemanticTokensRefreshRequest=e.SemanticTokensRangeRequest=e.SemanticTokensDeltaRequest=e.SemanticTokensRequest=e.TokenFormat=e.CallHierarchyPrepareRequest=e.CallHierarchyOutgoingCallsRequest=e.CallHierarchyIncomingCallsRequest=e.WorkDoneProgressCancelNotification=e.WorkDoneProgressCreateRequest=e.WorkDoneProgress=e.SelectionRangeRequest=e.DeclarationRequest=e.FoldingRangeRequest=e.ColorPresentationRequest=e.DocumentColorRequest=e.ConfigurationRequest=e.DidChangeWorkspaceFoldersNotification=e.WorkspaceFoldersRequest=e.TypeDefinitionRequest=e.ImplementationRequest=e.ApplyWorkspaceEditRequest=e.ExecuteCommandRequest=e.PrepareRenameRequest=e.RenameRequest=e.PrepareSupportDefaultBehavior=e.DocumentOnTypeFormattingRequest=e.DocumentRangeFormattingRequest=e.DocumentFormattingRequest=e.DocumentLinkResolveRequest=e.DocumentLinkRequest=e.CodeLensRefreshRequest=e.CodeLensResolveRequest=e.CodeLensRequest=e.WorkspaceSymbolResolveRequest=void 0,e.DidCloseNotebookDocumentNotification=e.DidSaveNotebookDocumentNotification=e.DidChangeNotebookDocumentNotification=e.NotebookCellArrayChange=e.DidOpenNotebookDocumentNotification=e.NotebookDocumentSyncRegistrationType=e.NotebookDocument=e.NotebookCell=e.ExecutionSummary=e.NotebookCellKind=e.DiagnosticRefreshRequest=e.WorkspaceDiagnosticRequest=e.DocumentDiagnosticRequest=e.DocumentDiagnosticReportKind=e.DiagnosticServerCancellationData=e.InlayHintRefreshRequest=e.InlayHintResolveRequest=e.InlayHintRequest=e.InlineValueRefreshRequest=e.InlineValueRequest=e.TypeHierarchySupertypesRequest=void 0;const t=x,n=Pr,r=re,i=ri;Object.defineProperty(e,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=ii;Object.defineProperty(e,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const a=oi;Object.defineProperty(e,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return a.WorkspaceFoldersRequest}}),Object.defineProperty(e,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return a.DidChangeWorkspaceFoldersNotification}});const u=ci;Object.defineProperty(e,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const d=ai;Object.defineProperty(e,"DocumentColorRequest",{enumerable:!0,get:function(){return d.DocumentColorRequest}}),Object.defineProperty(e,"ColorPresentationRequest",{enumerable:!0,get:function(){return d.ColorPresentationRequest}});const l=si;Object.defineProperty(e,"FoldingRangeRequest",{enumerable:!0,get:function(){return l.FoldingRangeRequest}});const b=ui;Object.defineProperty(e,"DeclarationRequest",{enumerable:!0,get:function(){return b.DeclarationRequest}});const R=di;Object.defineProperty(e,"SelectionRangeRequest",{enumerable:!0,get:function(){return R.SelectionRangeRequest}});const y=fi;Object.defineProperty(e,"WorkDoneProgress",{enumerable:!0,get:function(){return y.WorkDoneProgress}}),Object.defineProperty(e,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return y.WorkDoneProgressCreateRequest}}),Object.defineProperty(e,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return y.WorkDoneProgressCancelNotification}});const m=li;Object.defineProperty(e,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(e,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(e,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.CallHierarchyPrepareRequest}});const q=gi;Object.defineProperty(e,"TokenFormat",{enumerable:!0,get:function(){return q.TokenFormat}}),Object.defineProperty(e,"SemanticTokensRequest",{enumerable:!0,get:function(){return q.SemanticTokensRequest}}),Object.defineProperty(e,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return q.SemanticTokensDeltaRequest}}),Object.defineProperty(e,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return q.SemanticTokensRangeRequest}}),Object.defineProperty(e,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return q.SemanticTokensRefreshRequest}}),Object.defineProperty(e,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return q.SemanticTokensRegistrationType}});const z=_i;Object.defineProperty(e,"ShowDocumentRequest",{enumerable:!0,get:function(){return z.ShowDocumentRequest}});const Q=bi;Object.defineProperty(e,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return Q.LinkedEditingRangeRequest}});const I=hi;Object.defineProperty(e,"FileOperationPatternKind",{enumerable:!0,get:function(){return I.FileOperationPatternKind}}),Object.defineProperty(e,"DidCreateFilesNotification",{enumerable:!0,get:function(){return I.DidCreateFilesNotification}}),Object.defineProperty(e,"WillCreateFilesRequest",{enumerable:!0,get:function(){return I.WillCreateFilesRequest}}),Object.defineProperty(e,"DidRenameFilesNotification",{enumerable:!0,get:function(){return I.DidRenameFilesNotification}}),Object.defineProperty(e,"WillRenameFilesRequest",{enumerable:!0,get:function(){return I.WillRenameFilesRequest}}),Object.defineProperty(e,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return I.DidDeleteFilesNotification}}),Object.defineProperty(e,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return I.WillDeleteFilesRequest}});const V=mi;Object.defineProperty(e,"UniquenessLevel",{enumerable:!0,get:function(){return V.UniquenessLevel}}),Object.defineProperty(e,"MonikerKind",{enumerable:!0,get:function(){return V.MonikerKind}}),Object.defineProperty(e,"MonikerRequest",{enumerable:!0,get:function(){return V.MonikerRequest}});const J=wi;Object.defineProperty(e,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return J.TypeHierarchyPrepareRequest}}),Object.defineProperty(e,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return J.TypeHierarchySubtypesRequest}}),Object.defineProperty(e,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return J.TypeHierarchySupertypesRequest}});const be=yi;Object.defineProperty(e,"InlineValueRequest",{enumerable:!0,get:function(){return be.InlineValueRequest}}),Object.defineProperty(e,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return be.InlineValueRefreshRequest}});const pe=pi;Object.defineProperty(e,"InlayHintRequest",{enumerable:!0,get:function(){return pe.InlayHintRequest}}),Object.defineProperty(e,"InlayHintResolveRequest",{enumerable:!0,get:function(){return pe.InlayHintResolveRequest}}),Object.defineProperty(e,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return pe.InlayHintRefreshRequest}});const we=vi;Object.defineProperty(e,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return we.DiagnosticServerCancellationData}}),Object.defineProperty(e,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return we.DocumentDiagnosticReportKind}}),Object.defineProperty(e,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return we.DocumentDiagnosticRequest}}),Object.defineProperty(e,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return we.WorkspaceDiagnosticRequest}}),Object.defineProperty(e,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return we.DiagnosticRefreshRequest}});const fe=Ri;Object.defineProperty(e,"NotebookCellKind",{enumerable:!0,get:function(){return fe.NotebookCellKind}}),Object.defineProperty(e,"ExecutionSummary",{enumerable:!0,get:function(){return fe.ExecutionSummary}}),Object.defineProperty(e,"NotebookCell",{enumerable:!0,get:function(){return fe.NotebookCell}}),Object.defineProperty(e,"NotebookDocument",{enumerable:!0,get:function(){return fe.NotebookDocument}}),Object.defineProperty(e,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return fe.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(e,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return fe.DidOpenNotebookDocumentNotification}}),Object.defineProperty(e,"NotebookCellArrayChange",{enumerable:!0,get:function(){return fe.NotebookCellArrayChange}}),Object.defineProperty(e,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return fe.DidChangeNotebookDocumentNotification}}),Object.defineProperty(e,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return fe.DidSaveNotebookDocumentNotification}}),Object.defineProperty(e,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return fe.DidCloseNotebookDocumentNotification}});var Te;(function(s){function v(C){const E=C;return r.string(E.language)||r.string(E.scheme)||r.string(E.pattern)}s.is=v})(Te=e.TextDocumentFilter||(e.TextDocumentFilter={}));var le;(function(s){function v(C){const E=C;return r.objectLiteral(E)&&(r.string(E.notebookType)||r.string(E.scheme)||r.string(E.pattern))}s.is=v})(le=e.NotebookDocumentFilter||(e.NotebookDocumentFilter={}));var Be;(function(s){function v(C){const E=C;return r.objectLiteral(E)&&(r.string(E.notebook)||le.is(E.notebook))&&(E.language===void 0||r.string(E.language))}s.is=v})(Be=e.NotebookCellTextDocumentFilter||(e.NotebookCellTextDocumentFilter={}));var P;(function(s){function v(C){if(!Array.isArray(C))return!1;for(let E of C)if(!r.string(E)&&!Te.is(E)&&!Be.is(E))return!1;return!0}s.is=v})(P=e.DocumentSelector||(e.DocumentSelector={})),function(s){s.method="client/registerCapability",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)}(e.RegistrationRequest||(e.RegistrationRequest={})),function(s){s.method="client/unregisterCapability",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)}(e.UnregistrationRequest||(e.UnregistrationRequest={})),function(s){s.Create="create",s.Rename="rename",s.Delete="delete"}(e.ResourceOperationKind||(e.ResourceOperationKind={})),function(s){s.Abort="abort",s.Transactional="transactional",s.TextOnlyTransactional="textOnlyTransactional",s.Undo="undo"}(e.FailureHandlingKind||(e.FailureHandlingKind={})),function(s){s.UTF8="utf-8",s.UTF16="utf-16",s.UTF32="utf-32"}(e.PositionEncodingKind||(e.PositionEncodingKind={})),function(s){function v(C){const E=C;return E&&r.string(E.id)&&E.id.length>0}s.hasId=v}(e.StaticRegistrationOptions||(e.StaticRegistrationOptions={})),function(s){function v(C){const E=C;return E&&(E.documentSelector===null||P.is(E.documentSelector))}s.is=v}(e.TextDocumentRegistrationOptions||(e.TextDocumentRegistrationOptions={})),function(s){function v(E){const U=E;return r.objectLiteral(U)&&(U.workDoneProgress===void 0||r.boolean(U.workDoneProgress))}s.is=v;function C(E){const U=E;return U&&r.boolean(U.workDoneProgress)}s.hasWorkDoneProgress=C}(e.WorkDoneProgressOptions||(e.WorkDoneProgressOptions={})),function(s){s.method="initialize",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.InitializeRequest||(e.InitializeRequest={})),function(s){s.unknownProtocolVersion=1}(e.InitializeErrorCodes||(e.InitializeErrorCodes={})),function(s){s.method="initialized",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.InitializedNotification||(e.InitializedNotification={})),function(s){s.method="shutdown",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType0(s.method)}(e.ShutdownRequest||(e.ShutdownRequest={})),function(s){s.method="exit",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType0(s.method)}(e.ExitNotification||(e.ExitNotification={})),function(s){s.method="workspace/didChangeConfiguration",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidChangeConfigurationNotification||(e.DidChangeConfigurationNotification={})),function(s){s.Error=1,s.Warning=2,s.Info=3,s.Log=4}(e.MessageType||(e.MessageType={})),function(s){s.method="window/showMessage",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)}(e.ShowMessageNotification||(e.ShowMessageNotification={})),function(s){s.method="window/showMessageRequest",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType(s.method)}(e.ShowMessageRequest||(e.ShowMessageRequest={})),function(s){s.method="window/logMessage",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)}(e.LogMessageNotification||(e.LogMessageNotification={})),function(s){s.method="telemetry/event",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)}(e.TelemetryEventNotification||(e.TelemetryEventNotification={})),function(s){s.None=0,s.Full=1,s.Incremental=2}(e.TextDocumentSyncKind||(e.TextDocumentSyncKind={})),function(s){s.method="textDocument/didOpen",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidOpenTextDocumentNotification||(e.DidOpenTextDocumentNotification={})),function(s){function v(E){let U=E;return U!=null&&typeof U.text=="string"&&U.range!==void 0&&(U.rangeLength===void 0||typeof U.rangeLength=="number")}s.isIncremental=v;function C(E){let U=E;return U!=null&&typeof U.text=="string"&&U.range===void 0&&U.rangeLength===void 0}s.isFull=C}(e.TextDocumentContentChangeEvent||(e.TextDocumentContentChangeEvent={})),function(s){s.method="textDocument/didChange",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidChangeTextDocumentNotification||(e.DidChangeTextDocumentNotification={})),function(s){s.method="textDocument/didClose",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidCloseTextDocumentNotification||(e.DidCloseTextDocumentNotification={})),function(s){s.method="textDocument/didSave",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidSaveTextDocumentNotification||(e.DidSaveTextDocumentNotification={})),function(s){s.Manual=1,s.AfterDelay=2,s.FocusOut=3}(e.TextDocumentSaveReason||(e.TextDocumentSaveReason={})),function(s){s.method="textDocument/willSave",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.WillSaveTextDocumentNotification||(e.WillSaveTextDocumentNotification={})),function(s){s.method="textDocument/willSaveWaitUntil",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.WillSaveTextDocumentWaitUntilRequest||(e.WillSaveTextDocumentWaitUntilRequest={})),function(s){s.method="workspace/didChangeWatchedFiles",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolNotificationType(s.method)}(e.DidChangeWatchedFilesNotification||(e.DidChangeWatchedFilesNotification={})),function(s){s.Created=1,s.Changed=2,s.Deleted=3}(e.FileChangeType||(e.FileChangeType={})),function(s){function v(C){const E=C;return r.objectLiteral(E)&&(n.URI.is(E.baseUri)||n.WorkspaceFolder.is(E.baseUri))&&r.string(E.pattern)}s.is=v}(e.RelativePattern||(e.RelativePattern={})),function(s){s.Create=1,s.Change=2,s.Delete=4}(e.WatchKind||(e.WatchKind={})),function(s){s.method="textDocument/publishDiagnostics",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolNotificationType(s.method)}(e.PublishDiagnosticsNotification||(e.PublishDiagnosticsNotification={})),function(s){s.Invoked=1,s.TriggerCharacter=2,s.TriggerForIncompleteCompletions=3}(e.CompletionTriggerKind||(e.CompletionTriggerKind={})),function(s){s.method="textDocument/completion",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CompletionRequest||(e.CompletionRequest={})),function(s){s.method="completionItem/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CompletionResolveRequest||(e.CompletionResolveRequest={})),function(s){s.method="textDocument/hover",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.HoverRequest||(e.HoverRequest={})),function(s){s.Invoked=1,s.TriggerCharacter=2,s.ContentChange=3}(e.SignatureHelpTriggerKind||(e.SignatureHelpTriggerKind={})),function(s){s.method="textDocument/signatureHelp",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.SignatureHelpRequest||(e.SignatureHelpRequest={})),function(s){s.method="textDocument/definition",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DefinitionRequest||(e.DefinitionRequest={})),function(s){s.method="textDocument/references",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.ReferencesRequest||(e.ReferencesRequest={})),function(s){s.method="textDocument/documentHighlight",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentHighlightRequest||(e.DocumentHighlightRequest={})),function(s){s.method="textDocument/documentSymbol",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentSymbolRequest||(e.DocumentSymbolRequest={})),function(s){s.method="textDocument/codeAction",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CodeActionRequest||(e.CodeActionRequest={})),function(s){s.method="codeAction/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CodeActionResolveRequest||(e.CodeActionResolveRequest={})),function(s){s.method="workspace/symbol",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.WorkspaceSymbolRequest||(e.WorkspaceSymbolRequest={})),function(s){s.method="workspaceSymbol/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.WorkspaceSymbolResolveRequest||(e.WorkspaceSymbolResolveRequest={})),function(s){s.method="textDocument/codeLens",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CodeLensRequest||(e.CodeLensRequest={})),function(s){s.method="codeLens/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.CodeLensResolveRequest||(e.CodeLensResolveRequest={})),function(s){s.method="workspace/codeLens/refresh",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType0(s.method)}(e.CodeLensRefreshRequest||(e.CodeLensRefreshRequest={})),function(s){s.method="textDocument/documentLink",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentLinkRequest||(e.DocumentLinkRequest={})),function(s){s.method="documentLink/resolve",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentLinkResolveRequest||(e.DocumentLinkResolveRequest={})),function(s){s.method="textDocument/formatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentFormattingRequest||(e.DocumentFormattingRequest={})),function(s){s.method="textDocument/rangeFormatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentRangeFormattingRequest||(e.DocumentRangeFormattingRequest={})),function(s){s.method="textDocument/onTypeFormatting",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.DocumentOnTypeFormattingRequest||(e.DocumentOnTypeFormattingRequest={})),function(s){s.Identifier=1}(e.PrepareSupportDefaultBehavior||(e.PrepareSupportDefaultBehavior={})),function(s){s.method="textDocument/rename",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.RenameRequest||(e.RenameRequest={})),function(s){s.method="textDocument/prepareRename",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.PrepareRenameRequest||(e.PrepareRenameRequest={})),function(s){s.method="workspace/executeCommand",s.messageDirection=t.MessageDirection.clientToServer,s.type=new t.ProtocolRequestType(s.method)}(e.ExecuteCommandRequest||(e.ExecuteCommandRequest={})),function(s){s.method="workspace/applyEdit",s.messageDirection=t.MessageDirection.serverToClient,s.type=new t.ProtocolRequestType("workspace/applyEdit")}(e.ApplyWorkspaceEditRequest||(e.ApplyWorkspaceEditRequest={}))}(ei);var on={};Object.defineProperty(on,"__esModule",{value:!0}),on.createProtocolConnection=void 0;const Di=Ye;function Po(e,t,n,r){return Di.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,Di.createMessageConnection)(e,t,n,r)}on.createProtocolConnection=Po,function(e){var t=ae&&ae.__createBinding||(Object.create?function(i,o,a,u){u===void 0&&(u=a);var d=Object.getOwnPropertyDescriptor(o,a);(!d||("get"in d?!o.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return o[a]}}),Object.defineProperty(i,u,d)}:function(i,o,a,u){u===void 0&&(u=a),i[u]=o[a]}),n=ae&&ae.__exportStar||function(i,o){for(var a in i)a!=="default"&&!Object.prototype.hasOwnProperty.call(o,a)&&t(o,i,a)};Object.defineProperty(e,"__esModule",{value:!0}),e.LSPErrorCodes=e.createProtocolConnection=void 0,n(Ye,e),n(Pr,e),n(x,e),n(ei,e);var r=on;Object.defineProperty(e,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}}),function(i){i.lspReservedErrorRangeStart=-32899,i.RequestFailed=-32803,i.ServerCancelled=-32802,i.ContentModified=-32801,i.RequestCancelled=-32800,i.lspReservedErrorRangeEnd=-32800}(e.LSPErrorCodes||(e.LSPErrorCodes={}))}(Zr),function(e){var t=ae&&ae.__createBinding||(Object.create?function(o,a,u,d){d===void 0&&(d=u);var l=Object.getOwnPropertyDescriptor(a,u);(!l||("get"in l?!a.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return a[u]}}),Object.defineProperty(o,d,l)}:function(o,a,u,d){d===void 0&&(d=u),o[d]=a[u]}),n=ae&&ae.__exportStar||function(o,a){for(var u in o)u!=="default"&&!Object.prototype.hasOwnProperty.call(a,u)&&t(a,o,u)};Object.defineProperty(e,"__esModule",{value:!0}),e.createProtocolConnection=void 0;const r=Gr;n(Gr,e),n(Zr,e);function i(o,a,u,d){return(0,r.createMessageConnection)(o,a,u,d)}e.createProtocolConnection=i}(de),Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.SemanticTokensBuilder=Ne.SemanticTokensDiff=Ne.SemanticTokensFeature=void 0;const cn=de,So=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(cn.SemanticTokensRefreshRequest.type),on:t=>{const n=cn.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:t=>{const n=cn.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:t=>{const n=cn.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ne.SemanticTokensFeature=So;class Ti{constructor(t,n){this.originalSequence=t,this.modifiedSequence=n}computeDiff(){const t=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<t&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<t){let i=t-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);const a=i-r+1,u=this.modifiedSequence.slice(r,o+1);return u.length===1&&u[0]===this.originalSequence[i]?[{start:r,deleteCount:a-1}]:[{start:r,deleteCount:a,data:u}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<t?[{start:r,deleteCount:t-r}]:[]}}Ne.SemanticTokensDiff=Ti;class Co{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,n,r,i,o){let a=t,u=n;this._dataLen>0&&(a-=this._prevLine,a===0&&(u-=this._prevChar)),this._data[this._dataLen++]=a,this._data[this._dataLen++]=u,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=n}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Ti(this._prevData,this._data).computeDiff()}:this.build()}}Ne.SemanticTokensBuilder=Co;var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.TextDocuments=void 0;const Ze=de;class qo{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new Ze.Emitter,this._onDidOpen=new Ze.Emitter,this._onDidClose=new Ze.Emitter,this._onDidSave=new Ze.Emitter,this._onWillSave=new Ze.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Ze.TextDocumentSyncKind.Incremental;const n=[];return n.push(t.onDidOpenTextDocument(r=>{const i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);const a=Object.freeze({document:o});this._onDidOpen.fire(a),this._onDidChangeContent.fire(a)})),n.push(t.onDidChangeTextDocument(r=>{const i=r.textDocument,o=r.contentChanges;if(o.length===0)return;const{version:a}=i;if(a==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let u=this._syncedDocuments.get(i.uri);u!==void 0&&(u=this._configuration.update(u,o,a),this._syncedDocuments.set(i.uri,u),this._onDidChangeContent.fire(Object.freeze({document:u})))})),n.push(t.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(t.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(t.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(t.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Ze.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}Ft.TextDocuments=qo;var xe={};Object.defineProperty(xe,"__esModule",{value:!0}),xe.NotebookDocuments=xe.NotebookSyncFeature=void 0;const De=de,ki=Ft,Mo=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(De.DidOpenNotebookDocumentNotification.type,n=>{t(n)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(De.DidChangeNotebookDocumentNotification.type,n=>{t(n)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(De.DidSaveNotebookDocumentNotification.type,n=>{t(n)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(De.DidCloseNotebookDocumentNotification.type,n=>{t(n)})}}};xe.NotebookSyncFeature=Mo;class dt{onDidOpenTextDocument(t){return this.openHandler=t,De.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,De.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,De.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return dt.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return dt.NULL_DISPOSE}onDidSaveTextDocument(){return dt.NULL_DISPOSE}}dt.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class Eo{constructor(t){t instanceof ki.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new ki.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new De.Emitter,this._onDidChange=new De.Emitter,this._onDidSave=new De.Emitter,this._onDidClose=new De.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){const n=this.notebookCellMap.get(t);return n&&n[0]}findNotebookDocumentForCell(t){const n=typeof t=="string"?t:t.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){const n=new dt,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;const a=o.metadata;let u=!1;const d=i.change;d.metadata!==void 0&&(u=!0,o.metadata=d.metadata);const l=[],b=[],R=[],y=[];if(d.cells!==void 0){const I=d.cells;if(I.structure!==void 0){const V=I.structure.array;if(o.cells.splice(V.start,V.deleteCount,...V.cells!==void 0?V.cells:[]),I.structure.didOpen!==void 0)for(const J of I.structure.didOpen)n.openTextDocument({textDocument:J}),l.push(J.uri);if(I.structure.didClose)for(const J of I.structure.didClose)n.closeTextDocument({textDocument:J}),b.push(J.uri)}if(I.data!==void 0){const V=new Map(I.data.map(J=>[J.document,J]));for(let J=0;J<=o.cells.length;J++){const be=V.get(o.cells[J].document);if(be!==void 0){const pe=o.cells.splice(J,1,be);if(R.push({old:pe[0],new:be}),V.delete(be.document),V.size===0)break}}}if(I.textContent!==void 0)for(const V of I.textContent)n.changeTextDocument({textDocument:V.document,contentChanges:V.changes}),y.push(V.document.uri)}this.updateCellMap(o);const m={notebookDocument:o};u&&(m.metadata={old:a,new:o.metadata});const q=[];for(const I of l)q.push(this.getNotebookCell(I));const z=[];for(const I of b)z.push(this.getNotebookCell(I));const Q=[];for(const I of y)Q.push(this.getNotebookCell(I));(q.length>0||z.length>0||R.length>0||Q.length>0)&&(m.cells={added:q,removed:z,changed:{data:R,textContent:Q}}),(m.metadata!==void 0||m.cells!==void 0)&&this._onDidChange.fire(m)})),r.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(const a of i.cellTextDocuments)n.closeTextDocument({textDocument:a});this.notebookDocuments.delete(i.notebookDocument.uri);for(const a of o.cells)this.notebookCellMap.delete(a.document)}})),De.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(t){for(const n of t.cells)this.notebookCellMap.set(n.document,[n,t])}}xe.NotebookDocuments=Eo;var Pi={},oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.thenable=oe.typedArray=oe.stringArray=oe.array=oe.func=oe.error=oe.number=oe.string=oe.boolean=void 0;function Oo(e){return e===!0||e===!1}oe.boolean=Oo;function Si(e){return typeof e=="string"||e instanceof String}oe.string=Si;function No(e){return typeof e=="number"||e instanceof Number}oe.number=No;function jo(e){return e instanceof Error}oe.error=jo;function Ci(e){return typeof e=="function"}oe.func=Ci;function qi(e){return Array.isArray(e)}oe.array=qi;function Fo(e){return qi(e)&&e.every(t=>Si(t))}oe.stringArray=Fo;function Lo(e,t){return Array.isArray(e)&&e.every(t)}oe.typedArray=Lo;function Ao(e){return e&&Ci(e.then)}oe.thenable=Ao;var ye={};Object.defineProperty(ye,"__esModule",{value:!0}),ye.generateUuid=ye.parse=ye.isUUID=ye.v4=ye.empty=void 0;class Sr{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}}class $ extends Sr{constructor(){super([$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),"-",$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),"-","4",$._randomHex(),$._randomHex(),$._randomHex(),"-",$._oneOf($._timeHighBits),$._randomHex(),$._randomHex(),$._randomHex(),"-",$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex(),$._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return $._oneOf($._chars)}}$._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],$._timeHighBits=["8","9","a","b"],ye.empty=new Sr("00000000-0000-0000-0000-000000000000");function Mi(){return new $}ye.v4=Mi;const Io=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Ei(e){return Io.test(e)}ye.isUUID=Ei;function Wo(e){if(!Ei(e))throw new Error("invalid uuid");return new Sr(e)}ye.parse=Wo;function Ho(){return Mi().asHex()}ye.generateUuid=Ho;var He={};Object.defineProperty(He,"__esModule",{value:!0}),He.attachPartialResult=He.ProgressFeature=He.attachWorkDone=void 0;const $e=de,$o=ye;class ze{constructor(t,n){this._connection=t,this._token=n,ze.Instances.set(this._token,this)}begin(t,n,r,i){let o={kind:"begin",title:t,percentage:n,message:r,cancellable:i};this._connection.sendProgress($e.WorkDoneProgress.type,this._token,o)}report(t,n){let r={kind:"report"};typeof t=="number"?(r.percentage=t,n!==void 0&&(r.message=n)):r.message=t,this._connection.sendProgress($e.WorkDoneProgress.type,this._token,r)}done(){ze.Instances.delete(this._token),this._connection.sendProgress($e.WorkDoneProgress.type,this._token,{kind:"end"})}}ze.Instances=new Map;class Oi extends ze{constructor(t,n){super(t,n),this._source=new $e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class Cr{constructor(){}begin(){}report(){}done(){}}class Ni extends Cr{constructor(){super(),this._source=new $e.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function zo(e,t){if(t===void 0||t.workDoneToken===void 0)return new Cr;const n=t.workDoneToken;return delete t.workDoneToken,new ze(e,n)}He.attachWorkDone=zo;const Bo=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification($e.WorkDoneProgressCancelNotification.type,n=>{let r=ze.Instances.get(n.token);(r instanceof Oi||r instanceof Ni)&&r.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Cr:new ze(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){const t=(0,$o.generateUuid)();return this.connection.sendRequest($e.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Oi(this.connection,t))}else return Promise.resolve(new Ni)}};He.ProgressFeature=Bo;var qr;(function(e){e.type=new $e.ProgressType})(qr||(qr={}));class Uo{constructor(t,n){this._connection=t,this._token=n}report(t){this._connection.sendProgress(qr.type,this._token,t)}}function Vo(e,t){if(t===void 0||t.partialResultToken===void 0)return;const n=t.partialResultToken;return delete t.partialResultToken,new Uo(e,n)}He.attachPartialResult=Vo;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.ConfigurationFeature=void 0;const Jo=de,Xo=oe,Qo=e=>class extends e{getConfiguration(t){return t?Xo.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let n={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(Jo.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(t)?r:r[0]:Array.isArray(t)?[]:null)}};an.ConfigurationFeature=Qo;var sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.WorkspaceFoldersFeature=void 0;const un=de,Yo=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let n=t.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new un.Emitter,this.connection.onNotification(un.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);const n=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(un.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(un.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};sn.WorkspaceFoldersFeature=Yo;var dn={};Object.defineProperty(dn,"__esModule",{value:!0}),dn.CallHierarchyFeature=void 0;const Mr=de,Ko=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(Mr.CallHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:t=>{const n=Mr.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:t=>{const n=Mr.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};dn.CallHierarchyFeature=Ko;var fn={};Object.defineProperty(fn,"__esModule",{value:!0}),fn.ShowDocumentFeature=void 0;const Go=de,Zo=e=>class extends e{showDocument(t){return this.connection.sendRequest(Go.ShowDocumentRequest.type,t)}};fn.ShowDocumentFeature=Zo;var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.FileOperationsFeature=void 0;const ft=de,xo=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(ft.DidCreateFilesNotification.type,n=>{t(n)})}onDidRenameFiles(t){return this.connection.onNotification(ft.DidRenameFilesNotification.type,n=>{t(n)})}onDidDeleteFiles(t){return this.connection.onNotification(ft.DidDeleteFilesNotification.type,n=>{t(n)})}onWillCreateFiles(t){return this.connection.onRequest(ft.WillCreateFilesRequest.type,(n,r)=>t(n,r))}onWillRenameFiles(t){return this.connection.onRequest(ft.WillRenameFilesRequest.type,(n,r)=>t(n,r))}onWillDeleteFiles(t){return this.connection.onRequest(ft.WillDeleteFilesRequest.type,(n,r)=>t(n,r))}};ln.FileOperationsFeature=xo;var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.LinkedEditingRangeFeature=void 0;const ec=de,tc=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(ec.LinkedEditingRangeRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0))}};gn.LinkedEditingRangeFeature=tc;var _n={};Object.defineProperty(_n,"__esModule",{value:!0}),_n.TypeHierarchyFeature=void 0;const Er=de,nc=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(Er.TypeHierarchyPrepareRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:t=>{const n=Er.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:t=>{const n=Er.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};_n.TypeHierarchyFeature=nc;var bn={};Object.defineProperty(bn,"__esModule",{value:!0}),bn.InlineValueFeature=void 0;const ji=de,rc=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(ji.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(ji.InlineValueRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n)))}}};bn.InlineValueFeature=rc;var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.InlayHintFeature=void 0;const Or=de,ic=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Or.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(Or.InlayHintRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n))),resolve:t=>this.connection.onRequest(Or.InlayHintResolveRequest.type,(n,r)=>t(n,r))}}};hn.InlayHintFeature=ic;var mn={};Object.defineProperty(mn,"__esModule",{value:!0}),mn.DiagnosticFeature=void 0;const Lt=de,oc=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Lt.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Lt.DocumentDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Lt.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:t=>this.connection.onRequest(Lt.WorkspaceDiagnosticRequest.type,(n,r)=>t(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(Lt.WorkspaceDiagnosticRequest.partialResult,n)))}}};mn.DiagnosticFeature=oc;var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.MonikerFeature=void 0;const cc=de,ac=e=>class extends e{get moniker(){return{on:t=>{const n=cc.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>t(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};wn.MonikerFeature=ac,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=e.combineFeatures=e.combineNotebooksFeatures=e.combineLanguagesFeatures=e.combineWorkspaceFeatures=e.combineWindowFeatures=e.combineClientFeatures=e.combineTracerFeatures=e.combineTelemetryFeatures=e.combineConsoleFeatures=e._NotebooksImpl=e._LanguagesImpl=e.BulkUnregistration=e.BulkRegistration=e.ErrorMessageTracker=void 0;const t=de,n=oe,r=ye,i=He,o=an,a=sn,u=dn,d=Ne,l=fn,b=ln,R=gn,y=_n,m=bn,q=hn,z=mn,Q=xe,I=wn;function V(A){if(A!==null)return A}class J{constructor(){this._messages=Object.create(null)}add(_){let p=this._messages[_];p||(p=0),p++,this._messages[_]=p}sendErrors(_){Object.keys(this._messages).forEach(p=>{_.window.showErrorMessage(p)})}}e.ErrorMessageTracker=J;class be{constructor(){}rawAttach(_){this._rawConnection=_}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(_){}initialize(_){}error(_){this.send(t.MessageType.Error,_)}warn(_){this.send(t.MessageType.Warning,_)}info(_){this.send(t.MessageType.Info,_)}log(_){this.send(t.MessageType.Log,_)}send(_,p){this._rawConnection&&this._rawConnection.sendNotification(t.LogMessageNotification.type,{type:_,message:p}).catch(()=>{(0,t.RAL)().console.error("Sending log message failed")})}}class pe{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}showErrorMessage(_,...p){let L={type:t.MessageType.Error,message:_,actions:p};return this.connection.sendRequest(t.ShowMessageRequest.type,L).then(V)}showWarningMessage(_,...p){let L={type:t.MessageType.Warning,message:_,actions:p};return this.connection.sendRequest(t.ShowMessageRequest.type,L).then(V)}showInformationMessage(_,...p){let L={type:t.MessageType.Info,message:_,actions:p};return this.connection.sendRequest(t.ShowMessageRequest.type,L).then(V)}}const we=(0,l.ShowDocumentFeature)((0,i.ProgressFeature)(pe));(function(A){function _(){return new fe}A.create=_})(e.BulkRegistration||(e.BulkRegistration={}));class fe{constructor(){this._registrations=[],this._registered=new Set}add(_,p){const L=n.string(_)?_:_.method;if(this._registered.has(L))throw new Error(`${L} is already added to this registration`);const w=r.generateUuid();this._registrations.push({id:w,method:L,registerOptions:p||{}}),this._registered.add(L)}asRegistrationParams(){return{registrations:this._registrations}}}(function(A){function _(){return new Te(void 0,[])}A.create=_})(e.BulkUnregistration||(e.BulkUnregistration={}));class Te{constructor(_,p){this._connection=_,this._unregistrations=new Map,p.forEach(L=>{this._unregistrations.set(L.method,L)})}get isAttached(){return!!this._connection}attach(_){this._connection=_}add(_){this._unregistrations.set(_.method,_)}dispose(){let _=[];for(let L of this._unregistrations.values())_.push(L);let p={unregisterations:_};this._connection.sendRequest(t.UnregistrationRequest.type,p).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(_){const p=n.string(_)?_:_.method,L=this._unregistrations.get(p);if(!L)return!1;let w={unregisterations:[L]};return this._connection.sendRequest(t.UnregistrationRequest.type,w).then(()=>{this._unregistrations.delete(p)},ee=>{this._connection.console.info(`Un-registering request handler for ${L.id} failed.`)}),!0}}class le{attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}register(_,p,L){return _ instanceof fe?this.registerMany(_):_ instanceof Te?this.registerSingle1(_,p,L):this.registerSingle2(_,p)}registerSingle1(_,p,L){const w=n.string(p)?p:p.method,ee=r.generateUuid();let ve={registrations:[{id:ee,method:w,registerOptions:L||{}}]};return _.isAttached||_.attach(this.connection),this.connection.sendRequest(t.RegistrationRequest.type,ve).then(Xe=>(_.add({id:ee,method:w}),_),Xe=>(this.connection.console.info(`Registering request handler for ${w} failed.`),Promise.reject(Xe)))}registerSingle2(_,p){const L=n.string(_)?_:_.method,w=r.generateUuid();let ee={registrations:[{id:w,method:L,registerOptions:p||{}}]};return this.connection.sendRequest(t.RegistrationRequest.type,ee).then(ve=>t.Disposable.create(()=>{this.unregisterSingle(w,L).catch(()=>{this.connection.console.info(`Un-registering capability with id ${w} failed.`)})}),ve=>(this.connection.console.info(`Registering request handler for ${L} failed.`),Promise.reject(ve)))}unregisterSingle(_,p){let L={unregisterations:[{id:_,method:p}]};return this.connection.sendRequest(t.UnregistrationRequest.type,L).catch(()=>{this.connection.console.info(`Un-registering request handler for ${_} failed.`)})}registerMany(_){let p=_.asRegistrationParams();return this.connection.sendRequest(t.RegistrationRequest.type,p).then(()=>new Te(this._connection,p.registrations.map(L=>({id:L.id,method:L.method}))),L=>(this.connection.console.info("Bulk registration failed."),Promise.reject(L)))}}class Be{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}applyEdit(_){function p(w){return w&&!!w.edit}let L=p(_)?_:{edit:_};return this.connection.sendRequest(t.ApplyWorkspaceEditRequest.type,L)}}const P=(0,b.FileOperationsFeature)((0,a.WorkspaceFoldersFeature)((0,o.ConfigurationFeature)(Be)));class s{constructor(){this._trace=t.Trace.Off}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}set trace(_){this._trace=_}log(_,p){this._trace!==t.Trace.Off&&this.connection.sendNotification(t.LogTraceNotification.type,{message:_,verbose:this._trace===t.Trace.Verbose?p:void 0}).catch(()=>{})}}class v{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}logEvent(_){this.connection.sendNotification(t.TelemetryEventNotification.type,_).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class C{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}attachWorkDoneProgress(_){return(0,i.attachWorkDone)(this.connection,_)}attachPartialResultProgress(_,p){return(0,i.attachPartialResult)(this.connection,p)}}e._LanguagesImpl=C;const E=(0,I.MonikerFeature)((0,z.DiagnosticFeature)((0,q.InlayHintFeature)((0,m.InlineValueFeature)((0,y.TypeHierarchyFeature)((0,R.LinkedEditingRangeFeature)((0,d.SemanticTokensFeature)((0,u.CallHierarchyFeature)(C))))))));class U{constructor(){}attach(_){this._connection=_}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(_){}fillServerCapabilities(_){}attachWorkDoneProgress(_){return(0,i.attachWorkDone)(this.connection,_)}attachPartialResultProgress(_,p){return(0,i.attachPartialResult)(this.connection,p)}}e._NotebooksImpl=U;const ge=(0,Q.NotebookSyncFeature)(U);function yn(A,_){return function(p){return _(A(p))}}e.combineConsoleFeatures=yn;function Ue(A,_){return function(p){return _(A(p))}}e.combineTelemetryFeatures=Ue;function Ve(A,_){return function(p){return _(A(p))}}e.combineTracerFeatures=Ve;function et(A,_){return function(p){return _(A(p))}}e.combineClientFeatures=et;function Je(A,_){return function(p){return _(A(p))}}e.combineWindowFeatures=Je;function tt(A,_){return function(p){return _(A(p))}}e.combineWorkspaceFeatures=tt;function nt(A,_){return function(p){return _(A(p))}}e.combineLanguagesFeatures=nt;function lt(A,_){return function(p){return _(A(p))}}e.combineNotebooksFeatures=lt;function Le(A,_){function p(w,ee,ve){return w&&ee?ve(w,ee):w||ee}return{__brand:"features",console:p(A.console,_.console,yn),tracer:p(A.tracer,_.tracer,Ve),telemetry:p(A.telemetry,_.telemetry,Ue),client:p(A.client,_.client,et),window:p(A.window,_.window,Je),workspace:p(A.workspace,_.workspace,tt),languages:p(A.languages,_.languages,nt),notebooks:p(A.notebooks,_.notebooks,lt)}}e.combineFeatures=Le;function Ae(A,_,p){const L=p&&p.console?new(p.console(be)):new be,w=A(L);L.rawAttach(w);const ee=p&&p.tracer?new(p.tracer(s)):new s,ve=p&&p.telemetry?new(p.telemetry(v)):new v,Xe=p&&p.client?new(p.client(le)):new le,At=p&&p.window?new(p.window(we)):new we,It=p&&p.workspace?new(p.workspace(P)):new P,Wt=p&&p.languages?new(p.languages(E)):new E,Se=p&&p.notebooks?new(p.notebooks(ge)):new ge,rt=[L,ee,ve,Xe,At,It,Wt,Se];function jr(D){return D instanceof Promise?D:n.thenable(D)?new Promise((T,O)=>{D.then(Ce=>T(Ce),Ce=>O(Ce))}):Promise.resolve(D)}let gt,_t,bt,Ie={listen:()=>w.listen(),sendRequest:(D,...T)=>w.sendRequest(n.string(D)?D:D.method,...T),onRequest:(D,T)=>w.onRequest(D,T),sendNotification:(D,T)=>{const O=n.string(D)?D:D.method;return arguments.length===1?w.sendNotification(O):w.sendNotification(O,T)},onNotification:(D,T)=>w.onNotification(D,T),onProgress:w.onProgress,sendProgress:w.sendProgress,onInitialize:D=>(_t=D,{dispose:()=>{_t=void 0}}),onInitialized:D=>w.onNotification(t.InitializedNotification.type,D),onShutdown:D=>(gt=D,{dispose:()=>{gt=void 0}}),onExit:D=>(bt=D,{dispose:()=>{bt=void 0}}),get console(){return L},get telemetry(){return ve},get tracer(){return ee},get client(){return Xe},get window(){return At},get workspace(){return It},get languages(){return Wt},get notebooks(){return Se},onDidChangeConfiguration:D=>w.onNotification(t.DidChangeConfigurationNotification.type,D),onDidChangeWatchedFiles:D=>w.onNotification(t.DidChangeWatchedFilesNotification.type,D),__textDocumentSync:void 0,onDidOpenTextDocument:D=>w.onNotification(t.DidOpenTextDocumentNotification.type,D),onDidChangeTextDocument:D=>w.onNotification(t.DidChangeTextDocumentNotification.type,D),onDidCloseTextDocument:D=>w.onNotification(t.DidCloseTextDocumentNotification.type,D),onWillSaveTextDocument:D=>w.onNotification(t.WillSaveTextDocumentNotification.type,D),onWillSaveTextDocumentWaitUntil:D=>w.onRequest(t.WillSaveTextDocumentWaitUntilRequest.type,D),onDidSaveTextDocument:D=>w.onNotification(t.DidSaveTextDocumentNotification.type,D),sendDiagnostics:D=>w.sendNotification(t.PublishDiagnosticsNotification.type,D),onHover:D=>w.onRequest(t.HoverRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),void 0)),onCompletion:D=>w.onRequest(t.CompletionRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onCompletionResolve:D=>w.onRequest(t.CompletionResolveRequest.type,D),onSignatureHelp:D=>w.onRequest(t.SignatureHelpRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),void 0)),onDeclaration:D=>w.onRequest(t.DeclarationRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onDefinition:D=>w.onRequest(t.DefinitionRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onTypeDefinition:D=>w.onRequest(t.TypeDefinitionRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onImplementation:D=>w.onRequest(t.ImplementationRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onReferences:D=>w.onRequest(t.ReferencesRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onDocumentHighlight:D=>w.onRequest(t.DocumentHighlightRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onDocumentSymbol:D=>w.onRequest(t.DocumentSymbolRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onWorkspaceSymbol:D=>w.onRequest(t.WorkspaceSymbolRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onWorkspaceSymbolResolve:D=>w.onRequest(t.WorkspaceSymbolResolveRequest.type,D),onCodeAction:D=>w.onRequest(t.CodeActionRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onCodeActionResolve:D=>w.onRequest(t.CodeActionResolveRequest.type,(T,O)=>D(T,O)),onCodeLens:D=>w.onRequest(t.CodeLensRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onCodeLensResolve:D=>w.onRequest(t.CodeLensResolveRequest.type,(T,O)=>D(T,O)),onDocumentFormatting:D=>w.onRequest(t.DocumentFormattingRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),void 0)),onDocumentRangeFormatting:D=>w.onRequest(t.DocumentRangeFormattingRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),void 0)),onDocumentOnTypeFormatting:D=>w.onRequest(t.DocumentOnTypeFormattingRequest.type,(T,O)=>D(T,O)),onRenameRequest:D=>w.onRequest(t.RenameRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),void 0)),onPrepareRename:D=>w.onRequest(t.PrepareRenameRequest.type,(T,O)=>D(T,O)),onDocumentLinks:D=>w.onRequest(t.DocumentLinkRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onDocumentLinkResolve:D=>w.onRequest(t.DocumentLinkResolveRequest.type,(T,O)=>D(T,O)),onDocumentColor:D=>w.onRequest(t.DocumentColorRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onColorPresentation:D=>w.onRequest(t.ColorPresentationRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onFoldingRanges:D=>w.onRequest(t.FoldingRangeRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onSelectionRanges:D=>w.onRequest(t.SelectionRangeRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),(0,i.attachPartialResult)(w,T))),onExecuteCommand:D=>w.onRequest(t.ExecuteCommandRequest.type,(T,O)=>D(T,O,(0,i.attachWorkDone)(w,T),void 0)),dispose:()=>w.dispose()};for(let D of rt)D.attach(Ie);return w.onRequest(t.InitializeRequest.type,D=>{_.initialize(D),n.string(D.trace)&&(ee.trace=t.Trace.fromString(D.trace));for(let T of rt)T.initialize(D.capabilities);if(_t){let T=_t(D,new t.CancellationTokenSource().token,(0,i.attachWorkDone)(w,D),void 0);return jr(T).then(O=>{if(O instanceof t.ResponseError)return O;let Ce=O;Ce||(Ce={capabilities:{}});let ke=Ce.capabilities;ke||(ke={},Ce.capabilities=ke),ke.textDocumentSync===void 0||ke.textDocumentSync===null?ke.textDocumentSync=n.number(Ie.__textDocumentSync)?Ie.__textDocumentSync:t.TextDocumentSyncKind.None:!n.number(ke.textDocumentSync)&&!n.number(ke.textDocumentSync.change)&&(ke.textDocumentSync.change=n.number(Ie.__textDocumentSync)?Ie.__textDocumentSync:t.TextDocumentSyncKind.None);for(let pn of rt)pn.fillServerCapabilities(ke);return Ce})}else{let T={capabilities:{textDocumentSync:t.TextDocumentSyncKind.None}};for(let O of rt)O.fillServerCapabilities(T.capabilities);return T}}),w.onRequest(t.ShutdownRequest.type,()=>{if(_.shutdownReceived=!0,gt)return gt(new t.CancellationTokenSource().token)}),w.onNotification(t.ExitNotification.type,()=>{try{bt&&bt()}finally{_.shutdownReceived?_.exit(0):_.exit(1)}}),w.onNotification(t.SetTraceNotification.type,D=>{ee.trace=t.Trace.fromString(D.value)}),Ie}e.createConnection=Ae}(Pi),function(e){var t=ae&&ae.__createBinding||(Object.create?function(a,u,d,l){l===void 0&&(l=d);var b=Object.getOwnPropertyDescriptor(u,d);(!b||("get"in b?!u.__esModule:b.writable||b.configurable))&&(b={enumerable:!0,get:function(){return u[d]}}),Object.defineProperty(a,l,b)}:function(a,u,d,l){l===void 0&&(l=d),a[l]=u[d]}),n=ae&&ae.__exportStar||function(a,u){for(var d in a)d!=="default"&&!Object.prototype.hasOwnProperty.call(u,d)&&t(u,a,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.ProposedFeatures=e.NotebookDocuments=e.TextDocuments=e.SemanticTokensBuilder=void 0;const r=Ne;Object.defineProperty(e,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}}),n(de,e);const i=Ft;Object.defineProperty(e,"TextDocuments",{enumerable:!0,get:function(){return i.TextDocuments}});const o=xe;Object.defineProperty(e,"NotebookDocuments",{enumerable:!0,get:function(){return o.NotebookDocuments}}),n(Pi,e),function(a){a.all={__brand:"features"}}(e.ProposedFeatures||(e.ProposedFeatures={}))}(kn);var sc=de;(function(e){var t=ae&&ae.__createBinding||(Object.create?function(u,d,l,b){b===void 0&&(b=l);var R=Object.getOwnPropertyDescriptor(d,l);(!R||("get"in R?!d.__esModule:R.writable||R.configurable))&&(R={enumerable:!0,get:function(){return d[l]}}),Object.defineProperty(u,b,R)}:function(u,d,l,b){b===void 0&&(b=l),u[b]=d[l]}),n=ae&&ae.__exportStar||function(u,d){for(var l in u)l!=="default"&&!Object.prototype.hasOwnProperty.call(d,l)&&t(d,u,l)};Object.defineProperty(e,"__esModule",{value:!0}),e.createConnection=void 0;const r=kn;n(sc,e),n(kn,e);let i=!1;const o={initialize:u=>{},get shutdownReceived(){return i},set shutdownReceived(u){i=u},exit:u=>{}};function a(u,d,l,b){let R,y,m,q;u!==void 0&&u.__brand==="features"&&(R=u,u=d,d=l,l=b),r.ConnectionStrategy.is(u)||r.ConnectionOptions.is(u)?q=u:(y=u,m=d,q=l);const z=Q=>(0,r.createProtocolConnection)(y,m,Q,q);return(0,r.createConnection)(z,o,R)}e.createConnection=a})(Br);var Nr=Br;zr().then(()=>{const e=new Nr.BrowserMessageReader(self),t=new Nr.BrowserMessageWriter(self);let n;const r=Nr.createConnection(e,t);function i(u,d){return r.sendNotification(u,d),!0}async function o(u,d){return await r.sendRequest(u,d)}async function a(u){return await r.sendRequest("slint/load_file",u)}r.onInitialize(u=>(n=Bi(u,i,o,a),n.server_initialize_result(u.capabilities))),r.onRequest(async(u,d,l)=>await n.handle_request(l,u,d)),r.onNotification("slint/preview_to_lsp",async u=>{await n.process_preview_to_lsp_message(u)}),r.onDidChangeTextDocument(async u=>{await n.reload_document(u.contentChanges[u.contentChanges.length-1].text,u.textDocument.uri,u.textDocument.version)}),r.onDidOpenTextDocument(async u=>{await n.reload_document(u.textDocument.text,u.textDocument.uri,u.textDocument.version)}),r.onDidChangeConfiguration(async u=>{await n.reload_config()}),r.listen(),self.postMessage("OK")})})();
