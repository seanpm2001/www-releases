(function(){"use strict";let p;const Ue=new Array(128).fill(void 0);Ue.push(void 0,null,!0,!1);function c(t){return Ue[t]}let Kt=Ue.length;function xs(t){t<132||(Ue[t]=Kt,Kt=t)}function fe(t){const e=c(t);return xs(t),e}const Ro=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&Ro.decode();let Gt=null;function En(){return(Gt===null||Gt.byteLength===0)&&(Gt=new Uint8Array(p.memory.buffer)),Gt}function A(t,e){return t=t>>>0,Ro.decode(En().subarray(t,t+e))}function f(t){Kt===Ue.length&&Ue.push(Ue.length+1);const e=Kt;return Kt=Ue[e],Ue[e]=t,e}let U=0;const Nn=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},zs=typeof Nn.encodeInto=="function"?function(t,e){return Nn.encodeInto(t,e)}:function(t,e){const n=Nn.encode(t);return e.set(n),{read:t.length,written:n.length}};function X(t,e,n){if(n===void 0){const d=Nn.encode(t),g=e(d.length,1)>>>0;return En().subarray(g,g+d.length).set(d),U=d.length,g}let r=t.length,i=e(r,1)>>>0;const o=En();let s=0;for(;s<r;s++){const d=t.charCodeAt(s);if(d>127)break;o[i+s]=d}if(s!==r){s!==0&&(t=t.slice(s)),i=n(i,r,r=s+t.length*3,1)>>>0;const d=En().subarray(i+s,i+r),g=zs(t,d);s+=g.written,i=n(i,r,s,1)>>>0}return U=s,i}function j(t){return t==null}let Zt=null;function k(){return(Zt===null||Zt.byteLength===0)&&(Zt=new Int32Array(p.memory.buffer)),Zt}let en=null;function Bs(){return(en===null||en.byteLength===0)&&(en=new Float64Array(p.memory.buffer)),en}let tn=null;function Us(){return(tn===null||tn.byteLength===0)&&(tn=new BigInt64Array(p.memory.buffer)),tn}function Jr(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let o="[";i>0&&(o+=Jr(t[0]));for(let s=1;s<i;s++)o+=", "+Jr(t[s]);return o+="]",o}const n=/\[object ([^\]]+)\]/.exec(toString.call(t));let r;if(n.length>1)r=n[1];else return toString.call(t);if(r=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:r}const jn=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>{p.__wbindgen_export_2.get(t.dtor)(t.a,t.b)});function nn(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},o=(...s)=>{i.cnt++;try{return r(i.a,i.b,...s)}finally{--i.cnt===0&&(p.__wbindgen_export_2.get(i.dtor)(i.a,i.b),i.a=0,jn.unregister(i))}};return o.original=i,jn.register(o,i,i),o}function rn(t,e,n){p._dyn_core__ops__function__Fn__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h4844fdc0a7029eec(t,e,f(n))}function Ee(t,e,n,r){const i={a:t,b:e,cnt:1,dtor:n},o=(...s)=>{i.cnt++;const d=i.a;i.a=0;try{return r(d,i.b,...s)}finally{--i.cnt===0?(p.__wbindgen_export_2.get(i.dtor)(d,i.b),jn.unregister(i)):i.a=d}};return o.original=i,jn.register(o,i,i),o}function Do(t,e){p._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h3040bdaa116cca5c(t,e)}function Ze(t,e,n){p._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h05aab97e4307c34e(t,e,f(n))}function To(t,e,n,r){p._dyn_core__ops__function__FnMut__A_B___Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hbb07f78b783ae645(t,e,f(n),f(r))}function C(t,e){try{return t.apply(this,e)}catch(n){p.__wbindgen_exn_store(f(n))}}function Vs(t,e,n,r){try{const d=p.__wbindgen_add_to_stack_pointer(-16);p.create(d,f(t),f(e),f(n),f(r));var i=k()[d/4+0],o=k()[d/4+1],s=k()[d/4+2];if(s)throw fe(o);return Qr.__wrap(i)}finally{p.__wbindgen_add_to_stack_pointer(16)}}let on=null;function Js(){return(on===null||on.byteLength===0)&&(on=new Float32Array(p.memory.buffer)),on}function Fn(t,e){return t=t>>>0,Js().subarray(t/4,t/4+e)}const Po=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>p.__wbg_previewconnector_free(t>>>0));class Xr{static __wrap(e){e=e>>>0;const n=Object.create(Xr.prototype);return n.__wbg_ptr=e,Po.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,Po.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_previewconnector_free(e)}static create(e,n,r,i){try{const g=p.__wbindgen_add_to_stack_pointer(-16),_=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),w=U;p.previewconnector_create(g,f(e),f(n),_,w,i);var o=k()[g/4+0],s=k()[g/4+1],d=k()[g/4+2];if(d)throw fe(s);return fe(o)}finally{p.__wbindgen_add_to_stack_pointer(16)}}current_style(){const e=p.previewconnector_current_style(this.__wbg_ptr);return fe(e)}show_ui(){try{const i=p.__wbindgen_add_to_stack_pointer(-16);p.previewconnector_show_ui(i,this.__wbg_ptr);var e=k()[i/4+0],n=k()[i/4+1],r=k()[i/4+2];if(r)throw fe(n);return fe(e)}finally{p.__wbindgen_add_to_stack_pointer(16)}}process_lsp_to_preview_message(e){try{const i=p.__wbindgen_add_to_stack_pointer(-16);p.previewconnector_process_lsp_to_preview_message(i,this.__wbg_ptr,f(e));var n=k()[i/4+0],r=k()[i/4+1];if(r)throw fe(n)}finally{p.__wbindgen_add_to_stack_pointer(16)}}}const ko=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(t=>p.__wbg_slintserver_free(t>>>0));class Qr{static __wrap(e){e=e>>>0;const n=Object.create(Qr.prototype);return n.__wbg_ptr=e,ko.register(n,n.__wbg_ptr,n),n}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,ko.unregister(this),e}free(){const e=this.__destroy_into_raw();p.__wbg_slintserver_free(e)}process_preview_to_lsp_message(e){const n=p.slintserver_process_preview_to_lsp_message(this.__wbg_ptr,f(e));return fe(n)}server_initialize_result(e){try{const o=p.__wbindgen_add_to_stack_pointer(-16);p.slintserver_server_initialize_result(o,this.__wbg_ptr,f(e));var n=k()[o/4+0],r=k()[o/4+1],i=k()[o/4+2];if(i)throw fe(r);return fe(n)}finally{p.__wbindgen_add_to_stack_pointer(16)}}reload_document(e,n,r){const i=X(e,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U,s=p.slintserver_reload_document(this.__wbg_ptr,i,o,f(n),r);return fe(s)}handle_request(e,n,r){const i=X(n,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U,s=p.slintserver_handle_request(this.__wbg_ptr,f(e),i,o,f(r));return fe(s)}reload_config(){const e=p.slintserver_reload_config(this.__wbg_ptr);return fe(e)}}async function Xs(t,e){if(typeof Response=="function"&&t instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(t,e)}catch(r){if(t.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r);else throw r}const n=await t.arrayBuffer();return await WebAssembly.instantiate(n,e)}else{const n=await WebAssembly.instantiate(t,e);return n instanceof WebAssembly.Instance?{instance:n,module:t}:n}}function Qs(){const t={};return t.wbg={},t.wbg.__wbg_new_abda76e883ba8a5f=function(){const e=new Error;return f(e)},t.wbg.__wbg_stack_658279fe44541cf6=function(e,n){const r=c(n).stack,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_error_f851667af71bcfc6=function(e,n){let r,i;try{r=e,i=n,console.error(A(e,n))}finally{p.__wbindgen_free(r,i,1)}},t.wbg.__wbindgen_object_drop_ref=function(e){fe(e)},t.wbg.__wbg_width_59e0563d9c871704=function(e){return c(e).width},t.wbg.__wbg_height_1a892edafac94d49=function(e){return c(e).height},t.wbg.__wbg_createTexture_c13c31b2b132c17f=function(e){const n=c(e).createTexture();return j(n)?0:f(n)},t.wbg.__wbg_createTexture_18b4a88c14cb086e=function(e){const n=c(e).createTexture();return j(n)?0:f(n)},t.wbg.__wbg_createProgram_9affbfa62b7b2608=function(e){const n=c(e).createProgram();return j(n)?0:f(n)},t.wbg.__wbg_createProgram_7759fb2effb5d9b3=function(e){const n=c(e).createProgram();return j(n)?0:f(n)},t.wbg.__wbg_attachShader_6397dc4fd87343d3=function(e,n,r){c(e).attachShader(c(n),c(r))},t.wbg.__wbg_attachShader_2112634b3ffa9e9f=function(e,n,r){c(e).attachShader(c(n),c(r))},t.wbg.__wbg_bindAttribLocation_7ab87f5815dce9f0=function(e,n,r,i,o){c(e).bindAttribLocation(c(n),r>>>0,A(i,o))},t.wbg.__wbg_bindAttribLocation_e05596ff4f5413c3=function(e,n,r,i,o){c(e).bindAttribLocation(c(n),r>>>0,A(i,o))},t.wbg.__wbg_linkProgram_af5fed9dc3f1cdf9=function(e,n){c(e).linkProgram(c(n))},t.wbg.__wbg_linkProgram_eabc664217816e72=function(e,n){c(e).linkProgram(c(n))},t.wbg.__wbg_getProgramParameter_10c8a43809fb8c2e=function(e,n,r){const i=c(e).getProgramParameter(c(n),r>>>0);return f(i)},t.wbg.__wbg_getProgramParameter_7b04ca71a79d9047=function(e,n,r){const i=c(e).getProgramParameter(c(n),r>>>0);return f(i)},t.wbg.__wbindgen_boolean_get=function(e){const n=c(e);return typeof n=="boolean"?n?1:0:2},t.wbg.__wbg_detachShader_2be0011a543a788a=function(e,n,r){c(e).detachShader(c(n),c(r))},t.wbg.__wbg_detachShader_6cdc9c293ddee02e=function(e,n,r){c(e).detachShader(c(n),c(r))},t.wbg.__wbg_getProgramInfoLog_bf1fba8fa90667c7=function(e,n,r){const i=c(n).getProgramInfoLog(c(r));var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),s=U;k()[e/4+1]=s,k()[e/4+0]=o},t.wbg.__wbg_getProgramInfoLog_4d189135f8d5a2de=function(e,n,r){const i=c(n).getProgramInfoLog(c(r));var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),s=U;k()[e/4+1]=s,k()[e/4+0]=o},t.wbg.__wbg_createShader_55ca04b44164bd41=function(e,n){const r=c(e).createShader(n>>>0);return j(r)?0:f(r)},t.wbg.__wbg_createShader_b474ef421ec0f80b=function(e,n){const r=c(e).createShader(n>>>0);return j(r)?0:f(r)},t.wbg.__wbg_shaderSource_7891a1fcb69a0023=function(e,n,r,i){c(e).shaderSource(c(n),A(r,i))},t.wbg.__wbg_shaderSource_7943d06f24862a3b=function(e,n,r,i){c(e).shaderSource(c(n),A(r,i))},t.wbg.__wbg_compileShader_3af4719dfdb508e3=function(e,n){c(e).compileShader(c(n))},t.wbg.__wbg_compileShader_f40e0c51a7a836fd=function(e,n){c(e).compileShader(c(n))},t.wbg.__wbg_getShaderParameter_60b69083e8d662ce=function(e,n,r){const i=c(e).getShaderParameter(c(n),r>>>0);return f(i)},t.wbg.__wbg_getShaderParameter_4ddb51279bb1500b=function(e,n,r){const i=c(e).getShaderParameter(c(n),r>>>0);return f(i)},t.wbg.__wbg_getShaderInfoLog_0262cb299092ce92=function(e,n,r){const i=c(n).getShaderInfoLog(c(r));var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),s=U;k()[e/4+1]=s,k()[e/4+0]=o},t.wbg.__wbg_getShaderInfoLog_d5de3e4eab06fc46=function(e,n,r){const i=c(n).getShaderInfoLog(c(r));var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),s=U;k()[e/4+1]=s,k()[e/4+0]=o},t.wbg.__wbg_uniform2fv_dcb8b73e2637092a=function(e,n,r,i){c(e).uniform2fv(c(n),Fn(r,i))},t.wbg.__wbg_uniform2fv_4bd352337ccc4530=function(e,n,r,i){c(e).uniform2fv(c(n),Fn(r,i))},t.wbg.__wbg_deleteFramebuffer_da681ed1dfa6d543=function(e,n){c(e).deleteFramebuffer(c(n))},t.wbg.__wbg_deleteFramebuffer_417b62b6156d4894=function(e,n){c(e).deleteFramebuffer(c(n))},t.wbg.__wbg_deleteRenderbuffer_5dcdde247a392125=function(e,n){c(e).deleteRenderbuffer(c(n))},t.wbg.__wbg_deleteRenderbuffer_d3aedb394b1ea546=function(e,n){c(e).deleteRenderbuffer(c(n))},t.wbg.__wbg_new_72fb9a18b5ae2624=function(){const e=new Object;return f(e)},t.wbg.__wbindgen_string_new=function(e,n){const r=A(e,n);return f(r)},t.wbg.__wbg_getContext_fec464290556673c=function(){return C(function(e,n,r,i){const o=c(e).getContext(A(n,r),c(i));return j(o)?0:f(o)},arguments)},t.wbg.__wbg_instanceof_WebGl2RenderingContext_6b8f92d566ced9e1=function(e){let n;try{n=c(e)instanceof WebGL2RenderingContext}catch{n=!1}return n},t.wbg.__wbg_getSupportedExtensions_7a174085f9e1983a=function(e){const n=c(e).getSupportedExtensions();return j(n)?0:f(n)},t.wbg.__wbg_length_cd7af8117672b8b8=function(e){return c(e).length},t.wbg.__wbg_get_bd8e338fbd5f5cc8=function(e,n){const r=c(e)[n>>>0];return f(r)},t.wbg.__wbindgen_string_get=function(e,n){const r=c(n),i=typeof r=="string"?r:void 0;var o=j(i)?0:X(i,p.__wbindgen_malloc,p.__wbindgen_realloc),s=U;k()[e/4+1]=s,k()[e/4+0]=o},t.wbg.__wbg_getParameter_aa9af66884d2b210=function(){return C(function(e,n){const r=c(e).getParameter(n>>>0);return f(r)},arguments)},t.wbg.__wbg_createVertexArrayOES_886be8a08db32ce6=function(e){const n=c(e).createVertexArrayOES();return j(n)?0:f(n)},t.wbg.__wbg_createVertexArray_4f450ed4d4a69acf=function(e){const n=c(e).createVertexArray();return j(n)?0:f(n)},t.wbg.__wbg_createBuffer_34e01f5c10929b41=function(e){const n=c(e).createBuffer();return j(n)?0:f(n)},t.wbg.__wbg_createBuffer_7f57647465d111f0=function(e){const n=c(e).createBuffer();return j(n)?0:f(n)},t.wbg.__wbg_getError_fd1f7b2b2ba5a860=function(e){return c(e).getError()},t.wbg.__wbg_getError_d02c89917f45dd5e=function(e){return c(e).getError()},t.wbg.__wbg_createFramebuffer_49ca64e9e1c6f5eb=function(e){const n=c(e).createFramebuffer();return j(n)?0:f(n)},t.wbg.__wbg_createFramebuffer_8ebfde8c77472024=function(e){const n=c(e).createFramebuffer();return j(n)?0:f(n)},t.wbg.__wbg_framebufferTexture2D_66e1968fd5b7b3e3=function(e,n,r,i,o,s){c(e).framebufferTexture2D(n>>>0,r>>>0,i>>>0,c(o),s)},t.wbg.__wbg_framebufferTexture2D_a6ad7148f7983ae6=function(e,n,r,i,o,s){c(e).framebufferTexture2D(n>>>0,r>>>0,i>>>0,c(o),s)},t.wbg.__wbg_createRenderbuffer_375d7f4004bc49bd=function(e){const n=c(e).createRenderbuffer();return j(n)?0:f(n)},t.wbg.__wbg_createRenderbuffer_340b1c428d564bfd=function(e){const n=c(e).createRenderbuffer();return j(n)?0:f(n)},t.wbg.__wbg_renderbufferStorage_f41b3c99f6a8f25e=function(e,n,r,i,o){c(e).renderbufferStorage(n>>>0,r>>>0,i,o)},t.wbg.__wbg_renderbufferStorage_ff5740fb95ecf231=function(e,n,r,i,o){c(e).renderbufferStorage(n>>>0,r>>>0,i,o)},t.wbg.__wbg_framebufferRenderbuffer_e1c9c64aea848b39=function(e,n,r,i,o){c(e).framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,c(o))},t.wbg.__wbg_framebufferRenderbuffer_0144c6e35e2edb19=function(e,n,r,i,o){c(e).framebufferRenderbuffer(n>>>0,r>>>0,i>>>0,c(o))},t.wbg.__wbg_checkFramebufferStatus_2380be4caf464ead=function(e,n){return c(e).checkFramebufferStatus(n>>>0)},t.wbg.__wbg_checkFramebufferStatus_faf497a8869b5585=function(e,n){return c(e).checkFramebufferStatus(n>>>0)},t.wbg.__wbg_scissor_75ba2245d4db0eaf=function(e,n,r,i,o){c(e).scissor(n,r,i,o)},t.wbg.__wbg_scissor_726eea865bbd6809=function(e,n,r,i,o){c(e).scissor(n,r,i,o)},t.wbg.__wbg_clearColor_42707553c40e0e0f=function(e,n,r,i,o){c(e).clearColor(n,r,i,o)},t.wbg.__wbg_clearColor_480962bfac4e1cbd=function(e,n,r,i,o){c(e).clearColor(n,r,i,o)},t.wbg.__wbg_clear_f9731a47df2e70d8=function(e,n){c(e).clear(n>>>0)},t.wbg.__wbg_clear_8e2508724944df18=function(e,n){c(e).clear(n>>>0)},t.wbg.__wbg_uniform4fv_980ce05d950ee599=function(e,n,r,i){c(e).uniform4fv(c(n),Fn(r,i))},t.wbg.__wbg_uniform4fv_39cdcce4b1acc767=function(e,n,r,i){c(e).uniform4fv(c(n),Fn(r,i))},t.wbg.__wbg_deleteTexture_eae7abcfa3015f09=function(e,n){c(e).deleteTexture(c(n))},t.wbg.__wbg_deleteTexture_f89d8e417b156960=function(e,n){c(e).deleteTexture(c(n))},t.wbg.__wbg_deleteShader_138a810cc0ca9986=function(e,n){c(e).deleteShader(c(n))},t.wbg.__wbg_deleteShader_e5c778f25b722e68=function(e,n){c(e).deleteShader(c(n))},t.wbg.__wbg_deleteProgram_a06d69620332cc70=function(e,n){c(e).deleteProgram(c(n))},t.wbg.__wbg_deleteProgram_641402f7551587d8=function(e,n){c(e).deleteProgram(c(n))},t.wbg.__wbg_useProgram_757fab437af29c20=function(e,n){c(e).useProgram(c(n))},t.wbg.__wbg_useProgram_c637e43f9cd4c07a=function(e,n){c(e).useProgram(c(n))},t.wbg.__wbg_bindBuffer_90d4fb91538001d5=function(e,n,r){c(e).bindBuffer(n>>>0,c(r))},t.wbg.__wbg_bindBuffer_1e5043751efddd4f=function(e,n,r){c(e).bindBuffer(n>>>0,c(r))},t.wbg.__wbg_bindFramebuffer_4f950b884dc4be83=function(e,n,r){c(e).bindFramebuffer(n>>>0,c(r))},t.wbg.__wbg_bindFramebuffer_c301d73a2c2842bb=function(e,n,r){c(e).bindFramebuffer(n>>>0,c(r))},t.wbg.__wbg_bindRenderbuffer_1e0b14f526ed7a9d=function(e,n,r){c(e).bindRenderbuffer(n>>>0,c(r))},t.wbg.__wbg_bindRenderbuffer_8ec7d02bd60bdfb2=function(e,n,r){c(e).bindRenderbuffer(n>>>0,c(r))},t.wbg.__wbg_bindVertexArray_239574d42dbbd203=function(e,n){c(e).bindVertexArray(c(n))},t.wbg.__wbg_bindVertexArrayOES_abe2fd389c6a2f56=function(e,n){c(e).bindVertexArrayOES(c(n))},t.wbg.__wbg_pixelStorei_054e50b5fdc17824=function(e,n,r){c(e).pixelStorei(n>>>0,r)},t.wbg.__wbg_pixelStorei_162a23ba7872b886=function(e,n,r){c(e).pixelStorei(n>>>0,r)},t.wbg.__wbg_disable_5dd8c3842de93e92=function(e,n){c(e).disable(n>>>0)},t.wbg.__wbg_disable_f0ef6e9a7ac6ddd7=function(e,n){c(e).disable(n>>>0)},t.wbg.__wbg_disableVertexAttribArray_12bc9adefa738796=function(e,n){c(e).disableVertexAttribArray(n>>>0)},t.wbg.__wbg_disableVertexAttribArray_e4f458e34e54fe78=function(e,n){c(e).disableVertexAttribArray(n>>>0)},t.wbg.__wbg_drawArrays_f619a26a53ab5ab3=function(e,n,r,i){c(e).drawArrays(n>>>0,r,i)},t.wbg.__wbg_drawArrays_5bf0d92947e472af=function(e,n,r,i){c(e).drawArrays(n>>>0,r,i)},t.wbg.__wbg_enable_7abe812a71c76206=function(e,n){c(e).enable(n>>>0)},t.wbg.__wbg_enable_8b3019da8846ce76=function(e,n){c(e).enable(n>>>0)},t.wbg.__wbg_enableVertexAttribArray_6d44444aa994f42a=function(e,n){c(e).enableVertexAttribArray(n>>>0)},t.wbg.__wbg_enableVertexAttribArray_9d7b7e199f86e09b=function(e,n){c(e).enableVertexAttribArray(n>>>0)},t.wbg.__wbg_getUniformLocation_6eedfb513ccce732=function(e,n,r,i){const o=c(e).getUniformLocation(c(n),A(r,i));return j(o)?0:f(o)},t.wbg.__wbg_getUniformLocation_51ec30e3755e574d=function(e,n,r,i){const o=c(e).getUniformLocation(c(n),A(r,i));return j(o)?0:f(o)},t.wbg.__wbg_generateMipmap_cd6c5ba2828aac7e=function(e,n){c(e).generateMipmap(n>>>0)},t.wbg.__wbg_generateMipmap_806e608c7c4d9b60=function(e,n){c(e).generateMipmap(n>>>0)},t.wbg.__wbg_texImage2D_a14a3c7863e25c89=function(){return C(function(e,n,r,i,o,s,d,g,_,w){c(e).texImage2D(n>>>0,r,i,o,s,d,g>>>0,_>>>0,c(w))},arguments)},t.wbg.__wbg_texImage2D_2558a70047650d54=function(){return C(function(e,n,r,i,o,s,d,g,_,w){c(e).texImage2D(n>>>0,r,i,o,s,d,g>>>0,_>>>0,c(w))},arguments)},t.wbg.__wbg_uniform1i_badd5ff70c0d30bf=function(e,n,r){c(e).uniform1i(c(n),r)},t.wbg.__wbg_uniform1i_bdcd75be097285e6=function(e,n,r){c(e).uniform1i(c(n),r)},t.wbg.__wbg_colorMask_03aa359acc86fd70=function(e,n,r,i,o){c(e).colorMask(n!==0,r!==0,i!==0,o!==0)},t.wbg.__wbg_colorMask_21a93d0180bcbffa=function(e,n,r,i,o){c(e).colorMask(n!==0,r!==0,i!==0,o!==0)},t.wbg.__wbg_bindTexture_75a698c47a923814=function(e,n,r){c(e).bindTexture(n>>>0,c(r))},t.wbg.__wbg_bindTexture_772f5eb022019d87=function(e,n,r){c(e).bindTexture(n>>>0,c(r))},t.wbg.__wbg_activeTexture_5f084e1b3f14853e=function(e,n){c(e).activeTexture(n>>>0)},t.wbg.__wbg_activeTexture_d42cec3a26e47a5b=function(e,n){c(e).activeTexture(n>>>0)},t.wbg.__wbg_texParameteri_d1035ed45d6c5655=function(e,n,r,i){c(e).texParameteri(n>>>0,r>>>0,i)},t.wbg.__wbg_texParameteri_8f70dffce11d7da1=function(e,n,r,i){c(e).texParameteri(n>>>0,r>>>0,i)},t.wbg.__wbg_texSubImage2D_55a407e48f3a5cb4=function(){return C(function(e,n,r,i,o,s,d,g,_,w){c(e).texSubImage2D(n>>>0,r,i,o,s,d,g>>>0,_>>>0,c(w))},arguments)},t.wbg.__wbg_texSubImage2D_b4ac5eac47418cc5=function(){return C(function(e,n,r,i,o,s,d,g,_,w){c(e).texSubImage2D(n>>>0,r,i,o,s,d,g>>>0,_>>>0,c(w))},arguments)},t.wbg.__wbg_texSubImage2D_b962ba533b866161=function(){return C(function(e,n,r,i,o,s,d,g,_,w){c(e).texSubImage2D(n>>>0,r,i,o,s,d,g>>>0,_>>>0,w)},arguments)},t.wbg.__wbg_vertexAttribPointer_c25e4c5ed17f8a1d=function(e,n,r,i,o,s,d){c(e).vertexAttribPointer(n>>>0,r,i>>>0,o!==0,s,d)},t.wbg.__wbg_vertexAttribPointer_4416f0325c02aa13=function(e,n,r,i,o,s,d){c(e).vertexAttribPointer(n>>>0,r,i>>>0,o!==0,s,d)},t.wbg.__wbg_viewport_221ade2aef6032c8=function(e,n,r,i,o){c(e).viewport(n,r,i,o)},t.wbg.__wbg_viewport_7414e7e2a83afc72=function(e,n,r,i,o){c(e).viewport(n,r,i,o)},t.wbg.__wbg_stencilFunc_9980bd97f7a51bcc=function(e,n,r,i){c(e).stencilFunc(n>>>0,r,i>>>0)},t.wbg.__wbg_stencilFunc_da7d66ef7f45669d=function(e,n,r,i){c(e).stencilFunc(n>>>0,r,i>>>0)},t.wbg.__wbg_stencilMask_c5ad44ea27c5f169=function(e,n){c(e).stencilMask(n>>>0)},t.wbg.__wbg_stencilMask_9abfc669d9c2a893=function(e,n){c(e).stencilMask(n>>>0)},t.wbg.__wbg_stencilOp_f851ac834ef05b40=function(e,n,r,i){c(e).stencilOp(n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_stencilOp_a085ec75f6ad3ff8=function(e,n,r,i){c(e).stencilOp(n>>>0,r>>>0,i>>>0)},t.wbg.__wbg_stencilOpSeparate_321604240216c55c=function(e,n,r,i,o){c(e).stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_stencilOpSeparate_2f2cc25254360270=function(e,n,r,i,o){c(e).stencilOpSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_devicePixelRatio_efc553b59506f64c=function(e){return c(e).devicePixelRatio},t.wbg.__wbg_document_5100775d18896c16=function(e){const n=c(e).document;return j(n)?0:f(n)},t.wbg.__wbg_getElementById_c369ff43f0db99cf=function(e,n,r){const i=c(e).getElementById(A(n,r));return j(i)?0:f(i)},t.wbg.__wbg_instanceof_HtmlCanvasElement_46bdbf323b0b18d1=function(e){let n;try{n=c(e)instanceof HTMLCanvasElement}catch{n=!1}return n},t.wbg.__wbg_setwidth_080107476e633963=function(e,n){c(e).width=n>>>0},t.wbg.__wbg_setheight_dc240617639f1f51=function(e,n){c(e).height=n>>>0},t.wbg.__wbg_clientWidth_7ea3915573b64350=function(e){return c(e).clientWidth},t.wbg.__wbg_clientHeight_d24efa25aa66e844=function(e){return c(e).clientHeight},t.wbg.__wbg_dataset_2dc9c005573ba3b5=function(e){const n=c(e).dataset;return f(n)},t.wbg.__wbg_get_2a1a5424f4996392=function(e,n,r,i){const o=c(n)[A(r,i)];var s=j(o)?0:X(o,p.__wbindgen_malloc,p.__wbindgen_realloc),d=U;k()[e/4+1]=d,k()[e/4+0]=s},t.wbg.__wbg_instanceof_HtmlInputElement_307512fe1252c849=function(e){let n;try{n=c(e)instanceof HTMLInputElement}catch{n=!1}return n},t.wbg.__wbg_style_c3fc3dd146182a2d=function(e){const n=c(e).style;return f(n)},t.wbg.__wbg_setProperty_ea7d15a2b591aa97=function(){return C(function(e,n,r,i,o){c(e).setProperty(A(n,r),A(i,o))},arguments)},t.wbg.__wbg_offsetLeft_f8785f97dde57216=function(e){return c(e).offsetLeft},t.wbg.__wbg_offsetTop_d164bbc281f71e80=function(e){return c(e).offsetTop},t.wbg.__wbg_offsetWidth_f7da5da36bd7ebc2=function(e){return c(e).offsetWidth},t.wbg.__wbg_offsetHeight_6a4b02ccf09957d7=function(e){return c(e).offsetHeight},t.wbg.__wbg_setAttribute_3c9f6c303b696daa=function(){return C(function(e,n,r,i,o){c(e).setAttribute(A(n,r),A(i,o))},arguments)},t.wbg.__wbg_before_210596e44d88649f=function(){return C(function(e,n){c(e).before(c(n))},arguments)},t.wbg.__wbindgen_object_clone_ref=function(e){const n=c(e);return f(n)},t.wbg.__wbg_addEventListener_53b787075bd5e003=function(){return C(function(e,n,r,i){c(e).addEventListener(A(n,r),c(i))},arguments)},t.wbg.__wbg_focus_39d4b8ba8ff9df14=function(){return C(function(e){c(e).focus()},arguments)},t.wbg.__wbg_setvalue_78cb4f1fef58ae98=function(e,n,r){c(e).value=A(n,r)},t.wbg.__wbg_data_f6efcce74d694398=function(e,n){const r=c(n).data;var i=j(r)?0:X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_isComposing_71872de364b1e1b7=function(e){return c(e).isComposing},t.wbg.__wbg_inputType_f005456592ece694=function(e,n){const r=c(n).inputType,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_preventDefault_b1a4aafc79409429=function(e){c(e).preventDefault()},t.wbg.__wbg_isComposing_a0b97b7ba6491ed6=function(e){return c(e).isComposing},t.wbg.__wbg_key_dccf9e8aa1315a8e=function(e,n){const r=c(n).key,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_shiftKey_5911baf439ab232b=function(e){return c(e).shiftKey},t.wbg.__wbg_ctrlKey_bb5b6fef87339703=function(e){return c(e).ctrlKey},t.wbg.__wbg_altKey_2e6c34c37088d8b1=function(e){return c(e).altKey},t.wbg.__wbg_getModifierState_081302a3ea0063ad=function(e,n,r){return c(e).getModifierState(A(n,r))},t.wbg.__wbg_repeat_f64b916c6eed0685=function(e){return c(e).repeat},t.wbg.__wbg_clipboardData_0427b2003659865a=function(e){const n=c(e).clipboardData;return j(n)?0:f(n)},t.wbg.__wbg_setData_dfe68ac4309307b3=function(){return C(function(e,n,r,i,o){c(e).setData(A(n,r),A(i,o))},arguments)},t.wbg.__wbg_getData_35c5974f5cd7e02c=function(){return C(function(e,n,r,i){const o=c(n).getData(A(r,i)),s=X(o,p.__wbindgen_malloc,p.__wbindgen_realloc),d=U;k()[e/4+1]=d,k()[e/4+0]=s},arguments)},t.wbg.__wbg_instanceof_CanvasRenderingContext2d_20bf99ccc051643b=function(e){let n;try{n=c(e)instanceof CanvasRenderingContext2D}catch{n=!1}return n},t.wbg.__wbg_setfont_a4d031cf2c94b4db=function(e,n,r){c(e).font=A(n,r)},t.wbg.__wbg_setfillStyle_4de94b275f5761f2=function(e,n){c(e).fillStyle=c(n)},t.wbg.__wbg_naturalWidth_71b3dd9a08fc5b67=function(e){return c(e).naturalWidth},t.wbg.__wbg_naturalHeight_28222166431eb854=function(e){return c(e).naturalHeight},t.wbg.__wbg_currentSrc_4c7fe1289340059b=function(e,n){const r=c(n).currentSrc,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_src_4486cdef354bb1c6=function(e,n){const r=c(n).src,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_new_e6ce9457ca710f38=function(){return C(function(){const e=new Image;return f(e)},arguments)},t.wbg.__wbg_setcrossOrigin_38f9141049af3dbf=function(e,n,r){c(e).crossOrigin=n===0?void 0:A(n,r)},t.wbg.__wbg_setonload_4b2d1fd60416c2dd=function(e,n){c(e).onload=c(n)},t.wbg.__wbg_setsrc_681ceacdf6845f60=function(e,n,r){c(e).src=A(n,r)},t.wbg.__wbindgen_cb_drop=function(e){const n=fe(e).original;return n.cnt--==1?(n.a=0,!0):!1},t.wbg.__wbg_new0_7d84e5b2cd9fdc73=function(){return f(new Date)},t.wbg.__wbg_getTime_2bc4375165f02d15=function(e){return c(e).getTime()},t.wbg.__wbindgen_number_new=function(e){return f(e)},t.wbg.__wbg_new_cf3ec55744a78578=function(e){const n=new Date(c(e));return f(n)},t.wbg.__wbg_getTimezoneOffset_38257122e236c190=function(e){return c(e).getTimezoneOffset()},t.wbg.__wbg_log_c0c5e0d6d276d6e2=function(e,n){console.log(A(e,n))},t.wbg.__wbg_cullFace_af37bb1c2d22ab73=function(e,n){c(e).cullFace(n>>>0)},t.wbg.__wbg_cullFace_fe427cdf8d0ea4e2=function(e,n){c(e).cullFace(n>>>0)},t.wbg.__wbg_frontFace_bb8a1ded6f52865e=function(e,n){c(e).frontFace(n>>>0)},t.wbg.__wbg_frontFace_41ab8e7ce3e48cae=function(e,n){c(e).frontFace(n>>>0)},t.wbg.__wbg_bufferData_5d1e6b8eaa7d23c8=function(e,n,r,i){c(e).bufferData(n>>>0,c(r),i>>>0)},t.wbg.__wbg_bufferData_c787516945ba48c2=function(e,n,r,i){c(e).bufferData(n>>>0,c(r),i>>>0)},t.wbg.__wbg_blendFuncSeparate_abe2ad4272c8365e=function(e,n,r,i,o){c(e).blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_blendFuncSeparate_3c342f57887c2900=function(e,n,r,i,o){c(e).blendFuncSeparate(n>>>0,r>>>0,i>>>0,o>>>0)},t.wbg.__wbg_readPixels_551d0505625c865b=function(){return C(function(e,n,r,i,o,s,d,g){c(e).readPixels(n,r,i,o,s>>>0,d>>>0,c(g))},arguments)},t.wbg.__wbg_readPixels_40ba392d7aaf6ac0=function(){return C(function(e,n,r,i,o,s,d,g){c(e).readPixels(n,r,i,o,s>>>0,d>>>0,c(g))},arguments)},t.wbg.__wbg_deleteVertexArray_67635c7fe59aa660=function(e,n){c(e).deleteVertexArray(c(n))},t.wbg.__wbg_deleteVertexArrayOES_153f352862874f30=function(e,n){c(e).deleteVertexArrayOES(c(n))},t.wbg.__wbg_deleteBuffer_fca5d765302c9a4e=function(e,n){c(e).deleteBuffer(c(n))},t.wbg.__wbg_deleteBuffer_96df38349e3487d2=function(e,n){c(e).deleteBuffer(c(n))},t.wbg.__wbg_texSubImage2D_9d81b120742e204f=function(){return C(function(e,n,r,i,o,s,d,g){c(e).texSubImage2D(n>>>0,r,i,o,s>>>0,d>>>0,c(g))},arguments)},t.wbg.__wbg_texSubImage2D_96b5fd7a6e3f8db9=function(){return C(function(e,n,r,i,o,s,d,g){c(e).texSubImage2D(n>>>0,r,i,o,s>>>0,d>>>0,c(g))},arguments)},t.wbg.__wbg_setwidth_ddbe40b21941e3fa=function(e,n){c(e).width=n>>>0},t.wbg.__wbg_setheight_8a4aaecbc98412f2=function(e,n){c(e).height=n>>>0},t.wbg.__wbg_next_196c84450b364254=function(){return C(function(e){const n=c(e).next();return f(n)},arguments)},t.wbg.__wbg_done_298b57d23c0fc80c=function(e){return c(e).done},t.wbg.__wbg_value_d93c65011f51a456=function(e){const n=c(e).value;return f(n)},t.wbg.__wbg_iterator_2cee6dadfd956dfa=function(){return f(Symbol.iterator)},t.wbg.__wbg_get_e3c254076557e348=function(){return C(function(e,n){const r=Reflect.get(c(e),c(n));return f(r)},arguments)},t.wbg.__wbindgen_is_function=function(e){return typeof c(e)=="function"},t.wbg.__wbindgen_is_object=function(e){const n=c(e);return typeof n=="object"&&n!==null},t.wbg.__wbg_next_40fc327bfc8770e6=function(e){const n=c(e).next;return f(n)},t.wbg.__wbg_call_27c0f87801dedf93=function(){return C(function(e,n){const r=c(e).call(c(n));return f(r)},arguments)},t.wbg.__wbg_self_ce0dbfc45cf2f5be=function(){return C(function(){const e=self.self;return f(e)},arguments)},t.wbg.__wbg_window_c6fb939a7f436783=function(){return C(function(){const e=window.window;return f(e)},arguments)},t.wbg.__wbg_globalThis_d1e6af4856ba331b=function(){return C(function(){const e=globalThis.globalThis;return f(e)},arguments)},t.wbg.__wbg_global_207b558942527489=function(){return C(function(){const e=global.global;return f(e)},arguments)},t.wbg.__wbindgen_is_undefined=function(e){return c(e)===void 0},t.wbg.__wbg_newnoargs_e258087cd0daa0ea=function(e,n){const r=new Function(A(e,n));return f(r)},t.wbg.__wbg_call_b3ca7c6051f9bec1=function(){return C(function(e,n,r){const i=c(e).call(c(n),c(r));return f(i)},arguments)},t.wbg.__wbg_call_8e7cb608789c2528=function(){return C(function(e,n,r,i){const o=c(e).call(c(n),c(r),c(i));return f(o)},arguments)},t.wbg.__wbindgen_memory=function(){const e=p.memory;return f(e)},t.wbg.__wbg_buffer_12d079cc21e14bdb=function(e){const n=c(e).buffer;return f(n)},t.wbg.__wbg_newwithbyteoffsetandlength_aa4a17c33a06e5cb=function(e,n,r){const i=new Uint8Array(c(e),n>>>0,r>>>0);return f(i)},t.wbg.__wbg_length_c20a40f15020d68a=function(e){return c(e).length},t.wbg.__wbg_new_63b92bc8671ed464=function(e){const n=new Uint8Array(c(e));return f(n)},t.wbg.__wbg_set_a47bac70306a19a7=function(e,n,r){c(e).set(c(n),r>>>0)},t.wbg.__wbg_set_1f9b04f170055d33=function(){return C(function(e,n,r){return Reflect.set(c(e),c(n),c(r))},arguments)},t.wbg.__wbindgen_error_new=function(e,n){const r=new Error(A(e,n));return f(r)},t.wbg.__wbindgen_jsval_loose_eq=function(e,n){return c(e)==c(n)},t.wbg.__wbindgen_number_get=function(e,n){const r=c(n),i=typeof r=="number"?r:void 0;Bs()[e/8+1]=j(i)?0:i,k()[e/4+0]=!j(i)},t.wbg.__wbg_instanceof_Uint8Array_2b3bbecd033d19f6=function(e){let n;try{n=c(e)instanceof Uint8Array}catch{n=!1}return n},t.wbg.__wbg_instanceof_ArrayBuffer_836825be07d4c9d2=function(e){let n;try{n=c(e)instanceof ArrayBuffer}catch{n=!1}return n},t.wbg.__wbg_entries_95cc2c823b285a09=function(e){const n=Object.entries(c(e));return f(n)},t.wbg.__wbg_isSafeInteger_f7b04ef02296c4d2=function(e){return Number.isSafeInteger(c(e))},t.wbg.__wbindgen_as_number=function(e){return+c(e)},t.wbg.__wbg_String_b9412f8799faab3e=function(e,n){const r=String(c(n)),i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbindgen_bigint_from_i64=function(e){return f(e)},t.wbg.__wbindgen_bigint_from_u64=function(e){const n=BigInt.asUintN(64,e);return f(n)},t.wbg.__wbg_isArray_2ab64d95e09ea0ae=function(e){return Array.isArray(c(e))},t.wbg.__wbg_set_f975102236d3c502=function(e,n,r){c(e)[fe(n)]=fe(r)},t.wbg.__wbg_new_16b304a2cfa7ff4a=function(){const e=new Array;return f(e)},t.wbg.__wbg_set_d4638f722068f043=function(e,n,r){c(e)[n>>>0]=fe(r)},t.wbg.__wbg_new_d9bc3a0147634640=function(){return f(new Map)},t.wbg.__wbg_set_8417257aaedc936b=function(e,n,r){const i=c(e).set(c(n),c(r));return f(i)},t.wbg.__wbindgen_is_string=function(e){return typeof c(e)=="string"},t.wbg.__wbg_new_81740750da40724f=function(e,n){try{var r={a:e,b:n},i=(s,d)=>{const g=r.a;r.a=0;try{return To(g,r.b,s,d)}finally{r.a=g}};const o=new Promise(i);return f(o)}finally{r.a=r.b=0}},t.wbg.__wbindgen_is_bigint=function(e){return typeof c(e)=="bigint"},t.wbg.__wbindgen_bigint_get_as_i64=function(e,n){const r=c(n),i=typeof r=="bigint"?r:void 0;Us()[e/8+1]=j(i)?BigInt(0):i,k()[e/4+0]=!j(i)},t.wbg.__wbindgen_jsval_eq=function(e,n){return c(e)===c(n)},t.wbg.__wbindgen_in=function(e,n){return c(e)in c(n)},t.wbg.__wbg_instanceof_Map_87917e0a7aaf4012=function(e){let n;try{n=c(e)instanceof Map}catch{n=!1}return n},t.wbg.__wbg_getwithrefkey_edc2c8960f0f1191=function(e,n){const r=c(e)[c(n)];return f(r)},t.wbg.__wbg_previewconnector_new=function(e){const n=Xr.__wrap(e);return f(n)},t.wbg.__wbindgen_debug_string=function(e,n){const r=Jr(c(n)),i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbindgen_throw=function(e,n){throw new Error(A(e,n))},t.wbg.__wbg_then_0c86a60e8fcfe9f6=function(e,n){const r=c(e).then(c(n));return f(r)},t.wbg.__wbg_queueMicrotask_481971b0d87f3dd4=function(e){queueMicrotask(c(e))},t.wbg.__wbg_then_a73caa9a87991566=function(e,n,r){const i=c(e).then(c(n),c(r));return f(i)},t.wbg.__wbg_queueMicrotask_3cbae2ec6b6cd3d6=function(e){const n=c(e).queueMicrotask;return f(n)},t.wbg.__wbg_resolve_b0083a7967828ec8=function(e){const n=Promise.resolve(c(e));return f(n)},t.wbg.__wbg_getExtension_bef4112494c87f34=function(){return C(function(e,n,r){const i=c(e).getExtension(A(n,r));return j(i)?0:f(i)},arguments)},t.wbg.__wbg_matchMedia_66bb21e3ef19270c=function(){return C(function(e,n,r){const i=c(e).matchMedia(A(n,r));return j(i)?0:f(i)},arguments)},t.wbg.__wbg_setTimeout_d2b9a986d10a6182=function(){return C(function(e,n){return c(e).setTimeout(c(n))},arguments)},t.wbg.__wbg_createElement_8bae7856a4bb7411=function(){return C(function(e,n,r){const i=c(e).createElement(A(n,r));return f(i)},arguments)},t.wbg.__wbg_matches_fb52713cfe1d20c6=function(){return C(function(e,n,r){return c(e).matches(A(n,r))},arguments)},t.wbg.__wbg_fillText_6dfde0e3b04c85db=function(){return C(function(e,n,r,i,o){c(e).fillText(A(n,r),i,o)},arguments)},t.wbg.__wbg_instanceof_Window_f401953a2cf86220=function(e){let n;try{n=c(e)instanceof Window}catch{n=!1}return n},t.wbg.__wbg_new_0d76b0581eca6298=function(){return C(function(){const e=new AbortController;return f(e)},arguments)},t.wbg.__wbg_new_34615e164dc78975=function(){return C(function(){const e=new MessageChannel;return f(e)},arguments)},t.wbg.__wbg_data_1d8005e6d66d881b=function(e,n){const r=c(n).data;var i=j(r)?0:X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_getContext_df50fa48a8876636=function(){return C(function(e,n,r){const i=c(e).getContext(A(n,r));return j(i)?0:f(i)},arguments)},t.wbg.__wbg_now_abd80e969af37148=function(e){return c(e).now()},t.wbg.__wbg_performance_a1b8bde2ee512264=function(e){const n=c(e).performance;return f(n)},t.wbg.__wbg_movementX_b800a0cacd14d9bf=function(e){return c(e).movementX},t.wbg.__wbg_movementY_7907e03eb8c0ea1e=function(e){return c(e).movementY},t.wbg.__wbg_scheduler_4fc7a45354b815e3=function(e){const n=c(e).scheduler;return f(n)},t.wbg.__wbg_signal_a61f78a3478fd9bc=function(e){const n=c(e).signal;return f(n)},t.wbg.__wbg_postTask_3f33b4f170ffa265=function(e,n,r){const i=c(e).postTask(c(n),c(r));return f(i)},t.wbg.__wbg_catch_0260e338d10f79ae=function(e,n){const r=c(e).catch(c(n));return f(r)},t.wbg.__wbg_port1_d51a1bd2c33125d0=function(e){const n=c(e).port1;return f(n)},t.wbg.__wbg_setonmessage_93bdba94dcd46c04=function(e,n){c(e).onmessage=c(n)},t.wbg.__wbg_start_5a293222bc398f51=function(e){c(e).start()},t.wbg.__wbg_port2_f522a81e92362e7e=function(e){const n=c(e).port2;return f(n)},t.wbg.__wbg_requestIdleCallback_cee8e1d6bdcfae9e=function(){return C(function(e,n){return c(e).requestIdleCallback(c(n))},arguments)},t.wbg.__wbg_setTimeout_c172d5704ef82276=function(){return C(function(e,n,r){return c(e).setTimeout(c(n),r)},arguments)},t.wbg.__wbg_new_d1187ae36d662ef9=function(){return C(function(e,n){const r=new Worker(A(e,n));return f(r)},arguments)},t.wbg.__wbg_of_647f9238b4d5407a=function(e,n){const r=Array.of(c(e),c(n));return f(r)},t.wbg.__wbg_of_4a2b313a453ec059=function(e){const n=Array.of(c(e));return f(n)},t.wbg.__wbg_postMessage_d8e032ebcfacd008=function(){return C(function(e,n,r){c(e).postMessage(c(n),c(r))},arguments)},t.wbg.__wbg_cancelAnimationFrame_111532f326e480af=function(){return C(function(e,n){c(e).cancelAnimationFrame(n)},arguments)},t.wbg.__wbg_persisted_cbb7e3c657029516=function(e){return c(e).persisted},t.wbg.__wbg_matches_e14ed9ff8291cf24=function(e){return c(e).matches},t.wbg.__wbg_pointerType_0f2f0383406aa7fa=function(e,n){const r=c(n).pointerType,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_pointerId_e030fa156647fedd=function(e){return c(e).pointerId},t.wbg.__wbg_buttons_d004fa75ac704227=function(e){return c(e).buttons},t.wbg.__wbg_pressure_99cd07399f942a7c=function(e){return c(e).pressure},t.wbg.__wbg_setPointerCapture_0fdaad7a916c8486=function(){return C(function(e,n){c(e).setPointerCapture(n)},arguments)},t.wbg.__wbg_isIntersecting_082397a1d66e2e35=function(e){return c(e).isIntersecting},t.wbg.__wbg_postMessage_fbddfe9314af804e=function(){return C(function(e,n){c(e).postMessage(c(n))},arguments)},t.wbg.__wbg_contentRect_bce644376332c7a5=function(e){const n=c(e).contentRect;return f(n)},t.wbg.__wbg_width_1e8430024cb82aba=function(e){return c(e).width},t.wbg.__wbg_height_0c1394f089d7bb71=function(e){return c(e).height},t.wbg.__wbg_devicePixelContentBoxSize_d5bcdcd5e96671f3=function(e){const n=c(e).devicePixelContentBoxSize;return f(n)},t.wbg.__wbg_inlineSize_ff0e40258cefeba2=function(e){return c(e).inlineSize},t.wbg.__wbg_blockSize_73f4e5608c08713d=function(e){return c(e).blockSize},t.wbg.__wbg_revokeObjectURL_16a2051ee9d99da9=function(){return C(function(e,n){URL.revokeObjectURL(A(e,n))},arguments)},t.wbg.__wbg_newwithstrsequenceandoptions_ce1f1ca2d522b8aa=function(){return C(function(e,n){const r=new Blob(c(e),c(n));return f(r)},arguments)},t.wbg.__wbg_createObjectURL_ad8244759309f204=function(){return C(function(e,n){const r=URL.createObjectURL(c(n)),i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},arguments)},t.wbg.__wbg_abort_2aa7521d5690750e=function(e){c(e).abort()},t.wbg.__wbg_cancelIdleCallback_3a36cf77475b492b=function(e,n){c(e).cancelIdleCallback(n>>>0)},t.wbg.__wbg_clearTimeout_ba63ae54a36e111e=function(e,n){c(e).clearTimeout(n)},t.wbg.__wbg_close_a5883ed21dc3d115=function(e){c(e).close()},t.wbg.__wbg_queueMicrotask_558c84e2c24cea70=function(e){queueMicrotask(fe(e))},t.wbg.__wbg_disconnect_e694940ce6d0ef91=function(e){c(e).disconnect()},t.wbg.__wbg_disconnect_6675f32e2ae8deb7=function(e){c(e).disconnect()},t.wbg.__wbg_cancel_144700b3dcd15493=function(e){c(e).cancel()},t.wbg.__wbg_Window_d4d4718e300af0b1=function(e){const n=c(e).Window;return f(n)},t.wbg.__wbg_prototype_05da9447ef323551=function(){const e=ResizeObserverEntry.prototype;return f(e)},t.wbg.__wbg_getOwnPropertyDescriptor_fcb32c9a1f90b136=function(e,n){const r=Object.getOwnPropertyDescriptor(c(e),c(n));return f(r)},t.wbg.__wbg_removeEventListener_92cb9b3943463338=function(){return C(function(e,n,r,i){c(e).removeEventListener(A(n,r),c(i))},arguments)},t.wbg.__wbg_error_6e987ee48d9fdf45=function(e,n){console.error(c(e),c(n))},t.wbg.__wbg_navigator_6c8fa55c5cc8796e=function(e){const n=c(e).navigator;return f(n)},t.wbg.__wbg_userAgentData_0fe61c7aba94a045=function(e){const n=c(e).userAgentData;return j(n)?0:f(n)},t.wbg.__wbg_brands_aceea89b50fcb5ec=function(e){const n=c(e).brands;return f(n)},t.wbg.__wbg_brand_f78fce7b647dd684=function(e,n){const r=c(n).brand,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_userAgent_e94c7cbcdac01fea=function(){return C(function(e,n){const r=c(n).userAgent,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},arguments)},t.wbg.__wbg_getCoalescedEvents_6322b03ccf2a2933=function(e){const n=c(e).getCoalescedEvents;return f(n)},t.wbg.__wbg_requestFullscreen_96d00e8395472176=function(e){const n=c(e).requestFullscreen;return f(n)},t.wbg.__wbg_requestIdleCallback_0ea47061b0350f03=function(e){const n=c(e).requestIdleCallback;return f(n)},t.wbg.__wbg_scheduler_bf83535a97c64a0a=function(e){const n=c(e).scheduler;return f(n)},t.wbg.__wbg_webkitRequestFullscreen_45abf63660c6af24=function(e){c(e).webkitRequestFullscreen()},t.wbg.__wbg_requestFullscreen_acacec9f3fe00db3=function(e){const n=c(e).requestFullscreen();return f(n)},t.wbg.__wbg_webkitFullscreenElement_634db9fc3f6304ac=function(e){const n=c(e).webkitFullscreenElement;return j(n)?0:f(n)},t.wbg.__wbg_fullscreenElement_1bef71098bd8dfde=function(e){const n=c(e).fullscreenElement;return j(n)?0:f(n)},t.wbg.__wbg_is_010fdc0f4ab96916=function(e,n){return Object.is(c(e),c(n))},t.wbg.__wbg_button_367cdc7303e3cf9b=function(e){return c(e).button},t.wbg.__wbg_offsetX_423e9c31fbaf8688=function(e){return c(e).offsetX},t.wbg.__wbg_offsetY_d042645791df2332=function(e){return c(e).offsetY},t.wbg.__wbg_deltaX_206576827ededbe5=function(e){return c(e).deltaX},t.wbg.__wbg_deltaY_032e327e216f2b2b=function(e){return c(e).deltaY},t.wbg.__wbg_deltaMode_294b2eaf54047265=function(e){return c(e).deltaMode},t.wbg.__wbg_code_3b0c3912a2351163=function(e,n){const r=c(n).code,i=X(r,p.__wbindgen_malloc,p.__wbindgen_realloc),o=U;k()[e/4+1]=o,k()[e/4+0]=i},t.wbg.__wbg_location_f7b033ddfc516739=function(e){return c(e).location},t.wbg.__wbg_metaKey_6bf4ae4e83a11278=function(e){return c(e).metaKey},t.wbg.__wbg_shiftKey_1e76dbfcdd36a4b4=function(e){return c(e).shiftKey},t.wbg.__wbg_ctrlKey_008695ce60a588f5=function(e){return c(e).ctrlKey},t.wbg.__wbg_altKey_07da841b54bd3ed6=function(e){return c(e).altKey},t.wbg.__wbg_metaKey_86bfd3b0d3a8083f=function(e){return c(e).metaKey},t.wbg.__wbg_getCoalescedEvents_14b443b6f75837a2=function(e){const n=c(e).getCoalescedEvents();return f(n)},t.wbg.__wbg_contains_fdfd1dc667f36695=function(e,n){return c(e).contains(c(n))},t.wbg.__wbg_unobserve_55c93518cad6ac06=function(e,n){c(e).unobserve(c(n))},t.wbg.__wbg_observe_a79646ce7bb08cb8=function(e,n){c(e).observe(c(n))},t.wbg.__wbg_addListener_143ad0a501fabc3a=function(){return C(function(e,n){c(e).addListener(c(n))},arguments)},t.wbg.__wbg_animate_98420c6672309203=function(e,n,r){const i=c(e).animate(c(n),c(r));return f(i)},t.wbg.__wbg_play_a703fb0a280f2498=function(e){c(e).play()},t.wbg.__wbg_removeListener_46f3ee00c5b95320=function(){return C(function(e,n){c(e).removeListener(c(n))},arguments)},t.wbg.__wbg_webkitExitFullscreen_7b3f3a75d2f21506=function(e){c(e).webkitExitFullscreen()},t.wbg.__wbg_exitFullscreen_5679ad2b002921bd=function(e){c(e).exitFullscreen()},t.wbg.__wbg_getPropertyValue_fa32ee1811f224cb=function(){return C(function(e,n,r,i){const o=c(n).getPropertyValue(A(r,i)),s=X(o,p.__wbindgen_malloc,p.__wbindgen_realloc),d=U;k()[e/4+1]=d,k()[e/4+0]=s},arguments)},t.wbg.__wbg_removeProperty_fa6d48e2923dcfac=function(){return C(function(e,n,r,i){const o=c(n).removeProperty(A(r,i)),s=X(o,p.__wbindgen_malloc,p.__wbindgen_realloc),d=U;k()[e/4+1]=d,k()[e/4+0]=s},arguments)},t.wbg.__wbg_visibilityState_990071edf70b1c55=function(e){const n=c(e).visibilityState;return f(n)},t.wbg.__wbg_body_edb1908d3ceff3a1=function(e){const n=c(e).body;return j(n)?0:f(n)},t.wbg.__wbg_appendChild_580ccb11a660db68=function(){return C(function(e,n){const r=c(e).appendChild(c(n));return f(r)},arguments)},t.wbg.__wbg_getComputedStyle_078292ffe423aded=function(){return C(function(e,n){const r=c(e).getComputedStyle(c(n));return j(r)?0:f(r)},arguments)},t.wbg.__wbg_activeElement_fa7feca08f5028c0=function(e){const n=c(e).activeElement;return j(n)?0:f(n)},t.wbg.__wbg_new_61d4f20a1c08a45c=function(){return C(function(e){const n=new ResizeObserver(c(e));return f(n)},arguments)},t.wbg.__wbg_observe_dc0ebcd59ee7cd17=function(e,n,r){c(e).observe(c(n),c(r))},t.wbg.__wbg_new_4e95a9abecc83cd4=function(){return C(function(e){const n=new IntersectionObserver(c(e));return f(n)},arguments)},t.wbg.__wbg_observe_538a6d1df0deb993=function(e,n){c(e).observe(c(n))},t.wbg.__wbg_getBoundingClientRect_91e6d57c4e65f745=function(e){const n=c(e).getBoundingClientRect();return f(n)},t.wbg.__wbg_x_c0e76d143979338a=function(e){return c(e).x},t.wbg.__wbg_y_047a9fda606ab8ef=function(e){return c(e).y},t.wbg.__wbg_requestAnimationFrame_549258cfa66011f0=function(){return C(function(e,n){return c(e).requestAnimationFrame(c(n))},arguments)},t.wbg.__wbindgen_closure_wrapper3423=function(e,n,r){const i=nn(e,n,1302,rn);return f(i)},t.wbg.__wbindgen_closure_wrapper3424=function(e,n,r){const i=nn(e,n,1302,rn);return f(i)},t.wbg.__wbindgen_closure_wrapper3425=function(e,n,r){const i=nn(e,n,1302,rn);return f(i)},t.wbg.__wbindgen_closure_wrapper3426=function(e,n,r){const i=nn(e,n,1302,rn);return f(i)},t.wbg.__wbindgen_closure_wrapper3427=function(e,n,r){const i=nn(e,n,1302,rn);return f(i)},t.wbg.__wbindgen_closure_wrapper5687=function(e,n,r){const i=Ee(e,n,1302,Do);return f(i)},t.wbg.__wbindgen_closure_wrapper11145=function(e,n,r){const i=Ee(e,n,1302,Ze);return f(i)},t.wbg.__wbindgen_closure_wrapper12276=function(e,n,r){const i=Ee(e,n,1302,Do);return f(i)},t.wbg.__wbindgen_closure_wrapper12309=function(e,n,r){const i=Ee(e,n,1302,Ze);return f(i)},t.wbg.__wbindgen_closure_wrapper12317=function(e,n,r){const i=Ee(e,n,1302,Ze);return f(i)},t.wbg.__wbindgen_closure_wrapper12328=function(e,n,r){const i=Ee(e,n,1302,Ze);return f(i)},t.wbg.__wbindgen_closure_wrapper12333=function(e,n,r){const i=Ee(e,n,1302,Ze);return f(i)},t.wbg.__wbindgen_closure_wrapper12338=function(e,n,r){const i=Ee(e,n,1302,Ze);return f(i)},t.wbg.__wbindgen_closure_wrapper12391=function(e,n,r){const i=Ee(e,n,1302,Ze);return f(i)},t.wbg.__wbindgen_closure_wrapper12399=function(e,n,r){const i=Ee(e,n,1302,Ze);return f(i)},t.wbg.__wbindgen_closure_wrapper12428=function(e,n,r){const i=Ee(e,n,1302,To);return f(i)},t}function Ys(t,e){return p=t.exports,So.__wbindgen_wasm_module=e,tn=null,on=null,en=null,Zt=null,Gt=null,p}async function So(t){if(p!==void 0)return p;typeof t>"u"&&(t=new URL(""+new URL("slint_lsp_wasm_bg-BvJOLmuj.wasm",self.location.href).href,self.location.href));const e=Qs();(typeof t=="string"||typeof Request=="function"&&t instanceof Request||typeof URL=="function"&&t instanceof URL)&&(t=fetch(t));const{instance:n,module:r}=await Xs(await t,e);return Ys(n,r)}var de=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ks(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var Co={},Yr={},Ve={},ie={},mt={},Kr={},Ln={},q={},le={};Object.defineProperty(le,"__esModule",{value:!0}),le.stringArray=le.array=le.func=le.error=le.number=le.string=le.boolean=void 0;function Gs(t){return t===!0||t===!1}le.boolean=Gs;function qo(t){return typeof t=="string"||t instanceof String}le.string=qo;function Zs(t){return typeof t=="number"||t instanceof Number}le.number=Zs;function ea(t){return t instanceof Error}le.error=ea;function ta(t){return typeof t=="function"}le.func=ta;function Mo(t){return Array.isArray(t)}le.array=Mo;function na(t){return Mo(t)&&t.every(e=>qo(e))}le.stringArray=na,Object.defineProperty(q,"__esModule",{value:!0}),q.Message=q.NotificationType9=q.NotificationType8=q.NotificationType7=q.NotificationType6=q.NotificationType5=q.NotificationType4=q.NotificationType3=q.NotificationType2=q.NotificationType1=q.NotificationType0=q.NotificationType=q.RequestType9=q.RequestType8=q.RequestType7=q.RequestType6=q.RequestType5=q.RequestType4=q.RequestType3=q.RequestType2=q.RequestType1=q.RequestType=q.RequestType0=q.AbstractMessageSignature=q.ParameterStructures=q.ResponseError=q.ErrorCodes=void 0;const wt=le;var Gr;(function(t){t.ParseError=-32700,t.InvalidRequest=-32600,t.MethodNotFound=-32601,t.InvalidParams=-32602,t.InternalError=-32603,t.jsonrpcReservedErrorRangeStart=-32099,t.serverErrorStart=-32099,t.MessageWriteError=-32099,t.MessageReadError=-32098,t.PendingResponseRejected=-32097,t.ConnectionInactive=-32096,t.ServerNotInitialized=-32002,t.UnknownErrorCode=-32001,t.jsonrpcReservedErrorRangeEnd=-32e3,t.serverErrorEnd=-32e3})(Gr||(q.ErrorCodes=Gr={}));class Zr extends Error{constructor(e,n,r){super(n),this.code=wt.number(e)?e:Gr.UnknownErrorCode,this.data=r,Object.setPrototypeOf(this,Zr.prototype)}toJson(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data),e}}q.ResponseError=Zr;class pe{constructor(e){this.kind=e}static is(e){return e===pe.auto||e===pe.byName||e===pe.byPosition}toString(){return this.kind}}q.ParameterStructures=pe,pe.auto=new pe("auto"),pe.byPosition=new pe("byPosition"),pe.byName=new pe("byName");class Y{constructor(e,n){this.method=e,this.numberOfParams=n}get parameterStructures(){return pe.auto}}q.AbstractMessageSignature=Y;class ra extends Y{constructor(e){super(e,0)}}q.RequestType0=ra;class ia extends Y{constructor(e,n=pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}q.RequestType=ia;class oa extends Y{constructor(e,n=pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}q.RequestType1=oa;class ca extends Y{constructor(e){super(e,2)}}q.RequestType2=ca;class sa extends Y{constructor(e){super(e,3)}}q.RequestType3=sa;class aa extends Y{constructor(e){super(e,4)}}q.RequestType4=aa;class ua extends Y{constructor(e){super(e,5)}}q.RequestType5=ua;class da extends Y{constructor(e){super(e,6)}}q.RequestType6=da;class la extends Y{constructor(e){super(e,7)}}q.RequestType7=la;class fa extends Y{constructor(e){super(e,8)}}q.RequestType8=fa;class ga extends Y{constructor(e){super(e,9)}}q.RequestType9=ga;class _a extends Y{constructor(e,n=pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}q.NotificationType=_a;class ba extends Y{constructor(e){super(e,0)}}q.NotificationType0=ba;class ha extends Y{constructor(e,n=pe.auto){super(e,1),this._parameterStructures=n}get parameterStructures(){return this._parameterStructures}}q.NotificationType1=ha;class ma extends Y{constructor(e){super(e,2)}}q.NotificationType2=ma;class wa extends Y{constructor(e){super(e,3)}}q.NotificationType3=wa;class pa extends Y{constructor(e){super(e,4)}}q.NotificationType4=pa;class ya extends Y{constructor(e){super(e,5)}}q.NotificationType5=ya;class va extends Y{constructor(e){super(e,6)}}q.NotificationType6=va;class Ra extends Y{constructor(e){super(e,7)}}q.NotificationType7=Ra;class Da extends Y{constructor(e){super(e,8)}}q.NotificationType8=Da;class Ta extends Y{constructor(e){super(e,9)}}q.NotificationType9=Ta;var Oo;(function(t){function e(i){const o=i;return o&&wt.string(o.method)&&(wt.string(o.id)||wt.number(o.id))}t.isRequest=e;function n(i){const o=i;return o&&wt.string(o.method)&&i.id===void 0}t.isNotification=n;function r(i){const o=i;return o&&(o.result!==void 0||!!o.error)&&(wt.string(o.id)||wt.number(o.id)||o.id===null)}t.isResponse=r})(Oo||(q.Message=Oo={}));var Je={},Eo;Object.defineProperty(Je,"__esModule",{value:!0}),Je.LRUCache=Je.LinkedMap=Je.Touch=void 0;var ye;(function(t){t.None=0,t.First=1,t.AsOld=t.First,t.Last=2,t.AsNew=t.Last})(ye||(Je.Touch=ye={}));class No{constructor(){this[Eo]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,n=ye.None){const r=this._map.get(e);if(r)return n!==ye.None&&this.touch(r,n),r.value}set(e,n,r=ye.None){let i=this._map.get(e);if(i)i.value=n,r!==ye.None&&this.touch(i,r);else{switch(i={key:e,value:n,next:void 0,previous:void 0},r){case ye.None:this.addItemLast(i);break;case ye.First:this.addItemFirst(i);break;case ye.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(e,i),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const n=this._map.get(e);if(n)return this._map.delete(e),this.removeItem(n),this._size--,n.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,n){const r=this._state;let i=this._head;for(;i;){if(n?e.bind(n)(i.value,i.key,this):e(i.value,i.key,this),this._state!==r)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.key,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}values(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:n.value,done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}entries(){const e=this._state;let n=this._head;const r={[Symbol.iterator]:()=>r,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(n){const i={value:[n.key,n.value],done:!1};return n=n.next,i}else return{value:void 0,done:!0}}};return r}[(Eo=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(e===0){this.clear();return}let n=this._head,r=this.size;for(;n&&r>e;)this._map.delete(n.key),n=n.next,r--;this._head=n,this._size=r,n&&(n.previous=void 0),this._state++}addItemFirst(e){if(!this._head&&!this._tail)this._tail=e;else if(this._head)e.next=this._head,this._head.previous=e;else throw new Error("Invalid list");this._head=e,this._state++}addItemLast(e){if(!this._head&&!this._tail)this._head=e;else if(this._tail)e.previous=this._tail,this._tail.next=e;else throw new Error("Invalid list");this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const n=e.next,r=e.previous;if(!n||!r)throw new Error("Invalid list");n.previous=r,r.next=n}e.next=void 0,e.previous=void 0,this._state++}touch(e,n){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(n!==ye.First&&n!==ye.Last)){if(n===ye.First){if(e===this._head)return;const r=e.next,i=e.previous;e===this._tail?(i.next=void 0,this._tail=i):(r.previous=i,i.next=r),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(n===ye.Last){if(e===this._tail)return;const r=e.next,i=e.previous;e===this._head?(r.previous=void 0,this._head=r):(r.previous=i,i.next=r),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}}toJSON(){const e=[];return this.forEach((n,r)=>{e.push([r,n])}),e}fromJSON(e){this.clear();for(const[n,r]of e)this.set(n,r)}}Je.LinkedMap=No;class Pa extends No{constructor(e,n=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,n),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,n=ye.AsNew){return super.get(e,n)}peek(e){return super.get(e,ye.None)}set(e,n){return super.set(e,n,ye.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}Je.LRUCache=Pa;var An={};Object.defineProperty(An,"__esModule",{value:!0}),An.Disposable=void 0;var jo;(function(t){function e(n){return{dispose:n}}t.create=e})(jo||(An.Disposable=jo={}));var Ae={},Xe={};Object.defineProperty(Xe,"__esModule",{value:!0});let ei;function ti(){if(ei===void 0)throw new Error("No runtime abstraction layer installed");return ei}(function(t){function e(n){if(n===void 0)throw new Error("No runtime abstraction layer provided");ei=n}t.install=e})(ti||(ti={})),Xe.default=ti,Object.defineProperty(Ae,"__esModule",{value:!0}),Ae.Emitter=Ae.Event=void 0;const ka=Xe;var Fo;(function(t){const e={dispose(){}};t.None=function(){return e}})(Fo||(Ae.Event=Fo={}));class Sa{add(e,n=null,r){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(n),Array.isArray(r)&&r.push({dispose:()=>this.remove(e,n)})}remove(e,n=null){if(!this._callbacks)return;let r=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===e)if(this._contexts[i]===n){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else r=!0;if(r)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const n=[],r=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=r.length;o<s;o++)try{n.push(r[o].apply(i[o],e))}catch(d){(0,ka.default)().console.error(d)}return n}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}}class In{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,n,r)=>{this._callbacks||(this._callbacks=new Sa),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,n);const i={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,n),i.dispose=In._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(r)&&r.push(i),i}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}Ae.Emitter=In,In._noop=function(){};var et={};Object.defineProperty(et,"__esModule",{value:!0}),et.CancellationTokenSource=et.CancellationToken=void 0;const Ca=Xe,qa=le,ni=Ae;var Wn;(function(t){t.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:ni.Event.None}),t.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:ni.Event.None});function e(n){const r=n;return r&&(r===t.None||r===t.Cancelled||qa.boolean(r.isCancellationRequested)&&!!r.onCancellationRequested)}t.is=e})(Wn||(et.CancellationToken=Wn={}));const Ma=Object.freeze(function(t,e){const n=(0,Ca.default)().timer.setTimeout(t.bind(e),0);return{dispose(){n.dispose()}}});class Lo{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?Ma:(this._emitter||(this._emitter=new ni.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}class Oa{get token(){return this._token||(this._token=new Lo),this._token}cancel(){this._token?this._token.cancel():this._token=Wn.Cancelled}dispose(){this._token?this._token instanceof Lo&&this._token.dispose():this._token=Wn.None}}et.CancellationTokenSource=Oa;var Ct={};Object.defineProperty(Ct,"__esModule",{value:!0}),Ct.SharedArrayReceiverStrategy=Ct.SharedArraySenderStrategy=void 0;const Ea=et;var cn;(function(t){t.Continue=0,t.Cancelled=1})(cn||(cn={}));class Na{constructor(){this.buffers=new Map}enableCancellation(e){if(e.id===null)return;const n=new SharedArrayBuffer(4),r=new Int32Array(n,0,1);r[0]=cn.Continue,this.buffers.set(e.id,n),e.$cancellationData=n}async sendCancellation(e,n){const r=this.buffers.get(n);if(r===void 0)return;const i=new Int32Array(r,0,1);Atomics.store(i,0,cn.Cancelled)}cleanup(e){this.buffers.delete(e)}dispose(){this.buffers.clear()}}Ct.SharedArraySenderStrategy=Na;class ja{constructor(e){this.data=new Int32Array(e,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===cn.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}}class Fa{constructor(e){this.token=new ja(e)}cancel(){}dispose(){}}class La{constructor(){this.kind="request"}createCancellationTokenSource(e){const n=e.$cancellationData;return n===void 0?new Ea.CancellationTokenSource:new Fa(n)}}Ct.SharedArrayReceiverStrategy=La;var tt={},sn={};Object.defineProperty(sn,"__esModule",{value:!0}),sn.Semaphore=void 0;const Aa=Xe;class Ia{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise((n,r)=>{this._waiting.push({thunk:e,resolve:n,reject:r}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,Aa.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const n=e.thunk();n instanceof Promise?n.then(r=>{this._active--,e.resolve(r),this.runNext()},r=>{this._active--,e.reject(r),this.runNext()}):(this._active--,e.resolve(n),this.runNext())}catch(n){this._active--,e.reject(n),this.runNext()}}}sn.Semaphore=Ia,Object.defineProperty(tt,"__esModule",{value:!0}),tt.ReadableStreamMessageReader=tt.AbstractMessageReader=tt.MessageReader=void 0;const ri=Xe,qt=le,ii=Ae,Wa=sn;var Ao;(function(t){function e(n){let r=n;return r&&qt.func(r.listen)&&qt.func(r.dispose)&&qt.func(r.onError)&&qt.func(r.onClose)&&qt.func(r.onPartialMessage)}t.is=e})(Ao||(tt.MessageReader=Ao={}));class Io{constructor(){this.errorEmitter=new ii.Emitter,this.closeEmitter=new ii.Emitter,this.partialMessageEmitter=new ii.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${qt.string(e.message)?e.message:"unknown"}`)}}tt.AbstractMessageReader=Io;var oi;(function(t){function e(n){let r,i;const o=new Map;let s;const d=new Map;if(n===void 0||typeof n=="string")r=n??"utf-8";else{if(r=n.charset??"utf-8",n.contentDecoder!==void 0&&(i=n.contentDecoder,o.set(i.name,i)),n.contentDecoders!==void 0)for(const g of n.contentDecoders)o.set(g.name,g);if(n.contentTypeDecoder!==void 0&&(s=n.contentTypeDecoder,d.set(s.name,s)),n.contentTypeDecoders!==void 0)for(const g of n.contentTypeDecoders)d.set(g.name,g)}return s===void 0&&(s=(0,ri.default)().applicationJson.decoder,d.set(s.name,s)),{charset:r,contentDecoder:i,contentDecoders:o,contentTypeDecoder:s,contentTypeDecoders:d}}t.fromOptions=e})(oi||(oi={}));class $a extends Io{constructor(e,n){super(),this.readable=e,this.options=oi.fromOptions(n),this.buffer=(0,ri.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new Wa.Semaphore(1)}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const n=this.readable.onData(r=>{this.onData(r)});return this.readable.onError(r=>this.fireError(r)),this.readable.onClose(()=>this.fireClose()),n}onData(e){try{for(this.buffer.append(e);;){if(this.nextMessageLength===-1){const r=this.buffer.tryReadHeaders(!0);if(!r)return;const i=r.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(r))}`));return}const o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}const n=this.buffer.tryReadBody(this.nextMessageLength);if(n===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{const r=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(n):n,i=await this.options.contentTypeDecoder.decode(r,this.options);this.callback(i)}).catch(r=>{this.fireError(r)})}}catch(n){this.fireError(n)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,ri.default)().timer.setTimeout((e,n)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:n}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}tt.ReadableStreamMessageReader=$a;var nt={};Object.defineProperty(nt,"__esModule",{value:!0}),nt.WriteableStreamMessageWriter=nt.AbstractMessageWriter=nt.MessageWriter=void 0;const Wo=Xe,an=le,Ha=sn,$o=Ae,xa="Content-Length: ",Ho=`\r
`;var xo;(function(t){function e(n){let r=n;return r&&an.func(r.dispose)&&an.func(r.onClose)&&an.func(r.onError)&&an.func(r.write)}t.is=e})(xo||(nt.MessageWriter=xo={}));class zo{constructor(){this.errorEmitter=new $o.Emitter,this.closeEmitter=new $o.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,n,r){this.errorEmitter.fire([this.asError(e),n,r])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${an.string(e.message)?e.message:"unknown"}`)}}nt.AbstractMessageWriter=zo;var ci;(function(t){function e(n){return n===void 0||typeof n=="string"?{charset:n??"utf-8",contentTypeEncoder:(0,Wo.default)().applicationJson.encoder}:{charset:n.charset??"utf-8",contentEncoder:n.contentEncoder,contentTypeEncoder:n.contentTypeEncoder??(0,Wo.default)().applicationJson.encoder}}t.fromOptions=e})(ci||(ci={}));class za extends zo{constructor(e,n){super(),this.writable=e,this.options=ci.fromOptions(n),this.errorCount=0,this.writeSemaphore=new Ha.Semaphore(1),this.writable.onError(r=>this.fireError(r)),this.writable.onClose(()=>this.fireClose())}async write(e){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(e,this.options).then(r=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(r):r).then(r=>{const i=[];return i.push(xa,r.byteLength.toString(),Ho),i.push(Ho),this.doWrite(e,i,r)},r=>{throw this.fireError(r),r}))}async doWrite(e,n,r){try{return await this.writable.write(n.join(""),"ascii"),this.writable.write(r)}catch(i){return this.handleError(i,e),Promise.reject(i)}}handleError(e,n){this.errorCount++,this.fireError(e,n,this.errorCount)}end(){this.writable.end()}}nt.WriteableStreamMessageWriter=za;var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.AbstractMessageBuffer=void 0;const Ba=13,Ua=10,Va=`\r
`;class Ja{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const n=typeof e=="string"?this.fromString(e,this._encoding):e;this._chunks.push(n),this._totalLength+=n.byteLength}tryReadHeaders(e=!1){if(this._chunks.length===0)return;let n=0,r=0,i=0,o=0;e:for(;r<this._chunks.length;){const _=this._chunks[r];for(i=0;i<_.length;){switch(_[i]){case Ba:switch(n){case 0:n=1;break;case 2:n=3;break;default:n=0}break;case Ua:switch(n){case 1:n=2;break;case 3:n=4,i++;break e;default:n=0}break;default:n=0}i++}o+=_.byteLength,r++}if(n!==4)return;const s=this._read(o+i),d=new Map,g=this.toString(s,"ascii").split(Va);if(g.length<2)return d;for(let _=0;_<g.length-2;_++){const w=g[_],P=w.indexOf(":");if(P===-1)throw new Error(`Message header must separate key and value using ':'
${w}`);const v=w.substr(0,P),M=w.substr(P+1).trim();d.set(e?v.toLowerCase():v,M)}return d}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(e===0)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const o=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(o)}if(this._chunks[0].byteLength>e){const o=this._chunks[0],s=this.asNative(o,e);return this._chunks[0]=o.slice(e),this._totalLength-=e,s}const n=this.allocNative(e);let r=0,i=0;for(;e>0;){const o=this._chunks[i];if(o.byteLength>e){const s=o.slice(0,e);n.set(s,r),r+=e,this._chunks[i]=o.slice(e),this._totalLength-=e,e-=e}else n.set(o,r),r+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,e-=o.byteLength}return n}}$n.AbstractMessageBuffer=Ja;var Bo={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.RequestCancellationReceiverStrategy=t.IdCancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const e=Xe,n=le,r=q,i=Je,o=Ae,s=et;var d;(function(y){y.type=new r.NotificationType("$/cancelRequest")})(d||(d={}));var g;(function(y){function F(L){return typeof L=="string"||typeof L=="number"}y.is=F})(g||(t.ProgressToken=g={}));var _;(function(y){y.type=new r.NotificationType("$/progress")})(_||(_={}));class w{constructor(){}}t.ProgressType=w;var P;(function(y){function F(L){return n.func(L)}y.is=F})(P||(P={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var v;(function(y){y[y.Off=0]="Off",y[y.Messages=1]="Messages",y[y.Compact=2]="Compact",y[y.Verbose=3]="Verbose"})(v||(t.Trace=v={}));var M;(function(y){y.Off="off",y.Messages="messages",y.Compact="compact",y.Verbose="verbose"})(M||(t.TraceValues=M={})),function(y){function F(O){if(!n.string(O))return y.Off;switch(O=O.toLowerCase(),O){case"off":return y.Off;case"messages":return y.Messages;case"compact":return y.Compact;case"verbose":return y.Verbose;default:return y.Off}}y.fromString=F;function L(O){switch(O){case y.Off:return"off";case y.Messages:return"messages";case y.Compact:return"compact";case y.Verbose:return"verbose";default:return"off"}}y.toString=L}(v||(t.Trace=v={}));var W;(function(y){y.Text="text",y.JSON="json"})(W||(t.TraceFormat=W={})),function(y){function F(L){return n.string(L)?(L=L.toLowerCase(),L==="json"?y.JSON:y.Text):y.Text}y.fromString=F}(W||(t.TraceFormat=W={}));var be;(function(y){y.type=new r.NotificationType("$/setTrace")})(be||(t.SetTraceNotification=be={}));var me;(function(y){y.type=new r.NotificationType("$/logTrace")})(me||(t.LogTraceNotification=me={}));var $;(function(y){y[y.Closed=1]="Closed",y[y.Disposed=2]="Disposed",y[y.AlreadyListening=3]="AlreadyListening"})($||(t.ConnectionErrors=$={}));class b extends Error{constructor(F,L){super(L),this.code=F,Object.setPrototypeOf(this,b.prototype)}}t.ConnectionError=b;var h;(function(y){function F(L){const O=L;return O&&n.func(O.cancelUndispatched)}y.is=F})(h||(t.ConnectionStrategy=h={}));var T;(function(y){function F(L){const O=L;return O&&(O.kind===void 0||O.kind==="id")&&n.func(O.createCancellationTokenSource)&&(O.dispose===void 0||n.func(O.dispose))}y.is=F})(T||(t.IdCancellationReceiverStrategy=T={}));var ge;(function(y){function F(L){const O=L;return O&&O.kind==="request"&&n.func(O.createCancellationTokenSource)&&(O.dispose===void 0||n.func(O.dispose))}y.is=F})(ge||(t.RequestCancellationReceiverStrategy=ge={}));var ce;(function(y){y.Message=Object.freeze({createCancellationTokenSource(L){return new s.CancellationTokenSource}});function F(L){return T.is(L)||ge.is(L)}y.is=F})(ce||(t.CancellationReceiverStrategy=ce={}));var we;(function(y){y.Message=Object.freeze({sendCancellation(L,O){return L.sendNotification(d.type,{id:O})},cleanup(L){}});function F(L){const O=L;return O&&n.func(O.sendCancellation)&&n.func(O.cleanup)}y.is=F})(we||(t.CancellationSenderStrategy=we={}));var Vt;(function(y){y.Message=Object.freeze({receiver:ce.Message,sender:we.Message});function F(L){const O=L;return O&&ce.is(O.receiver)&&we.is(O.sender)}y.is=F})(Vt||(t.CancellationStrategy=Vt={}));var lt;(function(y){function F(L){const O=L;return O&&n.func(O.handleMessage)}y.is=F})(lt||(t.MessageStrategy=lt={}));var Jt;(function(y){function F(L){const O=L;return O&&(Vt.is(O.cancellationStrategy)||h.is(O.connectionStrategy)||lt.is(O.messageStrategy))}y.is=F})(Jt||(t.ConnectionOptions=Jt={}));var Re;(function(y){y[y.New=1]="New",y[y.Listening=2]="Listening",y[y.Closed=3]="Closed",y[y.Disposed=4]="Disposed"})(Re||(Re={}));function yn(y,F,L,O){const K=L!==void 0?L:t.NullLogger;let kr=0,Sr=0,Cr=0;const ft="2.0";let gt;const Dt=new Map;let _t;const Tt=new Map,Pt=new Map;let Xt,He=new i.LinkedMap,xe=new Map,kt=new Set,Oe=new Map,V=v.Off,ze=W.Text,ne,je=Re.New;const Qt=new o.Emitter,vn=new o.Emitter,Rn=new o.Emitter,Dn=new o.Emitter,Tn=new o.Emitter,Fe=O&&O.cancellationStrategy?O.cancellationStrategy:Vt.Message;function Pn(u){if(u===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+u.toString()}function qr(u){return u===null?"res-unknown-"+(++Cr).toString():"res-"+u.toString()}function Mr(){return"not-"+(++Sr).toString()}function Or(u,m){r.Message.isRequest(m)?u.set(Pn(m.id),m):r.Message.isResponse(m)?u.set(qr(m.id),m):u.set(Mr(),m)}function Er(u){}function kn(){return je===Re.Listening}function Sn(){return je===Re.Closed}function Ke(){return je===Re.Disposed}function Cn(){(je===Re.New||je===Re.Listening)&&(je=Re.Closed,vn.fire(void 0))}function Nr(u){Qt.fire([u,void 0,void 0])}function jr(u){Qt.fire(u)}y.onClose(Cn),y.onError(Nr),F.onClose(Cn),F.onError(jr);function qn(){Xt||He.size===0||(Xt=(0,e.default)().timer.setImmediate(()=>{Xt=void 0,Fr()}))}function Mn(u){r.Message.isRequest(u)?Ar(u):r.Message.isNotification(u)?Wr(u):r.Message.isResponse(u)?Ir(u):$r(u)}function Fr(){if(He.size===0)return;const u=He.shift();try{const m=O?.messageStrategy;lt.is(m)?m.handleMessage(u,Mn):Mn(u)}finally{qn()}}const Lr=u=>{try{if(r.Message.isNotification(u)&&u.method===d.type.method){const m=u.params.id,R=Pn(m),S=He.get(R);if(r.Message.isRequest(S)){const J=O?.connectionStrategy,re=J&&J.cancelUndispatched?J.cancelUndispatched(S,Er):void 0;if(re&&(re.error!==void 0||re.result!==void 0)){He.delete(R),Oe.delete(m),re.id=S.id,St(re,u.method,Date.now()),F.write(re).catch(()=>K.error("Sending response for canceled message failed."));return}}const Q=Oe.get(m);if(Q!==void 0){Q.cancel(),Yt(u);return}else kt.add(m)}Or(He,u)}finally{qn()}};function Ar(u){if(Ke())return;function m(x,G,B){const _e={jsonrpc:ft,id:u.id};x instanceof r.ResponseError?_e.error=x.toJson():_e.result=x===void 0?null:x,St(_e,G,B),F.write(_e).catch(()=>K.error("Sending response failed."))}function R(x,G,B){const _e={jsonrpc:ft,id:u.id,error:x.toJson()};St(_e,G,B),F.write(_e).catch(()=>K.error("Sending response failed."))}function S(x,G,B){x===void 0&&(x=null);const _e={jsonrpc:ft,id:u.id,result:x};St(_e,G,B),F.write(_e).catch(()=>K.error("Sending response failed."))}zr(u);const Q=Dt.get(u.method);let J,re;Q&&(J=Q.type,re=Q.handler);const ue=Date.now();if(re||gt){const x=u.id??String(Date.now()),G=T.is(Fe.receiver)?Fe.receiver.createCancellationTokenSource(x):Fe.receiver.createCancellationTokenSource(u);u.id!==null&&kt.has(u.id)&&G.cancel(),u.id!==null&&Oe.set(x,G);try{let B;if(re)if(u.params===void 0){if(J!==void 0&&J.numberOfParams!==0){R(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines ${J.numberOfParams} params but received none.`),u.method,ue);return}B=re(G.token)}else if(Array.isArray(u.params)){if(J!==void 0&&J.parameterStructures===r.ParameterStructures.byName){R(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by name but received parameters by position`),u.method,ue);return}B=re(...u.params,G.token)}else{if(J!==void 0&&J.parameterStructures===r.ParameterStructures.byPosition){R(new r.ResponseError(r.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by position but received parameters by name`),u.method,ue);return}B=re(u.params,G.token)}else gt&&(B=gt(u.method,u.params,G.token));const _e=B;B?_e.then?_e.then(De=>{Oe.delete(x),m(De,u.method,ue)},De=>{Oe.delete(x),De instanceof r.ResponseError?R(De,u.method,ue):De&&n.string(De.message)?R(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${De.message}`),u.method,ue):R(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,ue)}):(Oe.delete(x),m(B,u.method,ue)):(Oe.delete(x),S(B,u.method,ue))}catch(B){Oe.delete(x),B instanceof r.ResponseError?m(B,u.method,ue):B&&n.string(B.message)?R(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${B.message}`),u.method,ue):R(new r.ResponseError(r.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,ue)}}else R(new r.ResponseError(r.ErrorCodes.MethodNotFound,`Unhandled method ${u.method}`),u.method,ue)}function Ir(u){if(!Ke())if(u.id===null)u.error?K.error(`Received response message without id: Error is: 
${JSON.stringify(u.error,void 0,4)}`):K.error("Received response message without id. No further error information provided.");else{const m=u.id,R=xe.get(m);if(Br(u,R),R!==void 0){xe.delete(m);try{if(u.error){const S=u.error;R.reject(new r.ResponseError(S.code,S.message,S.data))}else if(u.result!==void 0)R.resolve(u.result);else throw new Error("Should never happen.")}catch(S){S.message?K.error(`Response handler '${R.method}' failed with message: ${S.message}`):K.error(`Response handler '${R.method}' failed unexpectedly.`)}}}}function Wr(u){if(Ke())return;let m,R;if(u.method===d.type.method){const S=u.params.id;kt.delete(S),Yt(u);return}else{const S=Tt.get(u.method);S&&(R=S.handler,m=S.type)}if(R||_t)try{if(Yt(u),R)if(u.params===void 0)m!==void 0&&m.numberOfParams!==0&&m.parameterStructures!==r.ParameterStructures.byName&&K.error(`Notification ${u.method} defines ${m.numberOfParams} params but received none.`),R();else if(Array.isArray(u.params)){const S=u.params;u.method===_.type.method&&S.length===2&&g.is(S[0])?R({token:S[0],value:S[1]}):(m!==void 0&&(m.parameterStructures===r.ParameterStructures.byName&&K.error(`Notification ${u.method} defines parameters by name but received parameters by position`),m.numberOfParams!==u.params.length&&K.error(`Notification ${u.method} defines ${m.numberOfParams} params but received ${S.length} arguments`)),R(...S))}else m!==void 0&&m.parameterStructures===r.ParameterStructures.byPosition&&K.error(`Notification ${u.method} defines parameters by position but received parameters by name`),R(u.params);else _t&&_t(u.method,u.params)}catch(S){S.message?K.error(`Notification handler '${u.method}' failed with message: ${S.message}`):K.error(`Notification handler '${u.method}' failed unexpectedly.`)}else Rn.fire(u)}function $r(u){if(!u){K.error("Received empty message.");return}K.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(u,null,4)}`);const m=u;if(n.string(m.id)||n.number(m.id)){const R=m.id,S=xe.get(R);S&&S.reject(new Error("The received response has neither a result nor an error property."))}}function Le(u){if(u!=null)switch(V){case v.Verbose:return JSON.stringify(u,null,4);case v.Compact:return JSON.stringify(u);default:return}}function Hr(u){if(!(V===v.Off||!ne))if(ze===W.Text){let m;(V===v.Verbose||V===v.Compact)&&u.params&&(m=`Params: ${Le(u.params)}

`),ne.log(`Sending request '${u.method} - (${u.id})'.`,m)}else Ge("send-request",u)}function xr(u){if(!(V===v.Off||!ne))if(ze===W.Text){let m;(V===v.Verbose||V===v.Compact)&&(u.params?m=`Params: ${Le(u.params)}

`:m=`No parameters provided.

`),ne.log(`Sending notification '${u.method}'.`,m)}else Ge("send-notification",u)}function St(u,m,R){if(!(V===v.Off||!ne))if(ze===W.Text){let S;(V===v.Verbose||V===v.Compact)&&(u.error&&u.error.data?S=`Error data: ${Le(u.error.data)}

`:u.result?S=`Result: ${Le(u.result)}

`:u.error===void 0&&(S=`No result returned.

`)),ne.log(`Sending response '${m} - (${u.id})'. Processing request took ${Date.now()-R}ms`,S)}else Ge("send-response",u)}function zr(u){if(!(V===v.Off||!ne))if(ze===W.Text){let m;(V===v.Verbose||V===v.Compact)&&u.params&&(m=`Params: ${Le(u.params)}

`),ne.log(`Received request '${u.method} - (${u.id})'.`,m)}else Ge("receive-request",u)}function Yt(u){if(!(V===v.Off||!ne||u.method===me.type.method))if(ze===W.Text){let m;(V===v.Verbose||V===v.Compact)&&(u.params?m=`Params: ${Le(u.params)}

`:m=`No parameters provided.

`),ne.log(`Received notification '${u.method}'.`,m)}else Ge("receive-notification",u)}function Br(u,m){if(!(V===v.Off||!ne))if(ze===W.Text){let R;if((V===v.Verbose||V===v.Compact)&&(u.error&&u.error.data?R=`Error data: ${Le(u.error.data)}

`:u.result?R=`Result: ${Le(u.result)}

`:u.error===void 0&&(R=`No result returned.

`)),m){const S=u.error?` Request failed: ${u.error.message} (${u.error.code}).`:"";ne.log(`Received response '${m.method} - (${u.id})' in ${Date.now()-m.timerStart}ms.${S}`,R)}else ne.log(`Received response ${u.id} without active response promise.`,R)}else Ge("receive-response",u)}function Ge(u,m){if(!ne||V===v.Off)return;const R={isLSPMessage:!0,type:u,message:m,timestamp:Date.now()};ne.log(R)}function bt(){if(Sn())throw new b($.Closed,"Connection is closed.");if(Ke())throw new b($.Disposed,"Connection is disposed.")}function Ur(){if(kn())throw new b($.AlreadyListening,"Connection is already listening")}function Vr(){if(!kn())throw new Error("Call listen() first.")}function ht(u){return u===void 0?null:u}function On(u){if(u!==null)return u}function a(u){return u!=null&&!Array.isArray(u)&&typeof u=="object"}function se(u,m){switch(u){case r.ParameterStructures.auto:return a(m)?On(m):[ht(m)];case r.ParameterStructures.byName:if(!a(m))throw new Error("Received parameters by name but param is not an object literal.");return On(m);case r.ParameterStructures.byPosition:return[ht(m)];default:throw new Error(`Unknown parameter structure ${u.toString()}`)}}function ae(u,m){let R;const S=u.numberOfParams;switch(S){case 0:R=void 0;break;case 1:R=se(u.parameterStructures,m[0]);break;default:R=[];for(let Q=0;Q<m.length&&Q<S;Q++)R.push(ht(m[Q]));if(m.length<S)for(let Q=m.length;Q<S;Q++)R.push(null);break}return R}const E={sendNotification:(u,...m)=>{bt();let R,S;if(n.string(u)){R=u;const J=m[0];let re=0,ue=r.ParameterStructures.auto;r.ParameterStructures.is(J)&&(re=1,ue=J);let x=m.length;const G=x-re;switch(G){case 0:S=void 0;break;case 1:S=se(ue,m[re]);break;default:if(ue===r.ParameterStructures.byName)throw new Error(`Received ${G} parameters for 'by Name' notification parameter structure.`);S=m.slice(re,x).map(B=>ht(B));break}}else{const J=m;R=u.method,S=ae(u,J)}const Q={jsonrpc:ft,method:R,params:S};return xr(Q),F.write(Q).catch(J=>{throw K.error("Sending notification failed."),J})},onNotification:(u,m)=>{bt();let R;return n.func(u)?_t=u:m&&(n.string(u)?(R=u,Tt.set(u,{type:void 0,handler:m})):(R=u.method,Tt.set(u.method,{type:u,handler:m}))),{dispose:()=>{R!==void 0?Tt.delete(R):_t=void 0}}},onProgress:(u,m,R)=>{if(Pt.has(m))throw new Error(`Progress handler for token ${m} already registered`);return Pt.set(m,R),{dispose:()=>{Pt.delete(m)}}},sendProgress:(u,m,R)=>E.sendNotification(_.type,{token:m,value:R}),onUnhandledProgress:Dn.event,sendRequest:(u,...m)=>{bt(),Vr();let R,S,Q;if(n.string(u)){R=u;const x=m[0],G=m[m.length-1];let B=0,_e=r.ParameterStructures.auto;r.ParameterStructures.is(x)&&(B=1,_e=x);let De=m.length;s.CancellationToken.is(G)&&(De=De-1,Q=G);const Be=De-B;switch(Be){case 0:S=void 0;break;case 1:S=se(_e,m[B]);break;default:if(_e===r.ParameterStructures.byName)throw new Error(`Received ${Be} parameters for 'by Name' request parameter structure.`);S=m.slice(B,De).map(yd=>ht(yd));break}}else{const x=m;R=u.method,S=ae(u,x);const G=u.numberOfParams;Q=s.CancellationToken.is(x[G])?x[G]:void 0}const J=kr++;let re;Q&&(re=Q.onCancellationRequested(()=>{const x=Fe.sender.sendCancellation(E,J);return x===void 0?(K.log(`Received no promise from cancellation strategy when cancelling id ${J}`),Promise.resolve()):x.catch(()=>{K.log(`Sending cancellation messages for id ${J} failed`)})}));const ue={jsonrpc:ft,id:J,method:R,params:S};return Hr(ue),typeof Fe.sender.enableCancellation=="function"&&Fe.sender.enableCancellation(ue),new Promise(async(x,G)=>{const B=Be=>{x(Be),Fe.sender.cleanup(J),re?.dispose()},_e=Be=>{G(Be),Fe.sender.cleanup(J),re?.dispose()},De={method:R,timerStart:Date.now(),resolve:B,reject:_e};try{await F.write(ue),xe.set(J,De)}catch(Be){throw K.error("Sending request failed."),De.reject(new r.ResponseError(r.ErrorCodes.MessageWriteError,Be.message?Be.message:"Unknown reason")),Be}})},onRequest:(u,m)=>{bt();let R=null;return P.is(u)?(R=void 0,gt=u):n.string(u)?(R=null,m!==void 0&&(R=u,Dt.set(u,{handler:m,type:void 0}))):m!==void 0&&(R=u.method,Dt.set(u.method,{type:u,handler:m})),{dispose:()=>{R!==null&&(R!==void 0?Dt.delete(R):gt=void 0)}}},hasPendingResponse:()=>xe.size>0,trace:async(u,m,R)=>{let S=!1,Q=W.Text;R!==void 0&&(n.boolean(R)?S=R:(S=R.sendNotification||!1,Q=R.traceFormat||W.Text)),V=u,ze=Q,V===v.Off?ne=void 0:ne=m,S&&!Sn()&&!Ke()&&await E.sendNotification(be.type,{value:v.toString(u)})},onError:Qt.event,onClose:vn.event,onUnhandledNotification:Rn.event,onDispose:Tn.event,end:()=>{F.end()},dispose:()=>{if(Ke())return;je=Re.Disposed,Tn.fire(void 0);const u=new r.ResponseError(r.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const m of xe.values())m.reject(u);xe=new Map,Oe=new Map,kt=new Set,He=new i.LinkedMap,n.func(F.dispose)&&F.dispose(),n.func(y.dispose)&&y.dispose()},listen:()=>{bt(),Ur(),je=Re.Listening,y.listen(Lr)},inspect:()=>{(0,e.default)().console.log("inspect")}};return E.onNotification(me.type,u=>{if(V===v.Off||!ne)return;const m=V===v.Verbose||V===v.Compact;ne.log(u.message,m?u.verbose:void 0)}),E.onNotification(_.type,u=>{const m=Pt.get(u.token);m?m(u.value):Dn.fire(u)}),E}t.createMessageConnection=yn})(Bo),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.AbstractMessageBuffer=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.SharedArrayReceiverStrategy=t.SharedArraySenderStrategy=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.MessageStrategy=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=void 0;const e=q;Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return e.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return e.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return e.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return e.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return e.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return e.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return e.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return e.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return e.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return e.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return e.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return e.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return e.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return e.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return e.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return e.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return e.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return e.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return e.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return e.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return e.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return e.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return e.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return e.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return e.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return e.ParameterStructures}});const n=Je;Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return n.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return n.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return n.Touch}});const r=An;Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return r.Disposable}});const i=Ae;Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return i.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return i.Emitter}});const o=et;Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return o.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return o.CancellationToken}});const s=Ct;Object.defineProperty(t,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return s.SharedArraySenderStrategy}}),Object.defineProperty(t,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return s.SharedArrayReceiverStrategy}});const d=tt;Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return d.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return d.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return d.ReadableStreamMessageReader}});const g=nt;Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return g.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return g.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return g.WriteableStreamMessageWriter}});const _=$n;Object.defineProperty(t,"AbstractMessageBuffer",{enumerable:!0,get:function(){return _.AbstractMessageBuffer}});const w=Bo;Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return w.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return w.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return w.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return w.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return w.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return w.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return w.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return w.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return w.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return w.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return w.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return w.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return w.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return w.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return w.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return w.CancellationStrategy}}),Object.defineProperty(t,"MessageStrategy",{enumerable:!0,get:function(){return w.MessageStrategy}});const P=Xe;t.RAL=P.default}(Ln),Object.defineProperty(Kr,"__esModule",{value:!0});const Ie=Ln;class Hn extends Ie.AbstractMessageBuffer{constructor(e="utf-8"){super(e),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return Hn.emptyBuffer}fromString(e,n){return new TextEncoder().encode(e)}toString(e,n){return n==="ascii"?this.asciiDecoder.decode(e):new TextDecoder(n).decode(e)}asNative(e,n){return n===void 0?e:e.slice(0,n)}allocNative(e){return new Uint8Array(e)}}Hn.emptyBuffer=new Uint8Array(0);class Xa{constructor(e){this.socket=e,this._onData=new Ie.Emitter,this._messageListener=n=>{n.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Ie.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(e){return this.socket.addEventListener("close",e),Ie.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Ie.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Ie.Disposable.create(()=>this.socket.removeEventListener("end",e))}onData(e){return this._onData.event(e)}}class Qa{constructor(e){this.socket=e}onClose(e){return this.socket.addEventListener("close",e),Ie.Disposable.create(()=>this.socket.removeEventListener("close",e))}onError(e){return this.socket.addEventListener("error",e),Ie.Disposable.create(()=>this.socket.removeEventListener("error",e))}onEnd(e){return this.socket.addEventListener("end",e),Ie.Disposable.create(()=>this.socket.removeEventListener("end",e))}write(e,n){if(typeof e=="string"){if(n!==void 0&&n!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${n}`);this.socket.send(e)}else this.socket.send(e);return Promise.resolve()}end(){this.socket.close()}}const Ya=new TextEncoder,Uo=Object.freeze({messageBuffer:Object.freeze({create:t=>new Hn(t)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(t,e)=>{if(e.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${e.charset}`);return Promise.resolve(Ya.encode(JSON.stringify(t,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(t,e)=>{if(!(t instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(e.charset).decode(t)))}})}),stream:Object.freeze({asReadableStream:t=>new Xa(t),asWritableStream:t=>new Qa(t)}),console,timer:Object.freeze({setTimeout(t,e,...n){const r=setTimeout(t,e,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(t,...e){const n=setTimeout(t,0,...e);return{dispose:()=>clearTimeout(n)}},setInterval(t,e,...n){const r=setInterval(t,e,...n);return{dispose:()=>clearInterval(r)}}})});function si(){return Uo}(function(t){function e(){Ie.RAL.install(Uo)}t.install=e})(si||(si={})),Kr.default=si,function(t){var e=de&&de.__createBinding||(Object.create?function(g,_,w,P){P===void 0&&(P=w);var v=Object.getOwnPropertyDescriptor(_,w);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(g,P,v)}:function(g,_,w,P){P===void 0&&(P=w),g[P]=_[w]}),n=de&&de.__exportStar||function(g,_){for(var w in g)w!=="default"&&!Object.prototype.hasOwnProperty.call(_,w)&&e(_,g,w)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.BrowserMessageWriter=t.BrowserMessageReader=void 0,Kr.default.install();const i=Ln;n(Ln,t);class o extends i.AbstractMessageReader{constructor(_){super(),this._onData=new i.Emitter,this._messageListener=w=>{this._onData.fire(w.data)},_.addEventListener("error",w=>this.fireError(w)),_.onmessage=this._messageListener}listen(_){return this._onData.event(_)}}t.BrowserMessageReader=o;class s extends i.AbstractMessageWriter{constructor(_){super(),this.port=_,this.errorCount=0,_.addEventListener("error",w=>this.fireError(w))}write(_){try{return this.port.postMessage(_),Promise.resolve()}catch(w){return this.handleError(w,_),Promise.reject(w)}}handleError(_,w){this.errorCount++,this.fireError(_,w,this.errorCount)}end(){}}t.BrowserMessageWriter=s;function d(g,_,w,P){return w===void 0&&(w=i.NullLogger),i.ConnectionStrategy.is(P)&&(P={connectionStrategy:P}),(0,i.createMessageConnection)(g,_,w,P)}t.createMessageConnection=d}(mt);var Vo=mt,Jo={},ai;(function(t){function e(n){return typeof n=="string"}t.is=e})(ai||(ai={}));var xn;(function(t){function e(n){return typeof n=="string"}t.is=e})(xn||(xn={}));var ui;(function(t){t.MIN_VALUE=-2147483648,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(ui||(ui={}));var un;(function(t){t.MIN_VALUE=0,t.MAX_VALUE=2147483647;function e(n){return typeof n=="number"&&t.MIN_VALUE<=n&&n<=t.MAX_VALUE}t.is=e})(un||(un={}));var ke;(function(t){function e(r,i){return r===Number.MAX_VALUE&&(r=un.MAX_VALUE),i===Number.MAX_VALUE&&(i=un.MAX_VALUE),{line:r,character:i}}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&l.uinteger(i.line)&&l.uinteger(i.character)}t.is=n})(ke||(ke={}));var Z;(function(t){function e(r,i,o,s){if(l.uinteger(r)&&l.uinteger(i)&&l.uinteger(o)&&l.uinteger(s))return{start:ke.create(r,i),end:ke.create(o,s)};if(ke.is(r)&&ke.is(i))return{start:r,end:i};throw new Error(`Range#create called with invalid arguments[${r}, ${i}, ${o}, ${s}]`)}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&ke.is(i.start)&&ke.is(i.end)}t.is=n})(Z||(Z={}));var dn;(function(t){function e(r,i){return{uri:r,range:i}}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&Z.is(i.range)&&(l.string(i.uri)||l.undefined(i.uri))}t.is=n})(dn||(dn={}));var di;(function(t){function e(r,i,o,s){return{targetUri:r,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&Z.is(i.targetRange)&&l.string(i.targetUri)&&Z.is(i.targetSelectionRange)&&(Z.is(i.originSelectionRange)||l.undefined(i.originSelectionRange))}t.is=n})(di||(di={}));var zn;(function(t){function e(r,i,o,s){return{red:r,green:i,blue:o,alpha:s}}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&l.numberRange(i.red,0,1)&&l.numberRange(i.green,0,1)&&l.numberRange(i.blue,0,1)&&l.numberRange(i.alpha,0,1)}t.is=n})(zn||(zn={}));var li;(function(t){function e(r,i){return{range:r,color:i}}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&Z.is(i.range)&&zn.is(i.color)}t.is=n})(li||(li={}));var fi;(function(t){function e(r,i,o){return{label:r,textEdit:i,additionalTextEdits:o}}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&l.string(i.label)&&(l.undefined(i.textEdit)||We.is(i))&&(l.undefined(i.additionalTextEdits)||l.typedArray(i.additionalTextEdits,We.is))}t.is=n})(fi||(fi={}));var gi;(function(t){t.Comment="comment",t.Imports="imports",t.Region="region"})(gi||(gi={}));var _i;(function(t){function e(r,i,o,s,d,g){const _={startLine:r,endLine:i};return l.defined(o)&&(_.startCharacter=o),l.defined(s)&&(_.endCharacter=s),l.defined(d)&&(_.kind=d),l.defined(g)&&(_.collapsedText=g),_}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&l.uinteger(i.startLine)&&l.uinteger(i.startLine)&&(l.undefined(i.startCharacter)||l.uinteger(i.startCharacter))&&(l.undefined(i.endCharacter)||l.uinteger(i.endCharacter))&&(l.undefined(i.kind)||l.string(i.kind))}t.is=n})(_i||(_i={}));var Bn;(function(t){function e(r,i){return{location:r,message:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&dn.is(i.location)&&l.string(i.message)}t.is=n})(Bn||(Bn={}));var bi;(function(t){t.Error=1,t.Warning=2,t.Information=3,t.Hint=4})(bi||(bi={}));var hi;(function(t){t.Unnecessary=1,t.Deprecated=2})(hi||(hi={}));var mi;(function(t){function e(n){const r=n;return l.objectLiteral(r)&&l.string(r.href)}t.is=e})(mi||(mi={}));var ln;(function(t){function e(r,i,o,s,d,g){let _={range:r,message:i};return l.defined(o)&&(_.severity=o),l.defined(s)&&(_.code=s),l.defined(d)&&(_.source=d),l.defined(g)&&(_.relatedInformation=g),_}t.create=e;function n(r){var i;let o=r;return l.defined(o)&&Z.is(o.range)&&l.string(o.message)&&(l.number(o.severity)||l.undefined(o.severity))&&(l.integer(o.code)||l.string(o.code)||l.undefined(o.code))&&(l.undefined(o.codeDescription)||l.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(l.string(o.source)||l.undefined(o.source))&&(l.undefined(o.relatedInformation)||l.typedArray(o.relatedInformation,Bn.is))}t.is=n})(ln||(ln={}));var pt;(function(t){function e(r,i,...o){let s={title:r,command:i};return l.defined(o)&&o.length>0&&(s.arguments=o),s}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.title)&&l.string(i.command)}t.is=n})(pt||(pt={}));var We;(function(t){function e(o,s){return{range:o,newText:s}}t.replace=e;function n(o,s){return{range:{start:o,end:o},newText:s}}t.insert=n;function r(o){return{range:o,newText:""}}t.del=r;function i(o){const s=o;return l.objectLiteral(s)&&l.string(s.newText)&&Z.is(s.range)}t.is=i})(We||(We={}));var yt;(function(t){function e(r,i,o){const s={label:r};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&l.string(i.label)&&(l.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(l.string(i.description)||i.description===void 0)}t.is=n})(yt||(yt={}));var he;(function(t){function e(n){const r=n;return l.string(r)}t.is=e})(he||(he={}));var Qe;(function(t){function e(o,s,d){return{range:o,newText:s,annotationId:d}}t.replace=e;function n(o,s,d){return{range:{start:o,end:o},newText:s,annotationId:d}}t.insert=n;function r(o,s){return{range:o,newText:"",annotationId:s}}t.del=r;function i(o){const s=o;return We.is(s)&&(yt.is(s.annotationId)||he.is(s.annotationId))}t.is=i})(Qe||(Qe={}));var fn;(function(t){function e(r,i){return{textDocument:r,edits:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&gn.is(i.textDocument)&&Array.isArray(i.edits)}t.is=n})(fn||(fn={}));var Mt;(function(t){function e(r,i,o){let s={kind:"create",uri:r};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}t.create=e;function n(r){let i=r;return i&&i.kind==="create"&&l.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||l.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||l.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}t.is=n})(Mt||(Mt={}));var Ot;(function(t){function e(r,i,o,s){let d={kind:"rename",oldUri:r,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(d.options=o),s!==void 0&&(d.annotationId=s),d}t.create=e;function n(r){let i=r;return i&&i.kind==="rename"&&l.string(i.oldUri)&&l.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||l.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||l.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}t.is=n})(Ot||(Ot={}));var Et;(function(t){function e(r,i,o){let s={kind:"delete",uri:r};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}t.create=e;function n(r){let i=r;return i&&i.kind==="delete"&&l.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||l.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||l.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||he.is(i.annotationId))}t.is=n})(Et||(Et={}));var Un;(function(t){function e(n){let r=n;return r&&(r.changes!==void 0||r.documentChanges!==void 0)&&(r.documentChanges===void 0||r.documentChanges.every(i=>l.string(i.kind)?Mt.is(i)||Ot.is(i)||Et.is(i):fn.is(i)))}t.is=e})(Un||(Un={}));class Vn{constructor(e,n){this.edits=e,this.changeAnnotations=n}insert(e,n,r){let i,o;if(r===void 0?i=We.insert(e,n):he.is(r)?(o=r,i=Qe.insert(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Qe.insert(e,n,o)),this.edits.push(i),o!==void 0)return o}replace(e,n,r){let i,o;if(r===void 0?i=We.replace(e,n):he.is(r)?(o=r,i=Qe.replace(e,n,r)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(r),i=Qe.replace(e,n,o)),this.edits.push(i),o!==void 0)return o}delete(e,n){let r,i;if(n===void 0?r=We.del(e):he.is(n)?(i=n,r=Qe.del(e,n)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(n),r=Qe.del(e,i)),this.edits.push(r),i!==void 0)return i}add(e){this.edits.push(e)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(e){if(e===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}}class Xo{constructor(e){this._annotations=e===void 0?Object.create(null):e,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(e,n){let r;if(he.is(e)?r=e:(r=this.nextId(),n=e),this._annotations[r]!==void 0)throw new Error(`Id ${r} is already in use.`);if(n===void 0)throw new Error(`No annotation provided for id ${r}`);return this._annotations[r]=n,this._size++,r}nextId(){return this._counter++,this._counter.toString()}}class Ka{constructor(e){this._textEditChanges=Object.create(null),e!==void 0?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Xo(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach(n=>{if(fn.is(n)){const r=new Vn(n.edits,this._changeAnnotations);this._textEditChanges[n.textDocument.uri]=r}})):e.changes&&Object.keys(e.changes).forEach(n=>{const r=new Vn(e.changes[n]);this._textEditChanges[n]=r})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(e){if(gn.is(e)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");const n={uri:e.uri,version:e.version};let r=this._textEditChanges[n.uri];if(!r){const i=[],o={textDocument:n,edits:i};this._workspaceEdit.documentChanges.push(o),r=new Vn(i,this._changeAnnotations),this._textEditChanges[n.uri]=r}return r}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let n=this._textEditChanges[e];if(!n){let r=[];this._workspaceEdit.changes[e]=r,n=new Vn(r),this._textEditChanges[e]=n}return n}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Xo,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;yt.is(n)||he.is(n)?i=n:r=n;let o,s;if(i===void 0?o=Mt.create(e,r):(s=he.is(i)?i:this._changeAnnotations.manage(i),o=Mt.create(e,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(e,n,r,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;yt.is(r)||he.is(r)?o=r:i=r;let s,d;if(o===void 0?s=Ot.create(e,n,i):(d=he.is(o)?o:this._changeAnnotations.manage(o),s=Ot.create(e,n,i,d)),this._workspaceEdit.documentChanges.push(s),d!==void 0)return d}deleteFile(e,n,r){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;yt.is(n)||he.is(n)?i=n:r=n;let o,s;if(i===void 0?o=Et.create(e,r):(s=he.is(i)?i:this._changeAnnotations.manage(i),o=Et.create(e,r,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}}var wi;(function(t){function e(r){return{uri:r}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)}t.is=n})(wi||(wi={}));var pi;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&l.integer(i.version)}t.is=n})(pi||(pi={}));var gn;(function(t){function e(r,i){return{uri:r,version:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&(i.version===null||l.integer(i.version))}t.is=n})(gn||(gn={}));var yi;(function(t){function e(r,i,o,s){return{uri:r,languageId:i,version:o,text:s}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.string(i.uri)&&l.string(i.languageId)&&l.integer(i.version)&&l.string(i.text)}t.is=n})(yi||(yi={}));var Jn;(function(t){t.PlainText="plaintext",t.Markdown="markdown";function e(n){const r=n;return r===t.PlainText||r===t.Markdown}t.is=e})(Jn||(Jn={}));var Nt;(function(t){function e(n){const r=n;return l.objectLiteral(n)&&Jn.is(r.kind)&&l.string(r.value)}t.is=e})(Nt||(Nt={}));var vi;(function(t){t.Text=1,t.Method=2,t.Function=3,t.Constructor=4,t.Field=5,t.Variable=6,t.Class=7,t.Interface=8,t.Module=9,t.Property=10,t.Unit=11,t.Value=12,t.Enum=13,t.Keyword=14,t.Snippet=15,t.Color=16,t.File=17,t.Reference=18,t.Folder=19,t.EnumMember=20,t.Constant=21,t.Struct=22,t.Event=23,t.Operator=24,t.TypeParameter=25})(vi||(vi={}));var Ri;(function(t){t.PlainText=1,t.Snippet=2})(Ri||(Ri={}));var Di;(function(t){t.Deprecated=1})(Di||(Di={}));var Ti;(function(t){function e(r,i,o){return{newText:r,insert:i,replace:o}}t.create=e;function n(r){const i=r;return i&&l.string(i.newText)&&Z.is(i.insert)&&Z.is(i.replace)}t.is=n})(Ti||(Ti={}));var Pi;(function(t){t.asIs=1,t.adjustIndentation=2})(Pi||(Pi={}));var ki;(function(t){function e(n){const r=n;return r&&(l.string(r.detail)||r.detail===void 0)&&(l.string(r.description)||r.description===void 0)}t.is=e})(ki||(ki={}));var Si;(function(t){function e(n){return{label:n}}t.create=e})(Si||(Si={}));var Ci;(function(t){function e(n,r){return{items:n||[],isIncomplete:!!r}}t.create=e})(Ci||(Ci={}));var _n;(function(t){function e(r){return r.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}t.fromPlainText=e;function n(r){const i=r;return l.string(i)||l.objectLiteral(i)&&l.string(i.language)&&l.string(i.value)}t.is=n})(_n||(_n={}));var qi;(function(t){function e(n){let r=n;return!!r&&l.objectLiteral(r)&&(Nt.is(r.contents)||_n.is(r.contents)||l.typedArray(r.contents,_n.is))&&(n.range===void 0||Z.is(n.range))}t.is=e})(qi||(qi={}));var Mi;(function(t){function e(n,r){return r?{label:n,documentation:r}:{label:n}}t.create=e})(Mi||(Mi={}));var Oi;(function(t){function e(n,r,...i){let o={label:n};return l.defined(r)&&(o.documentation=r),l.defined(i)?o.parameters=i:o.parameters=[],o}t.create=e})(Oi||(Oi={}));var Ei;(function(t){t.Text=1,t.Read=2,t.Write=3})(Ei||(Ei={}));var Ni;(function(t){function e(n,r){let i={range:n};return l.number(r)&&(i.kind=r),i}t.create=e})(Ni||(Ni={}));var ji;(function(t){t.File=1,t.Module=2,t.Namespace=3,t.Package=4,t.Class=5,t.Method=6,t.Property=7,t.Field=8,t.Constructor=9,t.Enum=10,t.Interface=11,t.Function=12,t.Variable=13,t.Constant=14,t.String=15,t.Number=16,t.Boolean=17,t.Array=18,t.Object=19,t.Key=20,t.Null=21,t.EnumMember=22,t.Struct=23,t.Event=24,t.Operator=25,t.TypeParameter=26})(ji||(ji={}));var Fi;(function(t){t.Deprecated=1})(Fi||(Fi={}));var Li;(function(t){function e(n,r,i,o,s){let d={name:n,kind:r,location:{uri:o,range:i}};return s&&(d.containerName=s),d}t.create=e})(Li||(Li={}));var Ai;(function(t){function e(n,r,i,o){return o!==void 0?{name:n,kind:r,location:{uri:i,range:o}}:{name:n,kind:r,location:{uri:i}}}t.create=e})(Ai||(Ai={}));var Ii;(function(t){function e(r,i,o,s,d,g){let _={name:r,detail:i,kind:o,range:s,selectionRange:d};return g!==void 0&&(_.children=g),_}t.create=e;function n(r){let i=r;return i&&l.string(i.name)&&l.number(i.kind)&&Z.is(i.range)&&Z.is(i.selectionRange)&&(i.detail===void 0||l.string(i.detail))&&(i.deprecated===void 0||l.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}t.is=n})(Ii||(Ii={}));var Wi;(function(t){t.Empty="",t.QuickFix="quickfix",t.Refactor="refactor",t.RefactorExtract="refactor.extract",t.RefactorInline="refactor.inline",t.RefactorRewrite="refactor.rewrite",t.Source="source",t.SourceOrganizeImports="source.organizeImports",t.SourceFixAll="source.fixAll"})(Wi||(Wi={}));var bn;(function(t){t.Invoked=1,t.Automatic=2})(bn||(bn={}));var $i;(function(t){function e(r,i,o){let s={diagnostics:r};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}t.create=e;function n(r){let i=r;return l.defined(i)&&l.typedArray(i.diagnostics,ln.is)&&(i.only===void 0||l.typedArray(i.only,l.string))&&(i.triggerKind===void 0||i.triggerKind===bn.Invoked||i.triggerKind===bn.Automatic)}t.is=n})($i||($i={}));var Hi;(function(t){function e(r,i,o){let s={title:r},d=!0;return typeof i=="string"?(d=!1,s.kind=i):pt.is(i)?s.command=i:s.edit=i,d&&o!==void 0&&(s.kind=o),s}t.create=e;function n(r){let i=r;return i&&l.string(i.title)&&(i.diagnostics===void 0||l.typedArray(i.diagnostics,ln.is))&&(i.kind===void 0||l.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||pt.is(i.command))&&(i.isPreferred===void 0||l.boolean(i.isPreferred))&&(i.edit===void 0||Un.is(i.edit))}t.is=n})(Hi||(Hi={}));var xi;(function(t){function e(r,i){let o={range:r};return l.defined(i)&&(o.data=i),o}t.create=e;function n(r){let i=r;return l.defined(i)&&Z.is(i.range)&&(l.undefined(i.command)||pt.is(i.command))}t.is=n})(xi||(xi={}));var zi;(function(t){function e(r,i){return{tabSize:r,insertSpaces:i}}t.create=e;function n(r){let i=r;return l.defined(i)&&l.uinteger(i.tabSize)&&l.boolean(i.insertSpaces)}t.is=n})(zi||(zi={}));var Bi;(function(t){function e(r,i,o){return{range:r,target:i,data:o}}t.create=e;function n(r){let i=r;return l.defined(i)&&Z.is(i.range)&&(l.undefined(i.target)||l.string(i.target))}t.is=n})(Bi||(Bi={}));var Ui;(function(t){function e(r,i){return{range:r,parent:i}}t.create=e;function n(r){let i=r;return l.objectLiteral(i)&&Z.is(i.range)&&(i.parent===void 0||t.is(i.parent))}t.is=n})(Ui||(Ui={}));var Vi;(function(t){t.namespace="namespace",t.type="type",t.class="class",t.enum="enum",t.interface="interface",t.struct="struct",t.typeParameter="typeParameter",t.parameter="parameter",t.variable="variable",t.property="property",t.enumMember="enumMember",t.event="event",t.function="function",t.method="method",t.macro="macro",t.keyword="keyword",t.modifier="modifier",t.comment="comment",t.string="string",t.number="number",t.regexp="regexp",t.operator="operator",t.decorator="decorator"})(Vi||(Vi={}));var Ji;(function(t){t.declaration="declaration",t.definition="definition",t.readonly="readonly",t.static="static",t.deprecated="deprecated",t.abstract="abstract",t.async="async",t.modification="modification",t.documentation="documentation",t.defaultLibrary="defaultLibrary"})(Ji||(Ji={}));var Xi;(function(t){function e(n){const r=n;return l.objectLiteral(r)&&(r.resultId===void 0||typeof r.resultId=="string")&&Array.isArray(r.data)&&(r.data.length===0||typeof r.data[0]=="number")}t.is=e})(Xi||(Xi={}));var Qi;(function(t){function e(r,i){return{range:r,text:i}}t.create=e;function n(r){const i=r;return i!=null&&Z.is(i.range)&&l.string(i.text)}t.is=n})(Qi||(Qi={}));var Yi;(function(t){function e(r,i,o){return{range:r,variableName:i,caseSensitiveLookup:o}}t.create=e;function n(r){const i=r;return i!=null&&Z.is(i.range)&&l.boolean(i.caseSensitiveLookup)&&(l.string(i.variableName)||i.variableName===void 0)}t.is=n})(Yi||(Yi={}));var Ki;(function(t){function e(r,i){return{range:r,expression:i}}t.create=e;function n(r){const i=r;return i!=null&&Z.is(i.range)&&(l.string(i.expression)||i.expression===void 0)}t.is=n})(Ki||(Ki={}));var Gi;(function(t){function e(r,i){return{frameId:r,stoppedLocation:i}}t.create=e;function n(r){const i=r;return l.defined(i)&&Z.is(r.stoppedLocation)}t.is=n})(Gi||(Gi={}));var Xn;(function(t){t.Type=1,t.Parameter=2;function e(n){return n===1||n===2}t.is=e})(Xn||(Xn={}));var Qn;(function(t){function e(r){return{value:r}}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&(i.tooltip===void 0||l.string(i.tooltip)||Nt.is(i.tooltip))&&(i.location===void 0||dn.is(i.location))&&(i.command===void 0||pt.is(i.command))}t.is=n})(Qn||(Qn={}));var Zi;(function(t){function e(r,i,o){const s={position:r,label:i};return o!==void 0&&(s.kind=o),s}t.create=e;function n(r){const i=r;return l.objectLiteral(i)&&ke.is(i.position)&&(l.string(i.label)||l.typedArray(i.label,Qn.is))&&(i.kind===void 0||Xn.is(i.kind))&&i.textEdits===void 0||l.typedArray(i.textEdits,We.is)&&(i.tooltip===void 0||l.string(i.tooltip)||Nt.is(i.tooltip))&&(i.paddingLeft===void 0||l.boolean(i.paddingLeft))&&(i.paddingRight===void 0||l.boolean(i.paddingRight))}t.is=n})(Zi||(Zi={}));var eo;(function(t){function e(n){return{kind:"snippet",value:n}}t.createSnippet=e})(eo||(eo={}));var to;(function(t){function e(n,r,i,o){return{insertText:n,filterText:r,range:i,command:o}}t.create=e})(to||(to={}));var no;(function(t){function e(n){return{items:n}}t.create=e})(no||(no={}));var ro;(function(t){t.Invoked=0,t.Automatic=1})(ro||(ro={}));var io;(function(t){function e(n,r){return{range:n,text:r}}t.create=e})(io||(io={}));var oo;(function(t){function e(n,r){return{triggerKind:n,selectedCompletionInfo:r}}t.create=e})(oo||(oo={}));var co;(function(t){function e(n){const r=n;return l.objectLiteral(r)&&xn.is(r.uri)&&l.string(r.name)}t.is=e})(co||(co={}));const Ga=[`
`,`\r
`,"\r"];var so;(function(t){function e(o,s,d,g){return new Za(o,s,d,g)}t.create=e;function n(o){let s=o;return!!(l.defined(s)&&l.string(s.uri)&&(l.undefined(s.languageId)||l.string(s.languageId))&&l.uinteger(s.lineCount)&&l.func(s.getText)&&l.func(s.positionAt)&&l.func(s.offsetAt))}t.is=n;function r(o,s){let d=o.getText(),g=i(s,(w,P)=>{let v=w.range.start.line-P.range.start.line;return v===0?w.range.start.character-P.range.start.character:v}),_=d.length;for(let w=g.length-1;w>=0;w--){let P=g[w],v=o.offsetAt(P.range.start),M=o.offsetAt(P.range.end);if(M<=_)d=d.substring(0,v)+P.newText+d.substring(M,d.length);else throw new Error("Overlapping edit");_=v}return d}t.applyEdits=r;function i(o,s){if(o.length<=1)return o;const d=o.length/2|0,g=o.slice(0,d),_=o.slice(d);i(g,s),i(_,s);let w=0,P=0,v=0;for(;w<g.length&&P<_.length;)s(g[w],_[P])<=0?o[v++]=g[w++]:o[v++]=_[P++];for(;w<g.length;)o[v++]=g[w++];for(;P<_.length;)o[v++]=_[P++];return o}})(so||(so={}));class Za{constructor(e,n,r,i){this._uri=e,this._languageId=n,this._version=r,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(e){if(e){let n=this.offsetAt(e.start),r=this.offsetAt(e.end);return this._content.substring(n,r)}return this._content}update(e,n){this._content=e.text,this._version=n,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let e=[],n=this._content,r=!0;for(let i=0;i<n.length;i++){r&&(e.push(i),r=!1);let o=n.charAt(i);r=o==="\r"||o===`
`,o==="\r"&&i+1<n.length&&n.charAt(i+1)===`
`&&i++}r&&n.length>0&&e.push(n.length),this._lineOffsets=e}return this._lineOffsets}positionAt(e){e=Math.max(Math.min(e,this._content.length),0);let n=this.getLineOffsets(),r=0,i=n.length;if(i===0)return ke.create(0,e);for(;r<i;){let s=Math.floor((r+i)/2);n[s]>e?i=s:r=s+1}let o=r-1;return ke.create(o,e-n[o])}offsetAt(e){let n=this.getLineOffsets();if(e.line>=n.length)return this._content.length;if(e.line<0)return 0;let r=n[e.line],i=e.line+1<n.length?n[e.line+1]:this._content.length;return Math.max(Math.min(r+e.character,i),r)}get lineCount(){return this.getLineOffsets().length}}var l;(function(t){const e=Object.prototype.toString;function n(M){return typeof M<"u"}t.defined=n;function r(M){return typeof M>"u"}t.undefined=r;function i(M){return M===!0||M===!1}t.boolean=i;function o(M){return e.call(M)==="[object String]"}t.string=o;function s(M){return e.call(M)==="[object Number]"}t.number=s;function d(M,W,be){return e.call(M)==="[object Number]"&&W<=M&&M<=be}t.numberRange=d;function g(M){return e.call(M)==="[object Number]"&&-2147483648<=M&&M<=2147483647}t.integer=g;function _(M){return e.call(M)==="[object Number]"&&0<=M&&M<=2147483647}t.uinteger=_;function w(M){return e.call(M)==="[object Function]"}t.func=w;function P(M){return M!==null&&typeof M=="object"}t.objectLiteral=P;function v(M,W){return Array.isArray(M)&&M.every(W)}t.typedArray=v})(l||(l={}));var eu=Object.freeze({__proto__:null,get AnnotatedTextEdit(){return Qe},get ChangeAnnotation(){return yt},get ChangeAnnotationIdentifier(){return he},get CodeAction(){return Hi},get CodeActionContext(){return $i},get CodeActionKind(){return Wi},get CodeActionTriggerKind(){return bn},get CodeDescription(){return mi},get CodeLens(){return xi},get Color(){return zn},get ColorInformation(){return li},get ColorPresentation(){return fi},get Command(){return pt},get CompletionItem(){return Si},get CompletionItemKind(){return vi},get CompletionItemLabelDetails(){return ki},get CompletionItemTag(){return Di},get CompletionList(){return Ci},get CreateFile(){return Mt},get DeleteFile(){return Et},get Diagnostic(){return ln},get DiagnosticRelatedInformation(){return Bn},get DiagnosticSeverity(){return bi},get DiagnosticTag(){return hi},get DocumentHighlight(){return Ni},get DocumentHighlightKind(){return Ei},get DocumentLink(){return Bi},get DocumentSymbol(){return Ii},get DocumentUri(){return ai},EOL:Ga,get FoldingRange(){return _i},get FoldingRangeKind(){return gi},get FormattingOptions(){return zi},get Hover(){return qi},get InlayHint(){return Zi},get InlayHintKind(){return Xn},get InlayHintLabelPart(){return Qn},get InlineCompletionContext(){return oo},get InlineCompletionItem(){return to},get InlineCompletionList(){return no},get InlineCompletionTriggerKind(){return ro},get InlineValueContext(){return Gi},get InlineValueEvaluatableExpression(){return Ki},get InlineValueText(){return Qi},get InlineValueVariableLookup(){return Yi},get InsertReplaceEdit(){return Ti},get InsertTextFormat(){return Ri},get InsertTextMode(){return Pi},get Location(){return dn},get LocationLink(){return di},get MarkedString(){return _n},get MarkupContent(){return Nt},get MarkupKind(){return Jn},get OptionalVersionedTextDocumentIdentifier(){return gn},get ParameterInformation(){return Mi},get Position(){return ke},get Range(){return Z},get RenameFile(){return Ot},get SelectedCompletionInfo(){return io},get SelectionRange(){return Ui},get SemanticTokenModifiers(){return Ji},get SemanticTokenTypes(){return Vi},get SemanticTokens(){return Xi},get SignatureInformation(){return Oi},get StringValue(){return eo},get SymbolInformation(){return Li},get SymbolKind(){return ji},get SymbolTag(){return Fi},get TextDocument(){return so},get TextDocumentEdit(){return fn},get TextDocumentIdentifier(){return wi},get TextDocumentItem(){return yi},get TextEdit(){return We},get URI(){return xn},get VersionedTextDocumentIdentifier(){return pi},WorkspaceChange:Ka,get WorkspaceEdit(){return Un},get WorkspaceFolder(){return co},get WorkspaceSymbol(){return Ai},get integer(){return ui},get uinteger(){return un}}),ao=Ks(eu),H={};Object.defineProperty(H,"__esModule",{value:!0}),H.ProtocolNotificationType=H.ProtocolNotificationType0=H.ProtocolRequestType=H.ProtocolRequestType0=H.RegistrationType=H.MessageDirection=void 0;const jt=mt;var Qo;(function(t){t.clientToServer="clientToServer",t.serverToClient="serverToClient",t.both="both"})(Qo||(H.MessageDirection=Qo={}));class tu{constructor(e){this.method=e}}H.RegistrationType=tu;class nu extends jt.RequestType0{constructor(e){super(e)}}H.ProtocolRequestType0=nu;class ru extends jt.RequestType{constructor(e){super(e,jt.ParameterStructures.byName)}}H.ProtocolRequestType=ru;class iu extends jt.NotificationType0{constructor(e){super(e)}}H.ProtocolNotificationType0=iu;class ou extends jt.NotificationType{constructor(e){super(e,jt.ParameterStructures.byName)}}H.ProtocolNotificationType=ou;var Yo={},ee={};Object.defineProperty(ee,"__esModule",{value:!0}),ee.objectLiteral=ee.typedArray=ee.stringArray=ee.array=ee.func=ee.error=ee.number=ee.string=ee.boolean=void 0;function cu(t){return t===!0||t===!1}ee.boolean=cu;function Ko(t){return typeof t=="string"||t instanceof String}ee.string=Ko;function su(t){return typeof t=="number"||t instanceof Number}ee.number=su;function au(t){return t instanceof Error}ee.error=au;function uu(t){return typeof t=="function"}ee.func=uu;function Go(t){return Array.isArray(t)}ee.array=Go;function du(t){return Go(t)&&t.every(e=>Ko(e))}ee.stringArray=du;function lu(t,e){return Array.isArray(t)&&t.every(e)}ee.typedArray=lu;function fu(t){return t!==null&&typeof t=="object"}ee.objectLiteral=fu;var Yn={};Object.defineProperty(Yn,"__esModule",{value:!0}),Yn.ImplementationRequest=void 0;const Zo=H;var ec;(function(t){t.method="textDocument/implementation",t.messageDirection=Zo.MessageDirection.clientToServer,t.type=new Zo.ProtocolRequestType(t.method)})(ec||(Yn.ImplementationRequest=ec={}));var Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.TypeDefinitionRequest=void 0;const tc=H;var nc;(function(t){t.method="textDocument/typeDefinition",t.messageDirection=tc.MessageDirection.clientToServer,t.type=new tc.ProtocolRequestType(t.method)})(nc||(Kn.TypeDefinitionRequest=nc={}));var Ft={};Object.defineProperty(Ft,"__esModule",{value:!0}),Ft.DidChangeWorkspaceFoldersNotification=Ft.WorkspaceFoldersRequest=void 0;const Gn=H;var rc;(function(t){t.method="workspace/workspaceFolders",t.messageDirection=Gn.MessageDirection.serverToClient,t.type=new Gn.ProtocolRequestType0(t.method)})(rc||(Ft.WorkspaceFoldersRequest=rc={}));var ic;(function(t){t.method="workspace/didChangeWorkspaceFolders",t.messageDirection=Gn.MessageDirection.clientToServer,t.type=new Gn.ProtocolNotificationType(t.method)})(ic||(Ft.DidChangeWorkspaceFoldersNotification=ic={}));var Zn={};Object.defineProperty(Zn,"__esModule",{value:!0}),Zn.ConfigurationRequest=void 0;const oc=H;var cc;(function(t){t.method="workspace/configuration",t.messageDirection=oc.MessageDirection.serverToClient,t.type=new oc.ProtocolRequestType(t.method)})(cc||(Zn.ConfigurationRequest=cc={}));var Lt={};Object.defineProperty(Lt,"__esModule",{value:!0}),Lt.ColorPresentationRequest=Lt.DocumentColorRequest=void 0;const er=H;var sc;(function(t){t.method="textDocument/documentColor",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(sc||(Lt.DocumentColorRequest=sc={}));var ac;(function(t){t.method="textDocument/colorPresentation",t.messageDirection=er.MessageDirection.clientToServer,t.type=new er.ProtocolRequestType(t.method)})(ac||(Lt.ColorPresentationRequest=ac={}));var At={};Object.defineProperty(At,"__esModule",{value:!0}),At.FoldingRangeRefreshRequest=At.FoldingRangeRequest=void 0;const tr=H;var uc;(function(t){t.method="textDocument/foldingRange",t.messageDirection=tr.MessageDirection.clientToServer,t.type=new tr.ProtocolRequestType(t.method)})(uc||(At.FoldingRangeRequest=uc={}));var dc;(function(t){t.method="workspace/foldingRange/refresh",t.messageDirection=tr.MessageDirection.serverToClient,t.type=new tr.ProtocolRequestType0(t.method)})(dc||(At.FoldingRangeRefreshRequest=dc={}));var nr={};Object.defineProperty(nr,"__esModule",{value:!0}),nr.DeclarationRequest=void 0;const lc=H;var fc;(function(t){t.method="textDocument/declaration",t.messageDirection=lc.MessageDirection.clientToServer,t.type=new lc.ProtocolRequestType(t.method)})(fc||(nr.DeclarationRequest=fc={}));var rr={};Object.defineProperty(rr,"__esModule",{value:!0}),rr.SelectionRangeRequest=void 0;const gc=H;var _c;(function(t){t.method="textDocument/selectionRange",t.messageDirection=gc.MessageDirection.clientToServer,t.type=new gc.ProtocolRequestType(t.method)})(_c||(rr.SelectionRangeRequest=_c={}));var rt={};Object.defineProperty(rt,"__esModule",{value:!0}),rt.WorkDoneProgressCancelNotification=rt.WorkDoneProgressCreateRequest=rt.WorkDoneProgress=void 0;const gu=mt,ir=H;var bc;(function(t){t.type=new gu.ProgressType;function e(n){return n===t.type}t.is=e})(bc||(rt.WorkDoneProgress=bc={}));var hc;(function(t){t.method="window/workDoneProgress/create",t.messageDirection=ir.MessageDirection.serverToClient,t.type=new ir.ProtocolRequestType(t.method)})(hc||(rt.WorkDoneProgressCreateRequest=hc={}));var mc;(function(t){t.method="window/workDoneProgress/cancel",t.messageDirection=ir.MessageDirection.clientToServer,t.type=new ir.ProtocolNotificationType(t.method)})(mc||(rt.WorkDoneProgressCancelNotification=mc={}));var it={};Object.defineProperty(it,"__esModule",{value:!0}),it.CallHierarchyOutgoingCallsRequest=it.CallHierarchyIncomingCallsRequest=it.CallHierarchyPrepareRequest=void 0;const It=H;var wc;(function(t){t.method="textDocument/prepareCallHierarchy",t.messageDirection=It.MessageDirection.clientToServer,t.type=new It.ProtocolRequestType(t.method)})(wc||(it.CallHierarchyPrepareRequest=wc={}));var pc;(function(t){t.method="callHierarchy/incomingCalls",t.messageDirection=It.MessageDirection.clientToServer,t.type=new It.ProtocolRequestType(t.method)})(pc||(it.CallHierarchyIncomingCallsRequest=pc={}));var yc;(function(t){t.method="callHierarchy/outgoingCalls",t.messageDirection=It.MessageDirection.clientToServer,t.type=new It.ProtocolRequestType(t.method)})(yc||(it.CallHierarchyOutgoingCallsRequest=yc={}));var Te={};Object.defineProperty(Te,"__esModule",{value:!0}),Te.SemanticTokensRefreshRequest=Te.SemanticTokensRangeRequest=Te.SemanticTokensDeltaRequest=Te.SemanticTokensRequest=Te.SemanticTokensRegistrationType=Te.TokenFormat=void 0;const Ye=H;var vc;(function(t){t.Relative="relative"})(vc||(Te.TokenFormat=vc={}));var hn;(function(t){t.method="textDocument/semanticTokens",t.type=new Ye.RegistrationType(t.method)})(hn||(Te.SemanticTokensRegistrationType=hn={}));var Rc;(function(t){t.method="textDocument/semanticTokens/full",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolRequestType(t.method),t.registrationMethod=hn.method})(Rc||(Te.SemanticTokensRequest=Rc={}));var Dc;(function(t){t.method="textDocument/semanticTokens/full/delta",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolRequestType(t.method),t.registrationMethod=hn.method})(Dc||(Te.SemanticTokensDeltaRequest=Dc={}));var Tc;(function(t){t.method="textDocument/semanticTokens/range",t.messageDirection=Ye.MessageDirection.clientToServer,t.type=new Ye.ProtocolRequestType(t.method),t.registrationMethod=hn.method})(Tc||(Te.SemanticTokensRangeRequest=Tc={}));var Pc;(function(t){t.method="workspace/semanticTokens/refresh",t.messageDirection=Ye.MessageDirection.serverToClient,t.type=new Ye.ProtocolRequestType0(t.method)})(Pc||(Te.SemanticTokensRefreshRequest=Pc={}));var or={};Object.defineProperty(or,"__esModule",{value:!0}),or.ShowDocumentRequest=void 0;const kc=H;var Sc;(function(t){t.method="window/showDocument",t.messageDirection=kc.MessageDirection.serverToClient,t.type=new kc.ProtocolRequestType(t.method)})(Sc||(or.ShowDocumentRequest=Sc={}));var cr={};Object.defineProperty(cr,"__esModule",{value:!0}),cr.LinkedEditingRangeRequest=void 0;const Cc=H;var qc;(function(t){t.method="textDocument/linkedEditingRange",t.messageDirection=Cc.MessageDirection.clientToServer,t.type=new Cc.ProtocolRequestType(t.method)})(qc||(cr.LinkedEditingRangeRequest=qc={}));var ve={};Object.defineProperty(ve,"__esModule",{value:!0}),ve.WillDeleteFilesRequest=ve.DidDeleteFilesNotification=ve.DidRenameFilesNotification=ve.WillRenameFilesRequest=ve.DidCreateFilesNotification=ve.WillCreateFilesRequest=ve.FileOperationPatternKind=void 0;const Se=H;var Mc;(function(t){t.file="file",t.folder="folder"})(Mc||(ve.FileOperationPatternKind=Mc={}));var Oc;(function(t){t.method="workspace/willCreateFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolRequestType(t.method)})(Oc||(ve.WillCreateFilesRequest=Oc={}));var Ec;(function(t){t.method="workspace/didCreateFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolNotificationType(t.method)})(Ec||(ve.DidCreateFilesNotification=Ec={}));var Nc;(function(t){t.method="workspace/willRenameFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolRequestType(t.method)})(Nc||(ve.WillRenameFilesRequest=Nc={}));var jc;(function(t){t.method="workspace/didRenameFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolNotificationType(t.method)})(jc||(ve.DidRenameFilesNotification=jc={}));var Fc;(function(t){t.method="workspace/didDeleteFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolNotificationType(t.method)})(Fc||(ve.DidDeleteFilesNotification=Fc={}));var Lc;(function(t){t.method="workspace/willDeleteFiles",t.messageDirection=Se.MessageDirection.clientToServer,t.type=new Se.ProtocolRequestType(t.method)})(Lc||(ve.WillDeleteFilesRequest=Lc={}));var ot={};Object.defineProperty(ot,"__esModule",{value:!0}),ot.MonikerRequest=ot.MonikerKind=ot.UniquenessLevel=void 0;const Ac=H;var Ic;(function(t){t.document="document",t.project="project",t.group="group",t.scheme="scheme",t.global="global"})(Ic||(ot.UniquenessLevel=Ic={}));var Wc;(function(t){t.$import="import",t.$export="export",t.local="local"})(Wc||(ot.MonikerKind=Wc={}));var $c;(function(t){t.method="textDocument/moniker",t.messageDirection=Ac.MessageDirection.clientToServer,t.type=new Ac.ProtocolRequestType(t.method)})($c||(ot.MonikerRequest=$c={}));var ct={};Object.defineProperty(ct,"__esModule",{value:!0}),ct.TypeHierarchySubtypesRequest=ct.TypeHierarchySupertypesRequest=ct.TypeHierarchyPrepareRequest=void 0;const Wt=H;var Hc;(function(t){t.method="textDocument/prepareTypeHierarchy",t.messageDirection=Wt.MessageDirection.clientToServer,t.type=new Wt.ProtocolRequestType(t.method)})(Hc||(ct.TypeHierarchyPrepareRequest=Hc={}));var xc;(function(t){t.method="typeHierarchy/supertypes",t.messageDirection=Wt.MessageDirection.clientToServer,t.type=new Wt.ProtocolRequestType(t.method)})(xc||(ct.TypeHierarchySupertypesRequest=xc={}));var zc;(function(t){t.method="typeHierarchy/subtypes",t.messageDirection=Wt.MessageDirection.clientToServer,t.type=new Wt.ProtocolRequestType(t.method)})(zc||(ct.TypeHierarchySubtypesRequest=zc={}));var $t={};Object.defineProperty($t,"__esModule",{value:!0}),$t.InlineValueRefreshRequest=$t.InlineValueRequest=void 0;const sr=H;var Bc;(function(t){t.method="textDocument/inlineValue",t.messageDirection=sr.MessageDirection.clientToServer,t.type=new sr.ProtocolRequestType(t.method)})(Bc||($t.InlineValueRequest=Bc={}));var Uc;(function(t){t.method="workspace/inlineValue/refresh",t.messageDirection=sr.MessageDirection.serverToClient,t.type=new sr.ProtocolRequestType0(t.method)})(Uc||($t.InlineValueRefreshRequest=Uc={}));var st={};Object.defineProperty(st,"__esModule",{value:!0}),st.InlayHintRefreshRequest=st.InlayHintResolveRequest=st.InlayHintRequest=void 0;const Ht=H;var Vc;(function(t){t.method="textDocument/inlayHint",t.messageDirection=Ht.MessageDirection.clientToServer,t.type=new Ht.ProtocolRequestType(t.method)})(Vc||(st.InlayHintRequest=Vc={}));var Jc;(function(t){t.method="inlayHint/resolve",t.messageDirection=Ht.MessageDirection.clientToServer,t.type=new Ht.ProtocolRequestType(t.method)})(Jc||(st.InlayHintResolveRequest=Jc={}));var Xc;(function(t){t.method="workspace/inlayHint/refresh",t.messageDirection=Ht.MessageDirection.serverToClient,t.type=new Ht.ProtocolRequestType0(t.method)})(Xc||(st.InlayHintRefreshRequest=Xc={}));var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.DiagnosticRefreshRequest=Ce.WorkspaceDiagnosticRequest=Ce.DocumentDiagnosticRequest=Ce.DocumentDiagnosticReportKind=Ce.DiagnosticServerCancellationData=void 0;const Qc=mt,_u=ee,xt=H;var Yc;(function(t){function e(n){const r=n;return r&&_u.boolean(r.retriggerRequest)}t.is=e})(Yc||(Ce.DiagnosticServerCancellationData=Yc={}));var Kc;(function(t){t.Full="full",t.Unchanged="unchanged"})(Kc||(Ce.DocumentDiagnosticReportKind=Kc={}));var Gc;(function(t){t.method="textDocument/diagnostic",t.messageDirection=xt.MessageDirection.clientToServer,t.type=new xt.ProtocolRequestType(t.method),t.partialResult=new Qc.ProgressType})(Gc||(Ce.DocumentDiagnosticRequest=Gc={}));var Zc;(function(t){t.method="workspace/diagnostic",t.messageDirection=xt.MessageDirection.clientToServer,t.type=new xt.ProtocolRequestType(t.method),t.partialResult=new Qc.ProgressType})(Zc||(Ce.WorkspaceDiagnosticRequest=Zc={}));var es;(function(t){t.method="workspace/diagnostic/refresh",t.messageDirection=xt.MessageDirection.serverToClient,t.type=new xt.ProtocolRequestType0(t.method)})(es||(Ce.DiagnosticRefreshRequest=es={}));var te={};Object.defineProperty(te,"__esModule",{value:!0}),te.DidCloseNotebookDocumentNotification=te.DidSaveNotebookDocumentNotification=te.DidChangeNotebookDocumentNotification=te.NotebookCellArrayChange=te.DidOpenNotebookDocumentNotification=te.NotebookDocumentSyncRegistrationType=te.NotebookDocument=te.NotebookCell=te.ExecutionSummary=te.NotebookCellKind=void 0;const mn=ao,Ne=ee,$e=H;var uo;(function(t){t.Markup=1,t.Code=2;function e(n){return n===1||n===2}t.is=e})(uo||(te.NotebookCellKind=uo={}));var lo;(function(t){function e(i,o){const s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}t.create=e;function n(i){const o=i;return Ne.objectLiteral(o)&&mn.uinteger.is(o.executionOrder)&&(o.success===void 0||Ne.boolean(o.success))}t.is=n;function r(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}t.equals=r})(lo||(te.ExecutionSummary=lo={}));var ar;(function(t){function e(o,s){return{kind:o,document:s}}t.create=e;function n(o){const s=o;return Ne.objectLiteral(s)&&uo.is(s.kind)&&mn.DocumentUri.is(s.document)&&(s.metadata===void 0||Ne.objectLiteral(s.metadata))}t.is=n;function r(o,s){const d=new Set;return o.document!==s.document&&d.add("document"),o.kind!==s.kind&&d.add("kind"),o.executionSummary!==s.executionSummary&&d.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&d.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!lo.equals(o.executionSummary,s.executionSummary)&&d.add("executionSummary"),d}t.diff=r;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;const d=Array.isArray(o),g=Array.isArray(s);if(d!==g)return!1;if(d&&g){if(o.length!==s.length)return!1;for(let _=0;_<o.length;_++)if(!i(o[_],s[_]))return!1}if(Ne.objectLiteral(o)&&Ne.objectLiteral(s)){const _=Object.keys(o),w=Object.keys(s);if(_.length!==w.length||(_.sort(),w.sort(),!i(_,w)))return!1;for(let P=0;P<_.length;P++){const v=_[P];if(!i(o[v],s[v]))return!1}}return!0}})(ar||(te.NotebookCell=ar={}));var ts;(function(t){function e(r,i,o,s){return{uri:r,notebookType:i,version:o,cells:s}}t.create=e;function n(r){const i=r;return Ne.objectLiteral(i)&&Ne.string(i.uri)&&mn.integer.is(i.version)&&Ne.typedArray(i.cells,ar.is)}t.is=n})(ts||(te.NotebookDocument=ts={}));var zt;(function(t){t.method="notebookDocument/sync",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.RegistrationType(t.method)})(zt||(te.NotebookDocumentSyncRegistrationType=zt={}));var ns;(function(t){t.method="notebookDocument/didOpen",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=zt.method})(ns||(te.DidOpenNotebookDocumentNotification=ns={}));var rs;(function(t){function e(r){const i=r;return Ne.objectLiteral(i)&&mn.uinteger.is(i.start)&&mn.uinteger.is(i.deleteCount)&&(i.cells===void 0||Ne.typedArray(i.cells,ar.is))}t.is=e;function n(r,i,o){const s={start:r,deleteCount:i};return o!==void 0&&(s.cells=o),s}t.create=n})(rs||(te.NotebookCellArrayChange=rs={}));var is;(function(t){t.method="notebookDocument/didChange",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=zt.method})(is||(te.DidChangeNotebookDocumentNotification=is={}));var os;(function(t){t.method="notebookDocument/didSave",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=zt.method})(os||(te.DidSaveNotebookDocumentNotification=os={}));var cs;(function(t){t.method="notebookDocument/didClose",t.messageDirection=$e.MessageDirection.clientToServer,t.type=new $e.ProtocolNotificationType(t.method),t.registrationMethod=zt.method})(cs||(te.DidCloseNotebookDocumentNotification=cs={}));var ur={};Object.defineProperty(ur,"__esModule",{value:!0}),ur.InlineCompletionRequest=void 0;const ss=H;var as;(function(t){t.method="textDocument/inlineCompletion",t.messageDirection=ss.MessageDirection.clientToServer,t.type=new ss.ProtocolRequestType(t.method)})(as||(ur.InlineCompletionRequest=as={})),function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRefreshRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangesFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.InlineCompletionRequest=t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=void 0;const e=H,n=ao,r=ee,i=Yn;Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return i.ImplementationRequest}});const o=Kn;Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return o.TypeDefinitionRequest}});const s=Ft;Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return s.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return s.DidChangeWorkspaceFoldersNotification}});const d=Zn;Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return d.ConfigurationRequest}});const g=Lt;Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return g.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return g.ColorPresentationRequest}});const _=At;Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return _.FoldingRangeRequest}}),Object.defineProperty(t,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return _.FoldingRangeRefreshRequest}});const w=nr;Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return w.DeclarationRequest}});const P=rr;Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return P.SelectionRangeRequest}});const v=rt;Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return v.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return v.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return v.WorkDoneProgressCancelNotification}});const M=it;Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return M.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return M.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return M.CallHierarchyPrepareRequest}});const W=Te;Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return W.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return W.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return W.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return W.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return W.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return W.SemanticTokensRegistrationType}});const be=or;Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return be.ShowDocumentRequest}});const me=cr;Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return me.LinkedEditingRangeRequest}});const $=ve;Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return $.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return $.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return $.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return $.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return $.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return $.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return $.WillDeleteFilesRequest}});const b=ot;Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return b.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return b.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return b.MonikerRequest}});const h=ct;Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return h.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return h.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return h.TypeHierarchySupertypesRequest}});const T=$t;Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return T.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return T.InlineValueRefreshRequest}});const ge=st;Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return ge.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return ge.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return ge.InlayHintRefreshRequest}});const ce=Ce;Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return ce.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return ce.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return ce.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return ce.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return ce.DiagnosticRefreshRequest}});const we=te;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return we.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return we.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return we.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return we.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return we.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return we.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return we.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return we.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return we.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return we.DidCloseNotebookDocumentNotification}});const Vt=ur;Object.defineProperty(t,"InlineCompletionRequest",{enumerable:!0,get:function(){return Vt.InlineCompletionRequest}});var lt;(function(a){function se(ae){const E=ae;return r.string(E)||r.string(E.language)||r.string(E.scheme)||r.string(E.pattern)}a.is=se})(lt||(t.TextDocumentFilter=lt={}));var Jt;(function(a){function se(ae){const E=ae;return r.objectLiteral(E)&&(r.string(E.notebookType)||r.string(E.scheme)||r.string(E.pattern))}a.is=se})(Jt||(t.NotebookDocumentFilter=Jt={}));var Re;(function(a){function se(ae){const E=ae;return r.objectLiteral(E)&&(r.string(E.notebook)||Jt.is(E.notebook))&&(E.language===void 0||r.string(E.language))}a.is=se})(Re||(t.NotebookCellTextDocumentFilter=Re={}));var yn;(function(a){function se(ae){if(!Array.isArray(ae))return!1;for(let E of ae)if(!r.string(E)&&!lt.is(E)&&!Re.is(E))return!1;return!0}a.is=se})(yn||(t.DocumentSelector=yn={}));var y;(function(a){a.method="client/registerCapability",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType(a.method)})(y||(t.RegistrationRequest=y={}));var F;(function(a){a.method="client/unregisterCapability",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType(a.method)})(F||(t.UnregistrationRequest=F={}));var L;(function(a){a.Create="create",a.Rename="rename",a.Delete="delete"})(L||(t.ResourceOperationKind=L={}));var O;(function(a){a.Abort="abort",a.Transactional="transactional",a.TextOnlyTransactional="textOnlyTransactional",a.Undo="undo"})(O||(t.FailureHandlingKind=O={}));var K;(function(a){a.UTF8="utf-8",a.UTF16="utf-16",a.UTF32="utf-32"})(K||(t.PositionEncodingKind=K={}));var kr;(function(a){function se(ae){const E=ae;return E&&r.string(E.id)&&E.id.length>0}a.hasId=se})(kr||(t.StaticRegistrationOptions=kr={}));var Sr;(function(a){function se(ae){const E=ae;return E&&(E.documentSelector===null||yn.is(E.documentSelector))}a.is=se})(Sr||(t.TextDocumentRegistrationOptions=Sr={}));var Cr;(function(a){function se(E){const u=E;return r.objectLiteral(u)&&(u.workDoneProgress===void 0||r.boolean(u.workDoneProgress))}a.is=se;function ae(E){const u=E;return u&&r.boolean(u.workDoneProgress)}a.hasWorkDoneProgress=ae})(Cr||(t.WorkDoneProgressOptions=Cr={}));var ft;(function(a){a.method="initialize",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(ft||(t.InitializeRequest=ft={}));var gt;(function(a){a.unknownProtocolVersion=1})(gt||(t.InitializeErrorCodes=gt={}));var Dt;(function(a){a.method="initialized",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(Dt||(t.InitializedNotification=Dt={}));var _t;(function(a){a.method="shutdown",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType0(a.method)})(_t||(t.ShutdownRequest=_t={}));var Tt;(function(a){a.method="exit",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType0(a.method)})(Tt||(t.ExitNotification=Tt={}));var Pt;(function(a){a.method="workspace/didChangeConfiguration",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(Pt||(t.DidChangeConfigurationNotification=Pt={}));var Xt;(function(a){a.Error=1,a.Warning=2,a.Info=3,a.Log=4,a.Debug=5})(Xt||(t.MessageType=Xt={}));var He;(function(a){a.method="window/showMessage",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolNotificationType(a.method)})(He||(t.ShowMessageNotification=He={}));var xe;(function(a){a.method="window/showMessageRequest",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType(a.method)})(xe||(t.ShowMessageRequest=xe={}));var kt;(function(a){a.method="window/logMessage",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolNotificationType(a.method)})(kt||(t.LogMessageNotification=kt={}));var Oe;(function(a){a.method="telemetry/event",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolNotificationType(a.method)})(Oe||(t.TelemetryEventNotification=Oe={}));var V;(function(a){a.None=0,a.Full=1,a.Incremental=2})(V||(t.TextDocumentSyncKind=V={}));var ze;(function(a){a.method="textDocument/didOpen",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(ze||(t.DidOpenTextDocumentNotification=ze={}));var ne;(function(a){function se(E){let u=E;return u!=null&&typeof u.text=="string"&&u.range!==void 0&&(u.rangeLength===void 0||typeof u.rangeLength=="number")}a.isIncremental=se;function ae(E){let u=E;return u!=null&&typeof u.text=="string"&&u.range===void 0&&u.rangeLength===void 0}a.isFull=ae})(ne||(t.TextDocumentContentChangeEvent=ne={}));var je;(function(a){a.method="textDocument/didChange",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(je||(t.DidChangeTextDocumentNotification=je={}));var Qt;(function(a){a.method="textDocument/didClose",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(Qt||(t.DidCloseTextDocumentNotification=Qt={}));var vn;(function(a){a.method="textDocument/didSave",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(vn||(t.DidSaveTextDocumentNotification=vn={}));var Rn;(function(a){a.Manual=1,a.AfterDelay=2,a.FocusOut=3})(Rn||(t.TextDocumentSaveReason=Rn={}));var Dn;(function(a){a.method="textDocument/willSave",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(Dn||(t.WillSaveTextDocumentNotification=Dn={}));var Tn;(function(a){a.method="textDocument/willSaveWaitUntil",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Tn||(t.WillSaveTextDocumentWaitUntilRequest=Tn={}));var Fe;(function(a){a.method="workspace/didChangeWatchedFiles",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolNotificationType(a.method)})(Fe||(t.DidChangeWatchedFilesNotification=Fe={}));var Pn;(function(a){a.Created=1,a.Changed=2,a.Deleted=3})(Pn||(t.FileChangeType=Pn={}));var qr;(function(a){function se(ae){const E=ae;return r.objectLiteral(E)&&(n.URI.is(E.baseUri)||n.WorkspaceFolder.is(E.baseUri))&&r.string(E.pattern)}a.is=se})(qr||(t.RelativePattern=qr={}));var Mr;(function(a){a.Create=1,a.Change=2,a.Delete=4})(Mr||(t.WatchKind=Mr={}));var Or;(function(a){a.method="textDocument/publishDiagnostics",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolNotificationType(a.method)})(Or||(t.PublishDiagnosticsNotification=Or={}));var Er;(function(a){a.Invoked=1,a.TriggerCharacter=2,a.TriggerForIncompleteCompletions=3})(Er||(t.CompletionTriggerKind=Er={}));var kn;(function(a){a.method="textDocument/completion",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(kn||(t.CompletionRequest=kn={}));var Sn;(function(a){a.method="completionItem/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Sn||(t.CompletionResolveRequest=Sn={}));var Ke;(function(a){a.method="textDocument/hover",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ke||(t.HoverRequest=Ke={}));var Cn;(function(a){a.Invoked=1,a.TriggerCharacter=2,a.ContentChange=3})(Cn||(t.SignatureHelpTriggerKind=Cn={}));var Nr;(function(a){a.method="textDocument/signatureHelp",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Nr||(t.SignatureHelpRequest=Nr={}));var jr;(function(a){a.method="textDocument/definition",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(jr||(t.DefinitionRequest=jr={}));var qn;(function(a){a.method="textDocument/references",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(qn||(t.ReferencesRequest=qn={}));var Mn;(function(a){a.method="textDocument/documentHighlight",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Mn||(t.DocumentHighlightRequest=Mn={}));var Fr;(function(a){a.method="textDocument/documentSymbol",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Fr||(t.DocumentSymbolRequest=Fr={}));var Lr;(function(a){a.method="textDocument/codeAction",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Lr||(t.CodeActionRequest=Lr={}));var Ar;(function(a){a.method="codeAction/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ar||(t.CodeActionResolveRequest=Ar={}));var Ir;(function(a){a.method="workspace/symbol",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ir||(t.WorkspaceSymbolRequest=Ir={}));var Wr;(function(a){a.method="workspaceSymbol/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Wr||(t.WorkspaceSymbolResolveRequest=Wr={}));var $r;(function(a){a.method="textDocument/codeLens",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})($r||(t.CodeLensRequest=$r={}));var Le;(function(a){a.method="codeLens/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Le||(t.CodeLensResolveRequest=Le={}));var Hr;(function(a){a.method="workspace/codeLens/refresh",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType0(a.method)})(Hr||(t.CodeLensRefreshRequest=Hr={}));var xr;(function(a){a.method="textDocument/documentLink",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(xr||(t.DocumentLinkRequest=xr={}));var St;(function(a){a.method="documentLink/resolve",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(St||(t.DocumentLinkResolveRequest=St={}));var zr;(function(a){a.method="textDocument/formatting",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(zr||(t.DocumentFormattingRequest=zr={}));var Yt;(function(a){a.method="textDocument/rangeFormatting",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Yt||(t.DocumentRangeFormattingRequest=Yt={}));var Br;(function(a){a.method="textDocument/rangesFormatting",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Br||(t.DocumentRangesFormattingRequest=Br={}));var Ge;(function(a){a.method="textDocument/onTypeFormatting",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ge||(t.DocumentOnTypeFormattingRequest=Ge={}));var bt;(function(a){a.Identifier=1})(bt||(t.PrepareSupportDefaultBehavior=bt={}));var Ur;(function(a){a.method="textDocument/rename",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Ur||(t.RenameRequest=Ur={}));var Vr;(function(a){a.method="textDocument/prepareRename",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(Vr||(t.PrepareRenameRequest=Vr={}));var ht;(function(a){a.method="workspace/executeCommand",a.messageDirection=e.MessageDirection.clientToServer,a.type=new e.ProtocolRequestType(a.method)})(ht||(t.ExecuteCommandRequest=ht={}));var On;(function(a){a.method="workspace/applyEdit",a.messageDirection=e.MessageDirection.serverToClient,a.type=new e.ProtocolRequestType("workspace/applyEdit")})(On||(t.ApplyWorkspaceEditRequest=On={}))}(Yo);var dr={};Object.defineProperty(dr,"__esModule",{value:!0}),dr.createProtocolConnection=void 0;const us=mt;function bu(t,e,n,r){return us.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,us.createMessageConnection)(t,e,n,r)}dr.createProtocolConnection=bu,function(t){var e=de&&de.__createBinding||(Object.create?function(o,s,d,g){g===void 0&&(g=d);var _=Object.getOwnPropertyDescriptor(s,d);(!_||("get"in _?!s.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(o,g,_)}:function(o,s,d,g){g===void 0&&(g=d),o[g]=s[d]}),n=de&&de.__exportStar||function(o,s){for(var d in o)d!=="default"&&!Object.prototype.hasOwnProperty.call(s,d)&&e(s,o,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,n(mt,t),n(ao,t),n(H,t),n(Yo,t);var r=dr;Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return r.createProtocolConnection}});var i;(function(o){o.lspReservedErrorRangeStart=-32899,o.RequestFailed=-32803,o.ServerCancelled=-32802,o.ContentModified=-32801,o.RequestCancelled=-32800,o.lspReservedErrorRangeEnd=-32800})(i||(t.LSPErrorCodes=i={}))}(Jo),function(t){var e=de&&de.__createBinding||(Object.create?function(o,s,d,g){g===void 0&&(g=d);var _=Object.getOwnPropertyDescriptor(s,d);(!_||("get"in _?!s.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return s[d]}}),Object.defineProperty(o,g,_)}:function(o,s,d,g){g===void 0&&(g=d),o[g]=s[d]}),n=de&&de.__exportStar||function(o,s){for(var d in o)d!=="default"&&!Object.prototype.hasOwnProperty.call(s,d)&&e(s,o,d)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=Vo;n(Vo,t),n(Jo,t);function i(o,s,d,g){return(0,r.createMessageConnection)(o,s,d,g)}t.createProtocolConnection=i}(ie),Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.SemanticTokensBuilder=Ve.SemanticTokensDiff=Ve.SemanticTokensFeature=void 0;const lr=ie,hu=t=>class extends t{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(lr.SemanticTokensRefreshRequest.type),on:e=>{const n=lr.SemanticTokensRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onDelta:e=>{const n=lr.SemanticTokensDeltaRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onRange:e=>{const n=lr.SemanticTokensRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Ve.SemanticTokensFeature=hu;class ds{constructor(e,n){this.originalSequence=e,this.modifiedSequence=n}computeDiff(){const e=this.originalSequence.length,n=this.modifiedSequence.length;let r=0;for(;r<n&&r<e&&this.originalSequence[r]===this.modifiedSequence[r];)r++;if(r<n&&r<e){let i=e-1,o=n-1;for(;i>=r&&o>=r&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<r||o<r)&&(i++,o++);const s=i-r+1,d=this.modifiedSequence.slice(r,o+1);return d.length===1&&d[0]===this.originalSequence[i]?[{start:r,deleteCount:s-1}]:[{start:r,deleteCount:s,data:d}]}else return r<n?[{start:r,deleteCount:0,data:this.modifiedSequence.slice(r)}]:r<e?[{start:r,deleteCount:e-r}]:[]}}Ve.SemanticTokensDiff=ds;class mu{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(e,n,r,i,o){let s=e,d=n;this._dataLen>0&&(s-=this._prevLine,s===0&&(d-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=d,this._data[this._dataLen++]=r,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=e,this._prevChar=n}get id(){return this._id.toString()}previousResult(e){this.id===e&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new ds(this._prevData,this._data).computeDiff()}:this.build()}}Ve.SemanticTokensBuilder=mu;var fr={};Object.defineProperty(fr,"__esModule",{value:!0}),fr.InlineCompletionFeature=void 0;const wu=ie,pu=t=>class extends t{get inlineCompletion(){return{on:e=>this.connection.onRequest(wu.InlineCompletionRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};fr.InlineCompletionFeature=pu;var wn={};Object.defineProperty(wn,"__esModule",{value:!0}),wn.TextDocuments=void 0;const vt=ie;class yu{constructor(e){this._configuration=e,this._syncedDocuments=new Map,this._onDidChangeContent=new vt.Emitter,this._onDidOpen=new vt.Emitter,this._onDidClose=new vt.Emitter,this._onDidSave=new vt.Emitter,this._onWillSave=new vt.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(e){this._willSaveWaitUntil=e}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(e){return this._syncedDocuments.get(e)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(e){e.__textDocumentSync=vt.TextDocumentSyncKind.Incremental;const n=[];return n.push(e.onDidOpenTextDocument(r=>{const i=r.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);const s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),n.push(e.onDidChangeTextDocument(r=>{const i=r.textDocument,o=r.contentChanges;if(o.length===0)return;const{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let d=this._syncedDocuments.get(i.uri);d!==void 0&&(d=this._configuration.update(d,o,s),this._syncedDocuments.set(i.uri,d),this._onDidChangeContent.fire(Object.freeze({document:d})))})),n.push(e.onDidCloseTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(r.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),n.push(e.onWillSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:r.reason}))})),n.push(e.onWillSaveTextDocumentWaitUntil((r,i)=>{let o=this._syncedDocuments.get(r.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:r.reason}),i):[]})),n.push(e.onDidSaveTextDocument(r=>{let i=this._syncedDocuments.get(r.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),vt.Disposable.create(()=>{n.forEach(r=>r.dispose())})}}wn.TextDocuments=yu;var Rt={};Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.NotebookDocuments=Rt.NotebookSyncFeature=void 0;const qe=ie,ls=wn,vu=t=>class extends t{get synchronization(){return{onDidOpenNotebookDocument:e=>this.connection.onNotification(qe.DidOpenNotebookDocumentNotification.type,n=>{e(n)}),onDidChangeNotebookDocument:e=>this.connection.onNotification(qe.DidChangeNotebookDocumentNotification.type,n=>{e(n)}),onDidSaveNotebookDocument:e=>this.connection.onNotification(qe.DidSaveNotebookDocumentNotification.type,n=>{e(n)}),onDidCloseNotebookDocument:e=>this.connection.onNotification(qe.DidCloseNotebookDocumentNotification.type,n=>{e(n)})}}};Rt.NotebookSyncFeature=vu;class Bt{onDidOpenTextDocument(e){return this.openHandler=e,qe.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(e){this.openHandler&&this.openHandler(e)}onDidChangeTextDocument(e){return this.changeHandler=e,qe.Disposable.create(()=>{this.changeHandler=e})}changeTextDocument(e){this.changeHandler&&this.changeHandler(e)}onDidCloseTextDocument(e){return this.closeHandler=e,qe.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(e){this.closeHandler&&this.closeHandler(e)}onWillSaveTextDocument(){return Bt.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return Bt.NULL_DISPOSE}onDidSaveTextDocument(){return Bt.NULL_DISPOSE}}Bt.NULL_DISPOSE=Object.freeze({dispose:()=>{}});class Ru{constructor(e){e instanceof ls.TextDocuments?this._cellTextDocuments=e:this._cellTextDocuments=new ls.TextDocuments(e),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new qe.Emitter,this._onDidChange=new qe.Emitter,this._onDidSave=new qe.Emitter,this._onDidClose=new qe.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(e){return this._cellTextDocuments.get(e.document)}getNotebookDocument(e){return this.notebookDocuments.get(e)}getNotebookCell(e){const n=this.notebookCellMap.get(e);return n&&n[0]}findNotebookDocumentForCell(e){const n=typeof e=="string"?e:e.document,r=this.notebookCellMap.get(n);return r&&r[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(e){const n=new Bt,r=[];return r.push(this.cellTextDocuments.listen(n)),r.push(e.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(const o of i.cellTextDocuments)n.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),r.push(e.notebooks.synchronization.onDidChangeNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;const s=o.metadata;let d=!1;const g=i.change;g.metadata!==void 0&&(d=!0,o.metadata=g.metadata);const _=[],w=[],P=[],v=[];if(g.cells!==void 0){const $=g.cells;if($.structure!==void 0){const b=$.structure.array;if(o.cells.splice(b.start,b.deleteCount,...b.cells!==void 0?b.cells:[]),$.structure.didOpen!==void 0)for(const h of $.structure.didOpen)n.openTextDocument({textDocument:h}),_.push(h.uri);if($.structure.didClose)for(const h of $.structure.didClose)n.closeTextDocument({textDocument:h}),w.push(h.uri)}if($.data!==void 0){const b=new Map($.data.map(h=>[h.document,h]));for(let h=0;h<=o.cells.length;h++){const T=b.get(o.cells[h].document);if(T!==void 0){const ge=o.cells.splice(h,1,T);if(P.push({old:ge[0],new:T}),b.delete(T.document),b.size===0)break}}}if($.textContent!==void 0)for(const b of $.textContent)n.changeTextDocument({textDocument:b.document,contentChanges:b.changes}),v.push(b.document.uri)}this.updateCellMap(o);const M={notebookDocument:o};d&&(M.metadata={old:s,new:o.metadata});const W=[];for(const $ of _)W.push(this.getNotebookCell($));const be=[];for(const $ of w)be.push(this.getNotebookCell($));const me=[];for(const $ of v)me.push(this.getNotebookCell($));(W.length>0||be.length>0||P.length>0||me.length>0)&&(M.cells={added:W,removed:be,changed:{data:P,textContent:me}}),(M.metadata!==void 0||M.cells!==void 0)&&this._onDidChange.fire(M)})),r.push(e.notebooks.synchronization.onDidSaveNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),r.push(e.notebooks.synchronization.onDidCloseNotebookDocument(i=>{const o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(const s of i.cellTextDocuments)n.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(const s of o.cells)this.notebookCellMap.delete(s.document)}})),qe.Disposable.create(()=>{r.forEach(i=>i.dispose())})}updateCellMap(e){for(const n of e.cells)this.notebookCellMap.set(n.document,[n,e])}}Rt.NotebookDocuments=Ru;var z={},oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.thenable=oe.typedArray=oe.stringArray=oe.array=oe.func=oe.error=oe.number=oe.string=oe.boolean=void 0;function Du(t){return t===!0||t===!1}oe.boolean=Du;function fs(t){return typeof t=="string"||t instanceof String}oe.string=fs;function Tu(t){return typeof t=="number"||t instanceof Number}oe.number=Tu;function Pu(t){return t instanceof Error}oe.error=Pu;function gs(t){return typeof t=="function"}oe.func=gs;function _s(t){return Array.isArray(t)}oe.array=_s;function ku(t){return _s(t)&&t.every(e=>fs(e))}oe.stringArray=ku;function Su(t,e){return Array.isArray(t)&&t.every(e)}oe.typedArray=Su;function Cu(t){return t&&gs(t.then)}oe.thenable=Cu;var Pe={};Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.generateUuid=Pe.parse=Pe.isUUID=Pe.v4=Pe.empty=void 0;class fo{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class I extends fo{static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return I._oneOf(I._chars)}constructor(){super([I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),"-",I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),"-","4",I._randomHex(),I._randomHex(),I._randomHex(),"-",I._oneOf(I._timeHighBits),I._randomHex(),I._randomHex(),I._randomHex(),"-",I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex(),I._randomHex()].join(""))}}I._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],I._timeHighBits=["8","9","a","b"],Pe.empty=new fo("00000000-0000-0000-0000-000000000000");function bs(){return new I}Pe.v4=bs;const qu=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function hs(t){return qu.test(t)}Pe.isUUID=hs;function Mu(t){if(!hs(t))throw new Error("invalid uuid");return new fo(t)}Pe.parse=Mu;function Ou(){return bs().asHex()}Pe.generateUuid=Ou;var at={};Object.defineProperty(at,"__esModule",{value:!0}),at.attachPartialResult=at.ProgressFeature=at.attachWorkDone=void 0;const ut=ie,Eu=Pe;class dt{constructor(e,n){this._connection=e,this._token=n,dt.Instances.set(this._token,this)}begin(e,n,r,i){let o={kind:"begin",title:e,percentage:n,message:r,cancellable:i};this._connection.sendProgress(ut.WorkDoneProgress.type,this._token,o)}report(e,n){let r={kind:"report"};typeof e=="number"?(r.percentage=e,n!==void 0&&(r.message=n)):r.message=e,this._connection.sendProgress(ut.WorkDoneProgress.type,this._token,r)}done(){dt.Instances.delete(this._token),this._connection.sendProgress(ut.WorkDoneProgress.type,this._token,{kind:"end"})}}dt.Instances=new Map;class ms extends dt{constructor(e,n){super(e,n),this._source=new ut.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}}class go{constructor(){}begin(){}report(){}done(){}}class ws extends go{constructor(){super(),this._source=new ut.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}}function Nu(t,e){if(e===void 0||e.workDoneToken===void 0)return new go;const n=e.workDoneToken;return delete e.workDoneToken,new dt(t,n)}at.attachWorkDone=Nu;const ju=t=>class extends t{constructor(){super(),this._progressSupported=!1}initialize(e){super.initialize(e),e?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(ut.WorkDoneProgressCancelNotification.type,n=>{let r=dt.Instances.get(n.token);(r instanceof ms||r instanceof ws)&&r.cancel()}))}attachWorkDoneProgress(e){return e===void 0?new go:new dt(this.connection,e)}createWorkDoneProgress(){if(this._progressSupported){const e=(0,Eu.generateUuid)();return this.connection.sendRequest(ut.WorkDoneProgressCreateRequest.type,{token:e}).then(()=>new ms(this.connection,e))}else return Promise.resolve(new ws)}};at.ProgressFeature=ju;var _o;(function(t){t.type=new ut.ProgressType})(_o||(_o={}));class Fu{constructor(e,n){this._connection=e,this._token=n}report(e){this._connection.sendProgress(_o.type,this._token,e)}}function Lu(t,e){if(e===void 0||e.partialResultToken===void 0)return;const n=e.partialResultToken;return delete e.partialResultToken,new Fu(t,n)}at.attachPartialResult=Lu;var gr={};Object.defineProperty(gr,"__esModule",{value:!0}),gr.ConfigurationFeature=void 0;const Au=ie,Iu=oe,Wu=t=>class extends t{getConfiguration(e){return e?Iu.string(e)?this._getConfiguration({section:e}):this._getConfiguration(e):this._getConfiguration({})}_getConfiguration(e){let n={items:Array.isArray(e)?e:[e]};return this.connection.sendRequest(Au.ConfigurationRequest.type,n).then(r=>Array.isArray(r)?Array.isArray(e)?r:r[0]:Array.isArray(e)?[]:null)}};gr.ConfigurationFeature=Wu;var _r={};Object.defineProperty(_r,"__esModule",{value:!0}),_r.WorkspaceFoldersFeature=void 0;const br=ie,$u=t=>class extends t{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(e){super.initialize(e);let n=e.workspace;n&&n.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new br.Emitter,this.connection.onNotification(br.DidChangeWorkspaceFoldersNotification.type,r=>{this._onDidChangeWorkspaceFolders.fire(r.event)}))}fillServerCapabilities(e){super.fillServerCapabilities(e);const n=e.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=n===!0||typeof n=="string"}getWorkspaceFolders(){return this.connection.sendRequest(br.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(br.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};_r.WorkspaceFoldersFeature=$u;var hr={};Object.defineProperty(hr,"__esModule",{value:!0}),hr.CallHierarchyFeature=void 0;const bo=ie,Hu=t=>class extends t{get callHierarchy(){return{onPrepare:e=>this.connection.onRequest(bo.CallHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onIncomingCalls:e=>{const n=bo.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onOutgoingCalls:e=>{const n=bo.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};hr.CallHierarchyFeature=Hu;var mr={};Object.defineProperty(mr,"__esModule",{value:!0}),mr.ShowDocumentFeature=void 0;const xu=ie,zu=t=>class extends t{showDocument(e){return this.connection.sendRequest(xu.ShowDocumentRequest.type,e)}};mr.ShowDocumentFeature=zu;var wr={};Object.defineProperty(wr,"__esModule",{value:!0}),wr.FileOperationsFeature=void 0;const Ut=ie,Bu=t=>class extends t{onDidCreateFiles(e){return this.connection.onNotification(Ut.DidCreateFilesNotification.type,n=>{e(n)})}onDidRenameFiles(e){return this.connection.onNotification(Ut.DidRenameFilesNotification.type,n=>{e(n)})}onDidDeleteFiles(e){return this.connection.onNotification(Ut.DidDeleteFilesNotification.type,n=>{e(n)})}onWillCreateFiles(e){return this.connection.onRequest(Ut.WillCreateFilesRequest.type,(n,r)=>e(n,r))}onWillRenameFiles(e){return this.connection.onRequest(Ut.WillRenameFilesRequest.type,(n,r)=>e(n,r))}onWillDeleteFiles(e){return this.connection.onRequest(Ut.WillDeleteFilesRequest.type,(n,r)=>e(n,r))}};wr.FileOperationsFeature=Bu;var pr={};Object.defineProperty(pr,"__esModule",{value:!0}),pr.LinkedEditingRangeFeature=void 0;const Uu=ie,Vu=t=>class extends t{onLinkedEditingRange(e){return this.connection.onRequest(Uu.LinkedEditingRangeRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0))}};pr.LinkedEditingRangeFeature=Vu;var yr={};Object.defineProperty(yr,"__esModule",{value:!0}),yr.TypeHierarchyFeature=void 0;const ho=ie,Ju=t=>class extends t{get typeHierarchy(){return{onPrepare:e=>this.connection.onRequest(ho.TypeHierarchyPrepareRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),void 0)),onSupertypes:e=>{const n=ho.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))},onSubtypes:e=>{const n=ho.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};yr.TypeHierarchyFeature=Ju;var vr={};Object.defineProperty(vr,"__esModule",{value:!0}),vr.InlineValueFeature=void 0;const ps=ie,Xu=t=>class extends t{get inlineValue(){return{refresh:()=>this.connection.sendRequest(ps.InlineValueRefreshRequest.type),on:e=>this.connection.onRequest(ps.InlineValueRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n)))}}};vr.InlineValueFeature=Xu;var Rr={};Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.FoldingRangeFeature=void 0;const ys=ie,Qu=t=>class extends t{get foldingRange(){return{refresh:()=>this.connection.sendRequest(ys.FoldingRangeRefreshRequest.type),on:e=>{const n=ys.FoldingRangeRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Rr.FoldingRangeFeature=Qu;var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.InlayHintFeature=void 0;const mo=ie,Yu=t=>class extends t{get inlayHint(){return{refresh:()=>this.connection.sendRequest(mo.InlayHintRefreshRequest.type),on:e=>this.connection.onRequest(mo.InlayHintRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n))),resolve:e=>this.connection.onRequest(mo.InlayHintResolveRequest.type,(n,r)=>e(n,r))}}};Dr.InlayHintFeature=Yu;var Tr={};Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.DiagnosticFeature=void 0;const pn=ie,Ku=t=>class extends t{get diagnostics(){return{refresh:()=>this.connection.sendRequest(pn.DiagnosticRefreshRequest.type),on:e=>this.connection.onRequest(pn.DocumentDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(pn.DocumentDiagnosticRequest.partialResult,n))),onWorkspace:e=>this.connection.onRequest(pn.WorkspaceDiagnosticRequest.type,(n,r)=>e(n,r,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(pn.WorkspaceDiagnosticRequest.partialResult,n)))}}};Tr.DiagnosticFeature=Ku;var Pr={};Object.defineProperty(Pr,"__esModule",{value:!0}),Pr.MonikerFeature=void 0;const Gu=ie,Zu=t=>class extends t{get moniker(){return{on:e=>{const n=Gu.MonikerRequest.type;return this.connection.onRequest(n,(r,i)=>e(r,i,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(n,r)))}}}};Pr.MonikerFeature=Zu,Object.defineProperty(z,"__esModule",{value:!0}),z.createConnection=z.combineFeatures=z.combineNotebooksFeatures=z.combineLanguagesFeatures=z.combineWorkspaceFeatures=z.combineWindowFeatures=z.combineClientFeatures=z.combineTracerFeatures=z.combineTelemetryFeatures=z.combineConsoleFeatures=z._NotebooksImpl=z._LanguagesImpl=z.BulkUnregistration=z.BulkRegistration=z.ErrorMessageTracker=void 0;const D=ie,Me=oe,wo=Pe,N=at,ed=gr,td=_r,nd=hr,rd=Ve,id=mr,od=wr,cd=pr,sd=yr,ad=vr,ud=Rr,dd=Dr,ld=Tr,fd=Rt,gd=Pr;function po(t){if(t!==null)return t}class _d{constructor(){this._messages=Object.create(null)}add(e){let n=this._messages[e];n||(n=0),n++,this._messages[e]=n}sendErrors(e){Object.keys(this._messages).forEach(n=>{e.window.showErrorMessage(n)})}}z.ErrorMessageTracker=_d;class vs{constructor(){}rawAttach(e){this._rawConnection=e}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(e){}initialize(e){}error(e){this.send(D.MessageType.Error,e)}warn(e){this.send(D.MessageType.Warning,e)}info(e){this.send(D.MessageType.Info,e)}log(e){this.send(D.MessageType.Log,e)}debug(e){this.send(D.MessageType.Debug,e)}send(e,n){this._rawConnection&&this._rawConnection.sendNotification(D.LogMessageNotification.type,{type:e,message:n}).catch(()=>{(0,D.RAL)().console.error("Sending log message failed")})}}class bd{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}showErrorMessage(e,...n){let r={type:D.MessageType.Error,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(po)}showWarningMessage(e,...n){let r={type:D.MessageType.Warning,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(po)}showInformationMessage(e,...n){let r={type:D.MessageType.Info,message:e,actions:n};return this.connection.sendRequest(D.ShowMessageRequest.type,r).then(po)}}const Rs=(0,id.ShowDocumentFeature)((0,N.ProgressFeature)(bd));var Ds;(function(t){function e(){return new Ts}t.create=e})(Ds||(z.BulkRegistration=Ds={}));class Ts{constructor(){this._registrations=[],this._registered=new Set}add(e,n){const r=Me.string(e)?e:e.method;if(this._registered.has(r))throw new Error(`${r} is already added to this registration`);const i=wo.generateUuid();this._registrations.push({id:i,method:r,registerOptions:n||{}}),this._registered.add(r)}asRegistrationParams(){return{registrations:this._registrations}}}var Ps;(function(t){function e(){return new yo(void 0,[])}t.create=e})(Ps||(z.BulkUnregistration=Ps={}));class yo{constructor(e,n){this._connection=e,this._unregistrations=new Map,n.forEach(r=>{this._unregistrations.set(r.method,r)})}get isAttached(){return!!this._connection}attach(e){this._connection=e}add(e){this._unregistrations.set(e.method,e)}dispose(){let e=[];for(let r of this._unregistrations.values())e.push(r);let n={unregisterations:e};this._connection.sendRequest(D.UnregistrationRequest.type,n).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(e){const n=Me.string(e)?e:e.method,r=this._unregistrations.get(n);if(!r)return!1;let i={unregisterations:[r]};return this._connection.sendRequest(D.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(n)},o=>{this._connection.console.info(`Un-registering request handler for ${r.id} failed.`)}),!0}}class ks{attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}register(e,n,r){return e instanceof Ts?this.registerMany(e):e instanceof yo?this.registerSingle1(e,n,r):this.registerSingle2(e,n)}registerSingle1(e,n,r){const i=Me.string(n)?n:n.method,o=wo.generateUuid();let s={registrations:[{id:o,method:i,registerOptions:r||{}}]};return e.isAttached||e.attach(this.connection),this.connection.sendRequest(D.RegistrationRequest.type,s).then(d=>(e.add({id:o,method:i}),e),d=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(d)))}registerSingle2(e,n){const r=Me.string(e)?e:e.method,i=wo.generateUuid();let o={registrations:[{id:i,method:r,registerOptions:n||{}}]};return this.connection.sendRequest(D.RegistrationRequest.type,o).then(s=>D.Disposable.create(()=>{this.unregisterSingle(i,r).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${r} failed.`),Promise.reject(s)))}unregisterSingle(e,n){let r={unregisterations:[{id:e,method:n}]};return this.connection.sendRequest(D.UnregistrationRequest.type,r).catch(()=>{this.connection.console.info(`Un-registering request handler for ${e} failed.`)})}registerMany(e){let n=e.asRegistrationParams();return this.connection.sendRequest(D.RegistrationRequest.type,n).then(()=>new yo(this._connection,n.registrations.map(r=>({id:r.id,method:r.method}))),r=>(this.connection.console.info("Bulk registration failed."),Promise.reject(r)))}}class hd{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}applyEdit(e){function n(i){return i&&!!i.edit}let r=n(e)?e:{edit:e};return this.connection.sendRequest(D.ApplyWorkspaceEditRequest.type,r)}}const Ss=(0,od.FileOperationsFeature)((0,td.WorkspaceFoldersFeature)((0,ed.ConfigurationFeature)(hd)));class Cs{constructor(){this._trace=D.Trace.Off}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}set trace(e){this._trace=e}log(e,n){this._trace!==D.Trace.Off&&this.connection.sendNotification(D.LogTraceNotification.type,{message:e,verbose:this._trace===D.Trace.Verbose?n:void 0}).catch(()=>{})}}class qs{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}logEvent(e){this.connection.sendNotification(D.TelemetryEventNotification.type,e).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}}class Ms{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,N.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,N.attachPartialResult)(this.connection,n)}}z._LanguagesImpl=Ms;const Os=(0,ud.FoldingRangeFeature)((0,gd.MonikerFeature)((0,ld.DiagnosticFeature)((0,dd.InlayHintFeature)((0,ad.InlineValueFeature)((0,sd.TypeHierarchyFeature)((0,cd.LinkedEditingRangeFeature)((0,rd.SemanticTokensFeature)((0,nd.CallHierarchyFeature)(Ms)))))))));class Es{constructor(){}attach(e){this._connection=e}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(e){}fillServerCapabilities(e){}attachWorkDoneProgress(e){return(0,N.attachWorkDone)(this.connection,e)}attachPartialResultProgress(e,n){return(0,N.attachPartialResult)(this.connection,n)}}z._NotebooksImpl=Es;const Ns=(0,fd.NotebookSyncFeature)(Es);function js(t,e){return function(n){return e(t(n))}}z.combineConsoleFeatures=js;function Fs(t,e){return function(n){return e(t(n))}}z.combineTelemetryFeatures=Fs;function Ls(t,e){return function(n){return e(t(n))}}z.combineTracerFeatures=Ls;function As(t,e){return function(n){return e(t(n))}}z.combineClientFeatures=As;function Is(t,e){return function(n){return e(t(n))}}z.combineWindowFeatures=Is;function Ws(t,e){return function(n){return e(t(n))}}z.combineWorkspaceFeatures=Ws;function $s(t,e){return function(n){return e(t(n))}}z.combineLanguagesFeatures=$s;function Hs(t,e){return function(n){return e(t(n))}}z.combineNotebooksFeatures=Hs;function md(t,e){function n(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:n(t.console,e.console,js),tracer:n(t.tracer,e.tracer,Ls),telemetry:n(t.telemetry,e.telemetry,Fs),client:n(t.client,e.client,As),window:n(t.window,e.window,Is),workspace:n(t.workspace,e.workspace,Ws),languages:n(t.languages,e.languages,$s),notebooks:n(t.notebooks,e.notebooks,Hs)}}z.combineFeatures=md;function wd(t,e,n){const r=n&&n.console?new(n.console(vs)):new vs,i=t(r);r.rawAttach(i);const o=n&&n.tracer?new(n.tracer(Cs)):new Cs,s=n&&n.telemetry?new(n.telemetry(qs)):new qs,d=n&&n.client?new(n.client(ks)):new ks,g=n&&n.window?new(n.window(Rs)):new Rs,_=n&&n.workspace?new(n.workspace(Ss)):new Ss,w=n&&n.languages?new(n.languages(Os)):new Os,P=n&&n.notebooks?new(n.notebooks(Ns)):new Ns,v=[r,o,s,d,g,_,w,P];function M(b){return b instanceof Promise?b:Me.thenable(b)?new Promise((h,T)=>{b.then(ge=>h(ge),ge=>T(ge))}):Promise.resolve(b)}let W,be,me,$={listen:()=>i.listen(),sendRequest:(b,...h)=>i.sendRequest(Me.string(b)?b:b.method,...h),onRequest:(b,h)=>i.onRequest(b,h),sendNotification:(b,h)=>{const T=Me.string(b)?b:b.method;return i.sendNotification(T,h)},onNotification:(b,h)=>i.onNotification(b,h),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:b=>(be=b,{dispose:()=>{be=void 0}}),onInitialized:b=>i.onNotification(D.InitializedNotification.type,b),onShutdown:b=>(W=b,{dispose:()=>{W=void 0}}),onExit:b=>(me=b,{dispose:()=>{me=void 0}}),get console(){return r},get telemetry(){return s},get tracer(){return o},get client(){return d},get window(){return g},get workspace(){return _},get languages(){return w},get notebooks(){return P},onDidChangeConfiguration:b=>i.onNotification(D.DidChangeConfigurationNotification.type,b),onDidChangeWatchedFiles:b=>i.onNotification(D.DidChangeWatchedFilesNotification.type,b),__textDocumentSync:void 0,onDidOpenTextDocument:b=>i.onNotification(D.DidOpenTextDocumentNotification.type,b),onDidChangeTextDocument:b=>i.onNotification(D.DidChangeTextDocumentNotification.type,b),onDidCloseTextDocument:b=>i.onNotification(D.DidCloseTextDocumentNotification.type,b),onWillSaveTextDocument:b=>i.onNotification(D.WillSaveTextDocumentNotification.type,b),onWillSaveTextDocumentWaitUntil:b=>i.onRequest(D.WillSaveTextDocumentWaitUntilRequest.type,b),onDidSaveTextDocument:b=>i.onNotification(D.DidSaveTextDocumentNotification.type,b),sendDiagnostics:b=>i.sendNotification(D.PublishDiagnosticsNotification.type,b),onHover:b=>i.onRequest(D.HoverRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onCompletion:b=>i.onRequest(D.CompletionRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onCompletionResolve:b=>i.onRequest(D.CompletionResolveRequest.type,b),onSignatureHelp:b=>i.onRequest(D.SignatureHelpRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onDeclaration:b=>i.onRequest(D.DeclarationRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onDefinition:b=>i.onRequest(D.DefinitionRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onTypeDefinition:b=>i.onRequest(D.TypeDefinitionRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onImplementation:b=>i.onRequest(D.ImplementationRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onReferences:b=>i.onRequest(D.ReferencesRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onDocumentHighlight:b=>i.onRequest(D.DocumentHighlightRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onDocumentSymbol:b=>i.onRequest(D.DocumentSymbolRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onWorkspaceSymbol:b=>i.onRequest(D.WorkspaceSymbolRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onWorkspaceSymbolResolve:b=>i.onRequest(D.WorkspaceSymbolResolveRequest.type,b),onCodeAction:b=>i.onRequest(D.CodeActionRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onCodeActionResolve:b=>i.onRequest(D.CodeActionResolveRequest.type,(h,T)=>b(h,T)),onCodeLens:b=>i.onRequest(D.CodeLensRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onCodeLensResolve:b=>i.onRequest(D.CodeLensResolveRequest.type,(h,T)=>b(h,T)),onDocumentFormatting:b=>i.onRequest(D.DocumentFormattingRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onDocumentRangeFormatting:b=>i.onRequest(D.DocumentRangeFormattingRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onDocumentOnTypeFormatting:b=>i.onRequest(D.DocumentOnTypeFormattingRequest.type,(h,T)=>b(h,T)),onRenameRequest:b=>i.onRequest(D.RenameRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),onPrepareRename:b=>i.onRequest(D.PrepareRenameRequest.type,(h,T)=>b(h,T)),onDocumentLinks:b=>i.onRequest(D.DocumentLinkRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onDocumentLinkResolve:b=>i.onRequest(D.DocumentLinkResolveRequest.type,(h,T)=>b(h,T)),onDocumentColor:b=>i.onRequest(D.DocumentColorRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onColorPresentation:b=>i.onRequest(D.ColorPresentationRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onFoldingRanges:b=>i.onRequest(D.FoldingRangeRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onSelectionRanges:b=>i.onRequest(D.SelectionRangeRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),(0,N.attachPartialResult)(i,h))),onExecuteCommand:b=>i.onRequest(D.ExecuteCommandRequest.type,(h,T)=>b(h,T,(0,N.attachWorkDone)(i,h),void 0)),dispose:()=>i.dispose()};for(let b of v)b.attach($);return i.onRequest(D.InitializeRequest.type,b=>{e.initialize(b),Me.string(b.trace)&&(o.trace=D.Trace.fromString(b.trace));for(let h of v)h.initialize(b.capabilities);if(be){let h=be(b,new D.CancellationTokenSource().token,(0,N.attachWorkDone)(i,b),void 0);return M(h).then(T=>{if(T instanceof D.ResponseError)return T;let ge=T;ge||(ge={capabilities:{}});let ce=ge.capabilities;ce||(ce={},ge.capabilities=ce),ce.textDocumentSync===void 0||ce.textDocumentSync===null?ce.textDocumentSync=Me.number($.__textDocumentSync)?$.__textDocumentSync:D.TextDocumentSyncKind.None:!Me.number(ce.textDocumentSync)&&!Me.number(ce.textDocumentSync.change)&&(ce.textDocumentSync.change=Me.number($.__textDocumentSync)?$.__textDocumentSync:D.TextDocumentSyncKind.None);for(let we of v)we.fillServerCapabilities(ce);return ge})}else{let h={capabilities:{textDocumentSync:D.TextDocumentSyncKind.None}};for(let T of v)T.fillServerCapabilities(h.capabilities);return h}}),i.onRequest(D.ShutdownRequest.type,()=>{if(e.shutdownReceived=!0,W)return W(new D.CancellationTokenSource().token)}),i.onNotification(D.ExitNotification.type,()=>{try{me&&me()}finally{e.shutdownReceived?e.exit(0):e.exit(1)}}),i.onNotification(D.SetTraceNotification.type,b=>{o.trace=D.Trace.fromString(b.value)}),$}z.createConnection=wd,function(t){var e=de&&de.__createBinding||(Object.create?function(g,_,w,P){P===void 0&&(P=w);var v=Object.getOwnPropertyDescriptor(_,w);(!v||("get"in v?!_.__esModule:v.writable||v.configurable))&&(v={enumerable:!0,get:function(){return _[w]}}),Object.defineProperty(g,P,v)}:function(g,_,w,P){P===void 0&&(P=w),g[P]=_[w]}),n=de&&de.__exportStar||function(g,_){for(var w in g)w!=="default"&&!Object.prototype.hasOwnProperty.call(_,w)&&e(_,g,w)};Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.NotebookDocuments=t.TextDocuments=t.SemanticTokensBuilder=void 0;const r=Ve;Object.defineProperty(t,"SemanticTokensBuilder",{enumerable:!0,get:function(){return r.SemanticTokensBuilder}});const i=fr;n(ie,t);const o=wn;Object.defineProperty(t,"TextDocuments",{enumerable:!0,get:function(){return o.TextDocuments}});const s=Rt;Object.defineProperty(t,"NotebookDocuments",{enumerable:!0,get:function(){return s.NotebookDocuments}}),n(z,t);var d;(function(g){g.all={__brand:"features",languages:i.InlineCompletionFeature}})(d||(t.ProposedFeatures=d={}))}(Yr);var pd=ie;(function(t){var e=de&&de.__createBinding||(Object.create?function(d,g,_,w){w===void 0&&(w=_);var P=Object.getOwnPropertyDescriptor(g,_);(!P||("get"in P?!g.__esModule:P.writable||P.configurable))&&(P={enumerable:!0,get:function(){return g[_]}}),Object.defineProperty(d,w,P)}:function(d,g,_,w){w===void 0&&(w=_),d[w]=g[_]}),n=de&&de.__exportStar||function(d,g){for(var _ in d)_!=="default"&&!Object.prototype.hasOwnProperty.call(g,_)&&e(g,d,_)};Object.defineProperty(t,"__esModule",{value:!0}),t.createConnection=void 0;const r=Yr;n(pd,t),n(Yr,t);let i=!1;const o={initialize:d=>{},get shutdownReceived(){return i},set shutdownReceived(d){i=d},exit:d=>{}};function s(d,g,_,w){let P,v,M,W;d!==void 0&&d.__brand==="features"&&(P=d,d=g,g=_,_=w),r.ConnectionStrategy.is(d)||r.ConnectionOptions.is(d)?W=d:(v=d,M=g,W=_);const be=me=>(0,r.createProtocolConnection)(v,M,me,W);return(0,r.createConnection)(be,o,P)}t.createConnection=s})(Co);var vo=Co;So().then(()=>{const t=new vo.BrowserMessageReader(self),e=new vo.BrowserMessageWriter(self);let n;const r=vo.createConnection(t,e);function i(d,g){return r.sendNotification(d,g),!0}async function o(d,g){return await r.sendRequest(d,g)}async function s(d){return await r.sendRequest("slint/load_file",d)}r.onInitialize(d=>(n=Vs(d,i,o,s),n.server_initialize_result(d.capabilities))),r.onRequest(async(d,g,_)=>await n.handle_request(_,d,g)),r.onNotification("slint/preview_to_lsp",async d=>{await n.process_preview_to_lsp_message(d)}),r.onDidChangeTextDocument(async d=>{await n.reload_document(d.contentChanges[d.contentChanges.length-1].text,d.textDocument.uri,d.textDocument.version)}),r.onDidOpenTextDocument(async d=>{await n.reload_document(d.textDocument.text,d.textDocument.uri,d.textDocument.version)}),r.onDidChangeConfiguration(async d=>{await n.reload_config()}),r.listen(),self.postMessage("OK")})})();
