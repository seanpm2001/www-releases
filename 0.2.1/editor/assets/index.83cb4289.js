import"./modulepreload-polyfill.b7f2da20.js";import{W as U,l as w,e as g}from"./vendor.c46ad207.js";import*as F from"../../wasm-interpreter/slint_wasm_interpreter.js";import R from"../../wasm-interpreter/slint_wasm_interpreter.js";const V={defaultToken:"invalid",root_keywords:["import","from","export"],inner_keywords:["property","callback","animate","states","transitions","if","for"],lang_keywords:["root","parent","this","if"],type_keywords:["int","string","float","length","physical_length","duration"],escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,symbols:/[\#\!\%\&\*\+\-\.\/\:\;\<\=\>\@\^\|_\?,()]+/,tokenizer:{root:[[/[a-zA-Z_][a-zA-Z0-9_]*/,{cases:{"@root_keywords":{token:"keyword"},"@default":"identifier"}}],{include:"@whitespace"},{include:"@numbers"},[/"/,"string","@string"],[/\{/,"","@inner"],[/@symbols/,""]],inner:[[/[a-zA-Z_][a-zA-Z0-9_\-]*\s*:=/,"variable.parameter"],[/[a-zA-Z_][a-zA-Z0-9_\-]*\s*:\s*\{/,"variable.parameter","@binding_1"],[/[a-zA-Z_][a-zA-Z0-9_\-]*\s*:/,"variable.parameter","@binding_0"],[/[a-zA-Z_][a-zA-Z0-9_\-]*/,{cases:{"@inner_keywords":{token:"keyword"},"@default":"identifier"}}],{include:"@whitespace"},{include:"@numbers"},[/"/,"string","@string"],[/\{/,"","@push"],[/\}/,"","@pop"],[/:=/,""],[/<=>/,"","@binding_0"],[/=>\s*{/,"","@binding_1"],[/\</,"","@type"],[/\[/,"","binding_1"],[/@symbols/,""]],type:[[/[a-zA-Z_][a-zA-Z0-9_]*/,{cases:{"@type_keywords":{token:"keyword.type"},"@default":"identifier"}}],{include:"@whitespace"},{include:"@numbers"},[/"/,"string","@string"],[/\</,"","@push"],[/\>/,"","@pop"],[/@symbols/,""]],binding_0:[{include:"@whitespace"},[/\{/,"","@binding_1"],[/;/,"","@pop"],[/\}/,"","@pop"],[/[a-zA-Z_][a-zA-Z0-9_]*/,{cases:{"@lang_keywords":{token:"keyword.type"},"@default":"identifier"}}],{include:"@numbers"},[/"/,"string","@string"],[/@symbols/,""]],binding_1:[[/[a-zA-Z_][a-zA-Z0-9_]*/,{cases:{"@lang_keywords":{token:"keyword.type"},"@default":"identifier"}}],{include:"@whitespace"},{include:"@numbers"},[/"/,"string","@string"],[/\{/,"","@push"],[/\}/,"","@pop"],[/\[/,"","@push"],[/\]/,"","@pop"],[/@symbols/,""]],whitespace:[[/[ \t\r\n]+/,"white"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],string:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],comment:[[/[^\/*]+/,"comment"],[/\/\*/,"comment","@push"],["\\*/","comment","@pop"],[/[\/*]/,"comment"]],numbers:[[/\d+(\.\d+)?\w*/,{token:"number"}],[/#[0-9a-fA-F]+/,{token:"number"}]]}};self.MonacoEnvironment={getWorker(l,c){return new U}};(async function(){await R(),w.register({id:"slint"}),w.onLanguage("slint",()=>{w.setMonarchTokensProvider("slint",V)});var l=g.create(document.getElementById("editor"),{language:"slint"}),c="",r=new Map;let v=`
import { SpinBox, Button, CheckBox, Slider, GroupBox } from "std-widgets.slint";
export Demo := Window {
    width:  300px;   // Width in logical pixels. All 'px' units are automatically scaled with screen resolution.
    height: 300px;
    t:= Text {
        text: "Hello World";
        font-size: 24px;
    }
    Image {
        y: 50px;
        source: @image-url("https://slint-ui.com/logo/slint-logo-full-light.svg");
    }
}
`;function k(e){_(),fetch(e).then(t=>t.text().then(n=>{c=e;let a=p(n,e);d(a,e)}))}let f=document.getElementById("select_combo");function C(){if(f.value){let t="master";var e;(e=window.location.pathname.match(/releases\/([^\/]*)\/editor/))&&(t="v"+e[1]),k(`https://raw.githubusercontent.com/slint-ui/slint/${t}/${f.value}`)}else _(),c="",p(v,""),d()}f.onchange=C;let I=document.getElementById("style_combo");I.onchange=m;let S=document.getElementById("compile_button");S.onclick=function(){m()};let h=document.getElementById("auto_compile");h.onchange=function(){h.checked&&m()};function N(e){if(e==="")return"unnamed.slint";try{let n=new URL(e).pathname;return n.substring(n.lastIndexOf("/")+1)}catch{return e}}function A(){h.checked&&(b&&clearTimeout(b),b=setTimeout(m,500))}function p(e,t){let n=g.createModel(e,"slint");return n.onDidChangeContent(function(){let a=document.getElementById("permalink"),o=new URLSearchParams;o.set("snippet",l.getModel().getValue());let s=new URL(window.location.toString());s.search=o.toString(),a.href=s.toString(),A()}),r.set(t,{model:n,view_state:null}),m(),n}function _(){let e=document.getElementById("tabs");e.innerHTML="",r.clear()}function d(e,t=""){let n=document.getElementById("tabs"),a=document.createElement("li");a.setAttribute("class","nav-item"),a.dataset.url=t,a.innerHTML=`<span class="nav-link">${N(t)}</span>`,n.appendChild(a),$(a).on("click",o=>{o.preventDefault(),z(t)}),n.childElementCount==1&&z(t)}function z(e){let t=document.querySelector('#tabs li[class~="nav-item"] span[class~="nav-link"][class~="active"]');if(t!=null){t.className="nav-link";let o=t.parentElement.dataset.url;if(o!=null){let s=r.get(o);s.view_state=l.saveViewState(),r.set(o,s)}}let n=document.querySelector(`#tabs li[class~="nav-item"][data-url="${e}"] span[class~="nav-link"]`);n!=null&&(n.className="nav-link active");let a=r.get(e);a!=null&&(l.setModel(a.model),a.view_state!=null&&l.restoreViewState(a.view_state),l.focus())}function m(){let e=r.get(c);if(e===void 0)return;let t=e.model.getValue(),n=document.getElementById("preview");setTimeout(function(){W(t,c,n)},1)}async function W(e,t,n){let a=document.getElementById("style_combo"),o="canvas_"+Math.random().toString(36).substr(2,9),s=document.createElement("canvas");s.width=800,s.height=600,s.id=o,n.innerHTML="",n.appendChild(s);var T=[];let{component:Z,diagnostics:H,error_string:B}=await F.compile_from_string_with_style(e,t,a.value,async i=>{let u=r.get(i);if(u===void 0){let L=await(await fetch(i)).text(),y=g.createModel(L,"slint");return y.onDidChangeContent(function(){A()}),r.set(i,{model:y,view_state:null}),d(y,i),L}return u.model.getValue()});if(B!=""){let i=document.createTextNode(B),u=document.createElement("pre");u.appendChild(i),n.innerHTML="<pre style='color: red; background-color:#fee; margin:0'>"+u.innerHTML+"</pre>"}T=H.map(function(i){return{severity:3-i.level,message:i.message,source:i.fileName,startLineNumber:i.lineNumber,startColumn:i.columnNumber,endLineNumber:i.lineNumber,endColumn:-1}}),g.setModelMarkers(l.getModel(),"slint",T),Z!==void 0&&Z.run(o)}let b;const M=new URLSearchParams(window.location.search),x=M.get("snippet"),E=M.get("load_url");x?(_(),p(x,""),d()):E?k(E):(_(),c="",p(v,""),d())})();
